/* ===== VARIÁVEIS CSS - NOVA PALETA QUENTE ===== */
:root {
    /* CORES PRINCIPAIS - QUENTES E ACOLHEDORAS */
    --color-primary-warm: #ff8fa3;        /* Rosa coral vibrante */
    --color-primary-soft: #ffb3c6;        /* Rosa pêssego suave */
    --color-accent-peach: #ffccd5;        /* Pêssego claro */
    --color-accent-cream: #ffe8f0;        /* Creme rosado */
    
    /* CORES DE FUNDO MAIS QUENTES */
    --bg-warm-1: #fff5f9;                 /* Branco rosado muito claro */
    --bg-warm-2: #ffeef5;                 /* Rosa creme claro */
    --bg-warm-3: #ffe8f0;                 /* Pêssego claro */
    
    /* CORES DE DESTAQUE */
    --color-golden: #ffd89b;              /* Dourado suave (para destaques) */
    --color-sage: #c4d5a0;                /* Verde sálvia (acalma, complementar) */
    --color-terracotta: #e07a5f;          /* Terracota (calor terroso) */
    
    /* CORES DE TEXTO */
    --text-warm-dark: #6b4a3f;            /* Marrom quente escuro */
    --text-warm-medium: #8b6a5a;          /* Marrom quente médio */
    --text-accent: #a84a5f;               /* Vinho rosado (para links) */
    
    /* CORES LEGACY (para compatibilidade durante transição) */
    --color-primary-old: #f4a6a6;
    --text-dark-old: #5a4a42;
    --text-medium-old: #8b5a5a;
}

/* Reset e configurações básicas */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    /* Otimização mobile: Remove tap highlight */
    -webkit-tap-highlight-color: transparent;
}

/* ========================================
   RESET DE VIEWPORT - CORREÇÃO MOBILE
   ======================================== */
html {
    height: 100vh;
    overflow: hidden !important;
    overflow-x: hidden !important; /* Evita rolagem lateral */
    position: fixed;
    width: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /* Suporte para safe areas (notch iOS, barras Android) - REMOVIDO LEFT PARA CORRIGIR FRESTA */
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) 0;
    margin: 0;
    -webkit-text-size-adjust: 100% !important; /* Evita que o iPhone aumente a fonte sozinho */
    -moz-text-size-adjust: 100% !important;
    -ms-text-size-adjust: 100% !important;
    text-size-adjust: 100% !important;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Poppins', 'Nunito', Roboto, 'Helvetica Neue', Arial, sans-serif;
    /* Gradiente quente de fundo (135deg conforme análise UX) */
    background: linear-gradient(
        135deg,
        #fff5f9 0%,      /* Branco rosado */
        #ffeef5 25%,     /* Rosa creme */
        #ffe8f0 50%,     /* Pêssego claro */
        #ffd6e6 75%,     /* Rosa pêssego */
        #ffccd5 100%     /* Coral claro */
    ) !important;
    height: 100vh;
    overflow: hidden !important;
    overflow-x: hidden !important; /* Evita rolagem lateral */
    position: fixed;
    width: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    color: var(--text-warm-dark);
    /* Otimização mobile: Previne seleção de texto acidental */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    /* Otimização mobile: Suaviza fontes */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Otimização mobile: Suporte para safe areas - REMOVIDO LEFT PARA CORRIGIR FRESTA */
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) 0;
    margin: 0;
    -webkit-text-size-adjust: 100% !important; /* Evita que o iPhone aumente a fonte sozinho */
    -moz-text-size-adjust: 100% !important;
    -ms-text-size-adjust: 100% !important;
    text-size-adjust: 100% !important;
}

/* Permite seleção de texto em áreas de entrada e mensagens */
input, textarea, .chat-message, .welcome-content p, .message-text {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

button, a, .quick-btn, .feature-btn, .sidebar-btn, .btn, input[type="submit"], .login-tab {
    cursor: pointer; /* Cursor padrão de ponteiro para elementos clicáveis */
    /* Otimização mobile: Remove delay de toque */
    touch-action: manipulation;
    /* Otimização mobile: Previne double-tap zoom */
    -webkit-touch-callout: none;
    /* Otimização mobile: Melhora performance de toque */
    /* will-change: transform; */ /* Removido - otimização desnecessária */
}

/* Login Screen */
.login-screen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, #fff5f9 0%, #ffeef5 25%, #ffe8f0 50%, #ffd6e6 75%, #ffccd5 100%);
    display: none; /* Escondido por padrão - será mostrado apenas se usuário não estiver logado */
    align-items: center;
    justify-content: center;
    z-index: 10000;
    /* Animação removida para melhor performance */
}

.login-screen.hidden {
    display: none;
}

.login-container {
    background: white;
    border-radius: 25px;
    padding: 3rem;
    max-width: 450px;
    width: 90%;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Sombra simplificada */
    box-sizing: border-box;
    overflow: visible;
    overflow-y: auto;
}

/* Mobile/Safari: tela de login utilizável, sem texto cortado, botões empilhados */
.login-actions-stack {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 100%;
}
@media (max-width: 768px) {
    #login-screen {
        padding: 0 20px !important;
        padding-left: max(20px, env(safe-area-inset-left)) !important;
        padding-right: max(20px, env(safe-area-inset-right)) !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
    .login-container {
        width: 100% !important;
        max-width: none !important;
        padding: 1.5rem 20px !important;
        padding-left: max(20px, env(safe-area-inset-left)) !important;
        padding-right: max(20px, env(safe-area-inset-right)) !important;
        border-radius: 20px !important;
    }
    .login-content {
        padding: 0 4px !important; /* Respiro interno no card */
    }
    .login-welcome-title,
    #login-screen .login-content h2 {
        font-size: 1.2rem !important;
        line-height: 1.35 !important;
    }
    #login-screen .login-content > p {
        font-size: 0.9rem !important;
    }
    .login-form .form-group {
        width: 100% !important;
        max-width: none !important;
    }
    .login-form .form-group input {
        width: 100% !important;
        max-width: none !important;
        min-width: 0 !important;
        box-sizing: border-box !important;
        font-size: 16px !important; /* Evita zoom no iOS; texto não corta */
        min-height: 48px !important;
        padding: 12px 14px !important;
    }
    /* Empilhar Entrar e Esqueci minha senha em coluna, cada um 100% */
    .login-actions-stack .btn-login-block,
    .login-actions-stack .forgot-password-link {
        width: 100% !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        margin: 0 !important;
    }
    #initial-login-submit,
    #initial-register-submit,
    .btn-login-main,
    .btn-login-block {
        min-height: 48px !important;
        padding: 14px 20px !important;
        font-size: 1rem !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        -webkit-tap-highlight-color: rgba(244, 166, 166, 0.2) !important;
    }
    .login-form .link-button,
    .forgot-password-link {
        min-height: 44px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        padding: 12px 0 !important;
        width: 100% !important;
    }
}

.login-header {
    text-align: center;
    margin-bottom: 2rem;
}

.login-header i {
    font-size: 3rem;
    color: var(--color-primary-warm);
    margin-bottom: 0.5rem;
}

.login-header h1 {
    font-size: 2.5rem;
    color: var(--text-warm-medium);
    margin: 0;
    font-family: 'Nunito', sans-serif;
}

.login-subtitle {
    display: block;
    color: var(--text-warm-medium);
    font-size: 0.9rem;
    margin-top: 0.5rem;
}

.login-content h2 {
    text-align: center;
    color: var(--text-warm-medium);
    margin-bottom: 1rem;
}

.login-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 2rem;
    border-bottom: 2px solid rgba(244, 166, 166, 0.2);
}

.login-tab {
    flex: 1;
    background: transparent;
    border: none;
    padding: 0.8rem;
    font-size: 1rem;
    color: var(--text-warm-medium);
    cursor: pointer;
    border-bottom: 3px solid transparent;
    transition: all 0.3s ease;
    position: relative;
    bottom: -2px;
}

.login-tab.active {
    color: var(--color-primary-warm);
    border-bottom-color: var(--color-primary-warm);
}

.login-tab i {
    margin-right: 0.5rem;
}

.login-forms {
    position: relative;
}

.login-form {
    display: none;
    width: 100%;
    box-sizing: border-box;
    overflow: visible;
    padding: 0;
}

.login-form.active {
    display: block;
}

.login-form .form-group {
    margin-bottom: 1.2rem;
    position: relative;
    width: 100%;
    box-sizing: border-box;
    overflow: visible;
    isolation: isolate; /* Cria um novo contexto de empilhamento */
}

.login-form .form-group label {
    display: block;
    position: relative;
    width: 100%;
    margin-bottom: 0.5rem;
    color: var(--text-warm-medium);
    font-weight: 500;
    font-size: 0.9rem;
}

/* Label acima do input */
.login-form .form-group label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-warm-medium);
    font-weight: 500;
    font-size: 0.9rem;
}

/* Oculta o ícone do label - será movido para dentro do input via JavaScript */
.login-form .form-group label i {
    display: none;
}

/* Wrapper para o input com ícone */
.login-form .form-group .input-wrapper {
    position: relative;
    width: 100%;
    display: block;
}

/* Ícone dentro do input - criado via JavaScript */
.login-form .form-group .input-icon {
    position: absolute !important;
    left: 1rem !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 10 !important;
    pointer-events: none;
    color: #f4a6a6 !important;
    font-size: 1.1rem !important;
    transition: none !important;
    will-change: auto;
    margin: 0 !important;
    padding: 0 !important;
    line-height: 1 !important;
}

.login-form .form-group input {
    width: 100%;
    padding: 1rem 1rem 1rem 3rem;
    border: 2px solid rgba(244, 166, 166, 0.3);
    border-radius: 12px;
    font-size: 1rem;
    transition: border-color 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
    background: #fff9f7;
    box-sizing: border-box;
    position: relative;
    z-index: 1;
}

/* Garante que o ícone fique sobreposto ao input */
.login-form .form-group .input-icon {
    z-index: 15 !important;
}

.login-form .form-group input:focus {
    outline: none;
    border-color: var(--color-primary-warm);
    background: white;
    box-shadow: 0 0 0 3px rgba(244, 166, 166, 0.1);
}

/* Garantir que o ícone não se mova quando o input recebe foco */
.login-form .form-group input:focus ~ .input-icon,
.login-form .form-group input:focus + .input-icon {
    position: absolute !important;
    left: 1rem !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 3 !important;
}

.btn-login-main {
    width: 100%;
    max-width: 100%;
    background: var(--color-primary-warm);
    color: #fff !important;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-top: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    line-height: 1.4;
    box-sizing: border-box;
}

/* Texto e ícone sempre visíveis (evita transparente por override) */
.btn-login-main,
.btn-login-main *,
.btn-login-main i,
.btn-login-main .btn-login-text {
    color: #fff !important;
    -webkit-text-fill-color: #fff !important;
}

.btn-login-main i,
.btn-login-main .btn-login-text {
    font-size: 0.95rem !important;
}

/* Abas Entrar/Cadastrar em bloco (full width) */
.login-tabs-blocks {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
}

.login-tab-block {
    width: 100%;
    display: block;
    text-align: center;
    padding: 1rem 1.25rem;
    border: 2px solid rgba(255, 143, 163, 0.4);
    border-radius: 12px;
    background: #fff;
    color: #6b4a3f !important; /* Marrom escuro: sempre visível no fundo branco */
    font-weight: 600;
}

.login-tab-block i {
    color: #6b4a3f !important;
}

.login-tab-block.active {
    background: var(--color-primary-warm);
    color: #fff !important;
    border-color: var(--color-primary-warm);
}

.login-tab-block.active i {
    color: #fff !important;
}

/* Botão principal em bloco */
.btn-login-block {
    display: flex !important;
    width: 100% !important;
}

/* Link "Novo cadastro? Entre aqui" / "Já tem conta? Entre aqui" */
.login-switch-link {
    text-align: center;
    margin-top: 1.25rem;
    font-size: 0.95rem;
    color: var(--text-warm-medium);
}

.login-switch-link .link-button {
    background: none;
    border: none;
    padding: 0;
    font-size: inherit;
    font-weight: 600;
    color: var(--color-primary-warm);
    cursor: pointer;
    text-decoration: underline;
}

.login-switch-link .link-button:hover {
    color: var(--color-primary-soft);
}

/* Forçar texto visível na tela de login (sobrescreve qualquer outro estilo) */
#login-screen .login-tab-block {
    color: #6b4a3f !important;
}
#login-screen .login-tab-block i {
    color: #6b4a3f !important;
}
#login-screen .login-tab-block.active,
#login-screen .login-tab-block.active i {
    color: #fff !important;
    -webkit-text-fill-color: #fff !important;
}
#login-screen .btn-login-main,
#login-screen .btn-login-main *,
#login-screen .btn-login-main i,
#login-screen .btn-login-main .btn-login-text,
#login-screen .btn-login-main span {
    color: #fff !important;
    -webkit-text-fill-color: #fff !important;
}

.btn-login-main:hover {
    background: var(--color-primary-soft); /* Escurece ligeiramente no hover */
    /* Transform e sombra pesada removidos */
}

.forgot-password-link {
    display: block;
    text-align: center;
    margin-top: 1rem;
    color: var(--text-warm-medium);
    text-decoration: none;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    padding: 0.5rem;
}

.forgot-password-link:hover {
    color: var(--color-primary-warm);
    text-decoration: underline;
}

.forgot-password-link i {
    margin-right: 0.3rem;
    font-size: 0.85rem;
}

/* Remember Me Checkbox */
.remember-me-group {
    margin-bottom: 1rem;
    margin-top: 0.5rem;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow: visible;
}

.remember-me-label {
    display: flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: var(--text-warm-medium);
    transition: all 0.3s ease;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow: visible;
    flex-wrap: nowrap;
}

.remember-me-label:hover {
    color: var(--color-primary-warm);
}

.remember-me-label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--color-primary-warm);
    margin: 0;
    flex-shrink: 0;
    flex-grow: 0;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    border: 2px solid rgba(244, 166, 166, 0.5);
    border-radius: 4px;
    background: white;
    position: relative;
    transition: all 0.3s ease;
}

.remember-me-label input[type="checkbox"]:checked {
    background: var(--color-primary-warm);
    border-color: var(--color-primary-warm);
}

.remember-me-label input[type="checkbox"]:checked::after {
    content: '✓';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 12px;
    font-weight: bold;
}

.remember-me-label input[type="checkbox"]:focus {
    outline: 2px solid rgba(244, 166, 166, 0.5);
    outline-offset: 2px;
}

.remember-me-text {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    font-weight: 500;
    flex: 0 1 auto;
    white-space: nowrap;
    overflow: visible;
}

.remember-me-text i {
    font-size: 0.85rem;
    color: var(--color-primary-warm);
    flex-shrink: 0;
}

/* === URGENTE: Acessibilidade e Viewport Mobile - Projeto Sophia === */
/* Sidebar fechada NÃO bloqueia cliques: pointer-events none (z-index alto mas invisível) */
.sidebar:not(.open),
#sidebar:not(.open) {
    pointer-events: none !important;
}
.sidebar.open,
#sidebar.open {
    pointer-events: auto !important;
}

@media (max-width: 768px) {
    /* Safari/iPhone: altura que não corta com barra de endereço */
    html, body, #main-container, .container {
        min-height: -webkit-fill-available !important;
    }
    /* Padding de segurança: 20px + safe area (notch/home indicator no iPhone) */
    #main-container,
    .container,
    .welcome-content-wrapper,
    .welcome-content,
    .welcome-message {
        padding-left: max(20px, env(safe-area-inset-left)) !important;
        padding-right: max(20px, env(safe-area-inset-right)) !important;
    }
    .welcome-message {
        padding-top: max(0px, env(safe-area-inset-top)) !important;
    }
    /* Scroll suave no Safari/iPhone */
    .welcome-message,
    .welcome-content-wrapper,
    .sidebar-content {
        -webkit-overflow-scrolling: touch !important;
    }
    .welcome-content-wrapper {
        padding-left: 20px !important;
        padding-right: 20px !important;
    }
    /* Reset de largura: sem width fixo; 100% e max-width none */
    #main-container,
    .container,
    .welcome-content-wrapper,
    .welcome-content {
        width: 100% !important;
        max-width: none !important;
        flex-basis: 100% !important;
    }
    /* Tipografia reduzida: h2 máx 1.3rem, parágrafo 0.9rem */
    .welcome-content h1,
    .welcome-content h2,
    .welcome-hero-title,
    .gentle-title,
    .conteudos-title-modern,
    .welcome-content .feeling-box h2,
    .welcome-content .quick-questions h2 {
        font-size: 1.3rem !important;
    }
    .welcome-content p,
    .welcome-hero-subtitle,
    .welcome-hero-description,
    .gentle-subtitle,
    .inclusion-phrase,
    .feeling-subtitle,
    .welcome-content .feeling-box p {
        font-size: 0.9rem !important;
        line-height: 1.45;
    }
    /* Cards e botões: sem width fixo, 100%, max-width none */
    .welcome-cards-container .sidebar-card,
    .feeling-box,
    .quick-questions.feeling-box,
    .hero-grid-card,
    .conteudo-card-carousel,
    .sidebar-card {
        width: 100% !important;
        max-width: none !important;
        border-radius: 20px !important;
    }
    .welcome-cards-container .sidebar-card {
        min-width: 100% !important;
    }
    /* Container de sentimentos: flex coluna para empilhar verticalmente e evitar corte */
    .feeling-box,
    .quick-questions.feeling-box {
        display: flex !important;
        flex-direction: column !important;
        width: 100% !important;
        max-width: none !important;
    }
    .feeling-buttons-grid,
    .quick-questions-grid.feeling-buttons-grid,
    .welcome-content .feeling-buttons-grid,
    .welcome-content .quick-questions-grid.feeling-buttons-grid,
    .welcome-message .feeling-buttons-grid,
    .welcome-message .quick-questions-grid.feeling-buttons-grid {
        display: flex !important;
        flex-direction: column !important;
        grid-template-columns: none !important;
        grid-template-rows: none !important;
        gap: 0 !important;
        max-width: none !important;
        width: 100% !important;
    }
    /* Cada botão 100% largura, margin-bottom 10px, sem cortar palavras */
    .feeling-btn,
    .quick-btn.feeling-btn {
        width: 100% !important;
        min-width: 0 !important;
        max-width: none !important;
        min-height: 48px !important;
        font-size: 0.9rem !important;
        padding: 12px 16px !important;
        margin-bottom: 10px !important;
        border-radius: 24px !important;
        white-space: normal !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        text-align: center !important;
    }
    .feeling-btn:last-child,
    .quick-btn.feeling-btn:last-child {
        margin-bottom: 0 !important;
    }
    /* Hero grid - cantos arredondados */
    .hero-grid-card {
        border-radius: 20px !important;
        padding: 1rem !important;
    }
    /* Área central clicável: evitar overflow que corte conteúdo */
    .welcome-message,
    .welcome-content-wrapper {
        overflow-x: hidden !important;
        overflow-y: auto !important;
    }
    .welcome-content {
        overflow: visible !important;
    }
}

/* Aviso Importante no final - accordion secundário, não rouba protagonismo */
.medical-disclaimer-end.medical-disclaimer-accordion {
    margin-top: 2rem !important;
    margin-bottom: 1.5rem !important;
}
.medical-disclaimer-end .medical-disclaimer-toggle {
    font-size: 0.85rem !important;
}
@media (max-width: 768px) {
    .medical-disclaimer-end .medical-disclaimer-toggle {
        font-size: 0.8rem !important;
        padding: 0.6rem 0.9rem !important;
    }
    .medical-disclaimer-end .disclaimer-text {
        font-size: 0.75rem !important;
    }
}

/* Mobile: Aviso Importante – tipografia 0.7rem/0.65rem para otimizar espaço vertical (iPhone/Android). Manutenção: manter reduzido. */
@media (max-width: 768px) {
    .medical-disclaimer-end.medical-disclaimer-accordion {
        margin-top: 1rem !important;
        margin-bottom: 1rem !important;
    }
    .medical-disclaimer-end .medical-disclaimer-toggle {
        font-size: 0.7rem !important;
        padding: 0.5rem 0.75rem !important;
        min-height: auto !important;
    }
    .medical-disclaimer-end .disclaimer-text {
        font-size: 0.65rem !important;
        line-height: 1.4 !important;
        padding: 0.5rem 0.75rem !important;
    }
}

body.device-mobile .medical-disclaimer-end .medical-disclaimer-toggle {
    font-size: 0.7rem !important;
}
body.device-mobile .medical-disclaimer-end .disclaimer-text {
    font-size: 0.65rem !important;
    padding: 0.5rem 0.75rem !important;
}

html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
}

/* Ajustes para mobile - garantir que o texto não seja cortado */
@media (max-width: 768px) {
    .remember-me-label {
        flex-wrap: nowrap !important;
        width: 100% !important;
        min-width: 0;
        max-width: 100% !important;
        align-items: center;
    }
    
    .remember-me-label input[type="checkbox"] {
        flex-shrink: 0 !important;
        flex-grow: 0 !important;
    }
    
    .remember-me-text {
        white-space: nowrap !important;
        overflow: visible !important;
        text-overflow: clip !important;
        flex: 1 1 auto !important;
        min-width: 0;
        max-width: none !important;
        width: auto !important;
        display: inline-flex !important;
    }
    
    .remember-me-group {
        width: 100% !important;
        max-width: 100% !important;
        overflow: visible !important;
        box-sizing: border-box;
        padding: 0 !important;
        margin: 0 !important;
    }
}

/* Ajustes específicos para telas muito pequenas */
@media (max-width: 480px) {
    /* Garantir que não há scroll na página em mobile pequeno */
    html {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
        height: 100vh !important;
    }
    
    body {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
        height: 100vh !important;
    }
    
    .container,
    #main-container {
        overflow: hidden !important;
        overflow-x: hidden !important;
        overflow-y: hidden !important;
        height: 100vh !important;
        max-height: 100vh !important;
        overscroll-behavior: none !important;
        -webkit-overflow-scrolling: auto !important;
    }
    
    .chat-container {
        overflow: hidden !important;
        overflow-x: hidden !important;
        overflow-y: hidden !important;
    }
    
    .chat-area {
        overflow-x: hidden !important;
        overflow-y: hidden !important; /* SEM scroll - scroll apenas em welcome-message e chat-messages */
    }
    
    .welcome-message {
        overflow-y: auto !important; /* ÚNICO scroll permitido */
        overflow-x: hidden !important;
        overscroll-behavior: contain !important;
    }
    
    .chat-messages {
        overflow-y: auto !important; /* ÚNICO scroll permitido quando ativo */
        overflow-x: hidden !important;
        overscroll-behavior: contain !important;
        scroll-behavior: smooth !important; /* Scroll suave durante streaming */
    }
    
    .remember-me-label {
        font-size: 0.85rem;
        gap: 0.4rem;
        flex-wrap: wrap !important;
        width: 100% !important;
        max-width: 100% !important;
    }
    
    .remember-me-text {
        font-size: 0.85rem;
        gap: 0.3rem;
        white-space: normal !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        width: calc(100% - 24px) !important;
        max-width: calc(100% - 24px) !important;
    }
    
    .remember-me-label input[type="checkbox"] {
        width: 16px;
        height: 16px;
        flex-shrink: 0;
        margin-right: 0.3rem;
    }
    
    .remember-me-group {
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 !important;
        margin: 0.5rem 0 !important;
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.container,
#main-container {
    width: 100%;
    max-width: 100vw; /* Nunca ultrapassa viewport */
    margin: 0;
    height: 100vh;
    max-height: 100vh;
    display: flex;
    flex-direction: column; /* Garante empilhamento vertical */
    gap: 20px !important; /* Espaço físico real entre os cards. Substitui margins manuais */
    background: #fff5f7; /* Cor sólida simples em vez de gradiente complexo */
    overflow: hidden !important; /* SEM scroll - scroll apenas nas áreas internas */
    overflow-x: hidden !important; /* Sempre sem scroll horizontal */
    overflow-y: hidden !important; /* Sempre sem scroll vertical */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-sizing: border-box;
    overscroll-behavior: none !important;
    -webkit-overflow-scrolling: auto !important;
    padding: 0 !important; /* MOBILE FIRST: Sem padding inicial */
    padding-bottom: 50px !important; /* Espaço extra no final da página */
}

/* MOBILE FIRST: Reduz padding excessivo */
/* ========================================
   SISTEMA DE BREAKPOINTS MOBILE-FIRST
   ========================================
   MOVIDO PARA O FINAL DO ARQUIVO PARA GARANTIR PRIORIDADE
   ======================================== */

/* Removido container::before com radial-gradients pesados para melhor performance */

/* Header */
.header {
    background: #f4a6a6 !important; /* Cor sólida simples em vez de gradiente */
    color: var(--text-warm-medium);
    padding: 1.2rem 2rem;
    padding-top: max(1.2rem, calc(1.2rem + env(safe-area-inset-top))) !important; /* Suporte para safe area (notch iOS) */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra simplificada */
    border-bottom: 1px solid rgba(0, 0, 0, 0.1); /* Borda simples */
    position: relative;
    z-index: 1000 !important; /* Z-index alto para ficar acima de tudo */
    width: 100%;
    box-sizing: border-box;
    /* Otimizações de performance */
    contain: layout style paint;
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
}

/* Botão de menu no header - sempre visível */
#menu-toggle-header {
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    min-height: 40px;
    width: 40px;
    height: 40px;
    font-size: 1.2rem;
    background: rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    color: var(--text-warm-medium);
    cursor: pointer;
    transition: all 0.3s ease;
    margin-right: 1rem;
    flex-shrink: 0;
    z-index: 10;
}

#menu-toggle-header:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.05);
}

/* Estilos antigos do menu-toggle-header removidos - agora usa .header-icon-btn */

/* Mobile: Centraliza header na TELA do celular (viewport) */
@media (max-width: 768px) {
    /* Garantir que não há scroll na página em mobile */
    html {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
        height: 100vh !important;
    }
    
    body {
        overflow: hidden !important;
        position: fixed !important;
        width: 100% !important;
        height: 100vh !important;
    }
    
    /* CORREÇÃO BUG 1: Habilita scroll no mobile */
    html,
    body {
        overflow-y: auto !important; /* Habilita scroll vertical */
        overflow-x: hidden !important; /* Bloqueia scroll horizontal */
        height: auto !important; /* Altura automática para permitir scroll */
        min-height: 100vh !important;
        position: relative !important; /* Remove position fixed que bloqueia scroll */
    }
    
    /* Container Principal - Mobile-First (Garantir largura total e box-sizing) */
    .container,
    #main-container.container,
    .container#main-container {
        width: 100% !important; /* Largura total do dispositivo */
        max-width: 100% !important; /* Garante que não ultrapassa */
        box-sizing: border-box !important; /* Padding não estoura a tela */
        padding-left: 20px !important; /* Padding lateral confortável */
        padding-right: 20px !important; /* Padding lateral confortável */
        /* CORREÇÃO: Permite scroll ao invés de bloquear */
        overflow: visible !important;
        overflow-x: hidden !important;
        overflow-y: visible !important;
        min-height: 100vh !important; /* Altura mínima para cobrir toda a tela */
        height: auto !important; /* Altura automática para não cortar conteúdo */
        max-height: none !important; /* Remove limite de altura máximo */
        position: relative !important; /* Remove position fixed */
        overscroll-behavior: none !important;
        -webkit-overflow-scrolling: touch !important; /* Melhora scroll no iOS */
    }
    
    /* CORREÇÃO BUG 2: Z-index do Sidebar e Header no Mobile */
    .sidebar,
    .sidebar.open,
    #sidebar,
    #sidebar.open {
        z-index: 2147483647 !important; /* Z-index MÁXIMO para ficar acima de TUDO */
        position: fixed !important;
    }
    
    /* Menu Rápido como Bottom Sheet no mobile (sobe de baixo) */
    .sidebar,
    #sidebar {
        top: auto !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        height: 70vh !important;
        max-height: 70vh !important;
        border-radius: 20px 20px 0 0 !important;
        box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.15) !important;
        transform: translateY(100%) !important;
        transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    .sidebar.open,
    #sidebar.open {
        transform: translateY(0) !important;
    }
    .sidebar.open::after,
    #sidebar.open::after {
        content: none !important; /* Remove indicador "Menu" no bottom sheet */
    }
    
    /* Header SEMPRE abaixo da sidebar no mobile */
    .header-modern,
    header.header-modern,
    .header-modern-content,
    .header {
        z-index: 1 !important; /* MUITO menor que sidebar (2147483647) */
    }
    
    /* Quando sidebar está aberto, header DEVE ficar abaixo */
    body:has(.sidebar.open) .header-modern,
    body:has(.sidebar.open) header.header-modern,
    body:has(.sidebar.open) .header-modern-content,
    body:has(.sidebar.open) header,
    body:has(#sidebar.open) .header-modern,
    body:has(#sidebar.open) header.header-modern,
    body:has(#sidebar.open) .header-modern-content,
    .sidebar.open ~ .header-modern,
    .sidebar.open ~ header.header-modern,
    .sidebar.open ~ .header-modern-content,
    .sidebar.open ~ header,
    #sidebar.open ~ .header-modern,
    #sidebar.open ~ header.header-modern,
    #sidebar.open ~ .header-modern-content,
    body.sidebar-open .header-modern,
    body.sidebar-open header.header-modern,
    body.sidebar-open .header-modern-content,
    body.sidebar-open header {
        z-index: 1 !important; /* FORÇA z-index baixíssimo quando menu aberto */
        position: relative !important; /* Remove position fixed/sticky */
    }
    
    /* CORREÇÃO: Chat-container permite scroll quando necessário */
    .chat-container {
        overflow: visible !important; /* Permite scroll natural */
        overflow-x: hidden !important;
        overflow-y: visible !important;
        height: auto !important; /* Altura automática */
        position: relative !important;
    }
    
    .chat-area {
        overflow-x: hidden !important;
        overflow-y: visible !important; /* Permite scroll natural da página */
        height: auto !important;
    }
    
    .welcome-message {
        overflow-y: auto !important; /* Scroll interno quando necessário */
        overflow-x: hidden !important;
        overscroll-behavior: contain !important;
        max-height: none !important; /* Remove limite de altura */
    }
    
    .chat-messages {
        overflow-y: auto !important; /* Scroll interno quando necessário */
        overflow-x: hidden !important;
        overscroll-behavior: contain !important;
        max-height: none !important; /* Remove limite de altura */
    }
    
    .header {
        padding: 1rem 0.5rem !important; /* Aumentado: vertical 1rem, horizontal 0.5rem */
        min-height: 55px !important; /* Altura mínima aumentada */
        position: fixed !important; /* Fixo na viewport */
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        width: 100vw !important; /* Largura da viewport */
        z-index: 1000 !important; /* Acima de tudo */
        box-shadow: 0 4px 20px rgba(244, 166, 166, 0.4) !important;
        display: flex !important;
        align-items: center !important; /* Centraliza verticalmente o conteúdo */
        justify-content: center !important; /* Centraliza horizontalmente */
    }
    
    .header-content {
        justify-content: flex-start !important;
        position: relative !important;
        width: 100% !important;
        max-width: 100vw !important;
        padding: 0 !important;
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
        gap: 0.5rem !important;
    }
    
    /* Botão de menu no header - mobile - canto superior esquerdo absoluto */
    #menu-toggle-header {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        min-width: 40px !important;
        min-height: 40px !important;
        width: 40px !important;
        height: 40px !important;
        font-size: 1.2rem !important;
        background: rgba(255, 255, 255, 0.2) !important;
        border: 1px solid rgba(255, 255, 255, 0.3) !important;
        border-radius: 8px !important;
        color: #8b5a5a !important;
        cursor: pointer !important;
        margin: 0 !important;
        flex-shrink: 0 !important;
        position: fixed !important;
        top: 0.5rem !important;
        left: 0.5rem !important;
        z-index: 1001 !important; /* Acima do header */
        order: -1 !important; /* Garante que fica antes do logo */
    }
    
    .logo {
        flex: 1 !important;
        justify-content: center !important;
        text-align: center !important;
        margin: 0 auto !important;
        position: absolute !important;
        left: 50% !important;
        top: 50% !important; /* Centralizado verticalmente */
        transform: translate(-50%, -50%) !important; /* Centraliza perfeitamente */
        width: auto !important;
        max-width: calc(100% - 80px) !important; /* Mais espaço para o botão à esquerda (50px botão + 30px margem) */
        pointer-events: none !important; /* Permite cliques no botão mesmo quando o logo está por cima */
    }
    
    .logo * {
        pointer-events: auto !important; /* Restaura cliques nos elementos internos do logo, se houver */
    }
    
    .header-right {
        display: none !important; /* Remove o bloco branco (status-indicator) */
    }
    
    /* Container do botão "Conversar com a Sophia" - mobile */
    .start-chat-container {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 2rem auto !important;
        text-align: center !important;
        padding: 0 1rem !important;
        box-sizing: border-box !important;
        position: relative !important;
    }
    
    /* Botão "Conversar com a Sophia" - mobile - ícone à esquerda, texto à direita, TUDO DENTRO */
    /* SOBRESCREVE COMPLETAMENTE O .btn PARA EVITAR CONFLITOS */
    button#start-chat-btn.btn.btn-start-chat,
    #start-chat-btn {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important; /* Separa ícone e texto */
        margin: 0 auto !important;
        width: auto !important;
        min-width: 240px !important;
        max-width: 90% !important;
        text-align: left !important;
        white-space: nowrap !important;
        padding: 0.9rem 1.75rem !important;
        font-size: 0.9rem !important;
        font-weight: 600 !important;
        border-radius: 50px !important; /* Sobrescreve border-radius: 50% do .btn */
        gap: 1rem !important; /* Espaço entre ícone e texto */
        background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%) !important;
        color: white !important;
        border: none !important;
        box-shadow: 0 4px 14px rgba(255, 107, 157, 0.38) !important;
        box-sizing: border-box !important;
        overflow: visible !important; /* Mudado para visible para ver tudo */
        position: relative !important;
        line-height: 1.4 !important;
        min-height: 58px !important; /* Altura mínima maior */
        height: auto !important; /* Altura automática */
        cursor: pointer !important;
        /* Garantir que os filhos fiquem dentro */
        contain: layout style paint !important;
    }
    
    /* Ícone dentro do botão - alinhado à esquerda */
    button#start-chat-btn.btn.btn-start-chat i,
    #start-chat-btn i {
        font-size: 1rem !important; /* Ícone proporcional */
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        flex-shrink: 0 !important; /* Não encolhe */
        margin: 0 !important;
        padding: 0 !important;
        order: 1 !important; /* Ícone primeiro (à esquerda) */
        line-height: 1 !important;
        width: auto !important;
        height: auto !important;
        max-height: none !important;
        vertical-align: middle !important;
        color: white !important;
    }
    
    /* Texto dentro do botão - alinhado à direita */
    button#start-chat-btn.btn.btn-start-chat span,
    #start-chat-btn span {
        display: inline-flex !important;
        align-items: center !important;
        flex: 1 1 auto !important; /* Ocupa o espaço restante */
        text-align: right !important; /* Texto alinhado à direita */
        justify-content: flex-end !important; /* Alinha texto à direita */
        margin: 0 !important;
        padding: 0 !important;
        padding-left: 0.5rem !important; /* Espaço entre ícone e texto */
        order: 2 !important; /* Texto depois (à direita) */
        white-space: nowrap !important;
        overflow: visible !important; /* Mudado para visible */
        text-overflow: clip !important; /* Mudado para clip em vez de ellipsis */
        line-height: 1.4 !important;
        min-width: 0 !important; /* Permite que o texto encolha se necessário */
        position: static !important; /* Garante que fica dentro do botão */
        color: white !important;
        visibility: visible !important;
        opacity: 1 !important;
        vertical-align: middle !important;
        /* Garantir que o texto não saia */
        max-width: 100% !important;
    }
    
    /* Garante que o texto dentro do span seja visível */
    button#start-chat-btn.btn.btn-start-chat span *,
    #start-chat-btn span * {
        color: white !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    #start-chat-btn * {
        box-sizing: border-box !important;
    }
    /* REGRAS ANTIGAS DO BOTÃO #start-chat-btn REMOVIDAS */
    /* Estas regras foram movidas para a seção consolidada 9.1 no final do arquivo */
    /* para evitar conflitos e garantir prioridade máxima na media query final */
    
    .header-right .status-indicator {
        display: none !important; /* Remove completamente o status-indicator */
    }
    
    .logo h1 {
        font-size: 1rem !important; /* Reduzido ainda mais: 1.1rem → 1rem */
    }
    
    .logo i {
        font-size: 1rem !important; /* Reduzido ainda mais: 1.1rem → 1rem */
    }
    
    /* Ajusta o container principal para compensar o header fixo */
    .container {
        padding-top: 65px !important; /* Aumentado para compensar header maior: 50px → 65px */
    }
    
    .chat-container {
        padding-top: 0 !important;
    }
}

body.device-mobile .header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100vw !important;
    z-index: 1000 !important;
    padding: 1rem 0.5rem !important; /* Aumentado: vertical 1rem, horizontal 0.5rem */
    min-height: 55px !important; /* Altura mínima aumentada */
    display: flex !important;
    align-items: center !important; /* Centraliza verticalmente */
    justify-content: center !important; /* Centraliza horizontalmente */
}

body.device-mobile .header-content {
    justify-content: center !important;
    position: relative !important;
    width: 100% !important;
}

body.device-mobile .logo {
    flex: 1 !important;
    justify-content: center !important;
    text-align: center !important;
    margin: 0 auto !important;
    position: absolute !important;
    left: 50% !important;
    top: 50% !important; /* Centralizado verticalmente */
    transform: translate(-50%, -50%) !important; /* Centraliza perfeitamente */
    width: auto !important;
}

body.device-mobile .header-right {
    display: none !important; /* Remove o bloco branco */
}

body.device-mobile .header-right .status-indicator {
    display: none !important; /* Remove completamente o status-indicator */
}

/* Logo texto e ícones no mobile */
body.device-mobile .logo h1 {
    font-size: 1rem !important; /* Reduzido ainda mais */
}

body.device-mobile .logo i {
    font-size: 1rem !important; /* Reduzido ainda mais */
}

/* Compensa o header fixo no mobile */
body.device-mobile .container,
body.device-mobile #main-container,
body.device-mobile.orientation-portrait #main-container,
body.device-mobile.orientation-portrait .container {
    padding-top: 65px !important; /* Aumentado para compensar header maior: 50px → 65px */
    overflow: hidden !important;
    overflow-x: hidden !important;
    overflow-y: hidden !important;
    height: 100vh !important;
    max-height: 100vh !important;
    position: relative !important;
    overscroll-behavior: none !important;
    /* Previne scroll duplo */
    -webkit-overflow-scrolling: auto !important;
    touch-action: pan-y !important; /* Permite apenas scroll vertical dentro de elementos filhos */
}

/* Garantir que o body não role em mobile */
body.device-mobile {
    overflow: hidden !important;
    height: 100vh !important;
    position: fixed !important;
    width: 100% !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
}

body.device-mobile .chat-container {
    padding-top: 0 !important;
    overflow: hidden !important; /* SEM scroll - scroll apenas nas áreas internas */
    overflow-x: hidden !important;
    overflow-y: hidden !important;
    height: calc(100vh - 65px) !important; /* Altura total menos header */
    max-height: calc(100vh - 65px) !important;
    position: relative !important;
    overscroll-behavior: none !important;
}

body.device-mobile .chat-area {
    overflow-x: hidden !important;
    overflow-y: hidden !important; /* SEM scroll - scroll apenas em welcome-message e chat-messages */
}

body.device-mobile .welcome-message {
    overflow-y: auto !important; /* ÚNICO scroll permitido - apenas aqui */
    overflow-x: hidden !important;
    overscroll-behavior: contain !important; /* Previne scroll na página */
    /* Garante que o scroll fique isolado */
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    height: 100% !important;
    width: 100% !important;
    -webkit-overflow-scrolling: touch !important;
}

/* Garantir que welcome-content NÃO tenha scroll próprio em mobile */
body.device-mobile .welcome-content,
body.device-mobile.orientation-portrait .welcome-content,
body.device-mobile.orientation-landscape .welcome-content {
    overflow: visible !important; /* SEM scroll próprio */
    overflow-x: hidden !important;
    overflow-y: visible !important; /* Não tem scroll próprio */
    overscroll-behavior: none !important; /* Previne scroll duplo */
    -webkit-overflow-scrolling: auto !important;
    position: relative !important;
    height: auto !important; /* Altura automática baseada no conteúdo */
    max-height: none !important; /* Sem limite de altura */
}

body.device-mobile .chat-messages {
    overflow-y: auto !important; /* ÚNICO scroll permitido - apenas aqui quando ativo */
    overflow-x: hidden !important;
    overscroll-behavior: contain !important; /* Previne scroll na página */
}

.header-right {
    display: flex;
    align-items: center;
    gap: 1rem;
}

/* Esconde o welcome-message no header (deixa apenas o status-indicator) */
.header-right .welcome-message,
.header-right #welcome-user {
    display: none !important;
}

.logo {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.logo i {
    font-size: 1.6rem;
    color: #f8b5b5;
    text-shadow: 0 2px 4px rgba(248, 181, 181, 0.3);
}

.logo h1 {
    font-size: 1.6rem;
    font-weight: 600;
    font-family: 'Nunito', sans-serif;
    text-shadow: 0 2px 4px rgba(139, 90, 90, 0.1);
    margin: 0;
}

.logo .subtitle {
    font-size: 0.75rem;
    font-weight: 400;
    color: rgba(139, 90, 90, 0.8);
    text-shadow: none;
    font-style: italic;
    margin-left: 0.5rem;
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9rem;
}

.status-online {
    color: #a8d5a8;
    /* text-shadow removido para melhor performance */
}

.status-offline {
    color: var(--color-primary-warm);
    /* text-shadow removido para melhor performance */
}

/* Chat Container */
.chat-container {
    display: flex;
    flex: 1;
    overflow: hidden !important; /* SEM scroll - scroll apenas nas áreas internas */
    overflow-x: hidden !important; /* Sempre sem scroll horizontal */
    position: relative;
    z-index: 1;
    width: 95%;
    max-width: 95vw;
    margin: 0 auto;
    box-sizing: border-box;
    height: 100%;
    /* Fundo sólido simples em vez de gradiente */
    background: rgba(255, 245, 247, 0.5);
}

/* Elementos decorativos removidos para melhor performance */
/* chat-container::before com radial-gradients removido */

/* Sidebar */
.sidebar,
#sidebar {
    width: 300px;
    background: #ffffff !important; /* FUNDO BRANCO SÓLIDO - NÃO TRANSPARENTE */
    background-color: #ffffff !important; /* GARANTE BRANCO SÓLIDO */
    border-right: 1px solid rgba(244, 166, 166, 0.2);
    display: flex;
    flex-direction: column;
    transform: translateX(-100%);
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 2px 0 15px rgba(244, 166, 166, 0.1);
    position: fixed !important; /* CRÍTICO: Forçar fixed */
    top: 0 !important;
    left: 0 !important;
    z-index: 2147483647 !important; /* CRÍTICO: Z-index MÁXIMO - acima de TUDO */
    overflow: hidden;
    height: 100vh !important;
    max-height: 100vh !important;
    isolation: isolate !important; /* Criar novo contexto de empilhamento */
    margin: 0 !important; /* Remove qualquer margin */
    padding: 0 !important; /* Remove qualquer padding que crie espaço */
}

.sidebar.open,
#sidebar.open {
    transform: translateX(0) !important;
    z-index: 2147483647 !important; /* Z-index MÁXIMO - valor máximo permitido */
    position: fixed !important;
}

/* CRÍTICO: Reduzir z-index do header quando sidebar está aberto - FORÇA MÁXIMA */
body:has(.sidebar.open) .header-modern,
body:has(.sidebar.open) header.header-modern,
body:has(.sidebar.open) .header-modern-content,
body:has(#sidebar.open) .header-modern,
body:has(#sidebar.open) header.header-modern,
body:has(#sidebar.open) .header-modern-content,
.sidebar.open ~ * .header-modern,
.sidebar.open ~ * header.header-modern,
.sidebar.open ~ * .header-modern-content,
#sidebar.open ~ * .header-modern,
#sidebar.open ~ * header.header-modern,
#sidebar.open ~ * .header-modern-content,
body.sidebar-open .header-modern,
body.sidebar-open header.header-modern,
body.sidebar-open .header-modern-content {
    z-index: 1 !important; /* MUITO menor que sidebar (2147483647) - FORÇA abaixo */
    position: relative !important; /* Remove position fixed/sticky */
}

/* Indicador "Menu" na fresta rosa quando sidebar está aberto */
.sidebar.open::after {
    content: 'Menu';
    position: fixed;
    left: 300px; /* Logo após o sidebar (300px de largura) */
    top: 50%;
    transform: translateY(-50%) rotate(90deg);
    transform-origin: center;
    background: rgba(244, 166, 166, 0.9);
    color: #ffffff;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    font-family: 'Nunito', 'Poppins', sans-serif;
    white-space: nowrap;
    z-index: 4;
    box-shadow: 0 2px 8px rgba(244, 166, 166, 0.3);
    pointer-events: none;
    letter-spacing: 0.5px;
}

.sidebar-header {
    padding: 1.2rem;
    background: #ffffff !important; /* MESMO BACKGROUND DO .sidebar - ELIMINA FAIXA ROSA */
    background-color: #ffffff !important; /* GARANTE BRANCO SÓLIDO */
    margin: 0 !important; /* Remove qualquer margin que crie espaço */
    margin-top: 0 !important; /* Garante que começa no topo */
    padding-top: 1.2rem !important; /* Mantém padding interno */
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid rgba(244, 166, 166, 0.2);
    flex-shrink: 0; /* Evita que o header encolha */
}

.sidebar-header h2,
.sidebar-header h3 {
    font-size: 1rem;
    color: var(--text-warm-medium);
    font-family: 'Nunito', sans-serif;
    font-weight: 500;
}

.close-sidebar {
    background: none;
    border: none;
    font-size: 1.2rem;
    color: #6c757d;
    cursor: pointer;
    padding: 0.25rem;
}

.categories {
    flex: 1;
    padding: 1rem;
    overflow: visible;
    height: auto;
}

.category-item {
    padding: 0.8rem;
    margin-bottom: 0.6rem;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(244, 166, 166, 0.2);
    /* backdrop-filter: blur(10px); */ /* Removido para melhor performance - muito pesado */
    box-shadow: 0 2px 8px rgba(244, 166, 166, 0.1);
}

.category-item:hover {
    background: rgba(248, 181, 181, 0.2);
    border-color: rgba(248, 181, 181, 0.4);
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 8px 20px rgba(244, 166, 166, 0.2);
}

/* New Sidebar Content Styles */
.sidebar-content {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    /* Altura calculada: 100vh - altura do header - padding */
    height: calc(100vh - 60px);
    max-height: calc(100vh - 60px);
    padding: 0 1rem 2rem 1rem; /* Remove padding-top para eliminar faixa rosa */
    background: #ffffff; /* FUNDO BRANCO SÓLIDO - NÃO TRANSPARENTE */
    /* Garante que o scroll funcione corretamente */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

.sidebar-section {
    margin-bottom: 1.5rem;
    padding-top: 1rem; /* Adiciona padding-top apenas na primeira seção para espaçamento do header */
    /* CORREÇÃO: Garante que seções da sidebar fiquem acima do input */
    position: relative !important; /* Permite z-index funcionar */
    z-index: 1 !important; /* Acima do input (z-index: 0 ou 50) mas dentro da sidebar */
}

.sidebar-section:first-child {
    padding-top: 1rem; /* Espaçamento do header para a primeira seção */
}

.sidebar-section:last-of-type {
    margin-bottom: 0;
    padding-bottom: 2rem !important; /* Padding extra no final para garantir que todo conteúdo seja visível e não fique coberto pelo input */
}

.sidebar-section h4 {
    font-size: 0.85rem;
    color: var(--text-warm-medium);
    margin-bottom: 0.8rem;
    text-transform: uppercase;
    font-weight: 600;
    letter-spacing: 0.5px;
}

/* Sidebar buttons - BRANCO SÓLIDO COM BORDA ROSA */
.sidebar-btn {
    width: 100%;
    padding: 0.75rem 1rem;
    margin-bottom: var(--sophia-spacing-xs);
    background: #ffffff !important; /* FUNDO BRANCO SÓLIDO - NÃO TRANSPARENTE */
    background-color: #ffffff !important; /* GARANTE BRANCO SÓLIDO */
    border: 2px solid #F4A6A6; /* BORDA ROSA CLARO */
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.8rem;
    color: var(--text-warm-medium);
    font-weight: 500;
    font-size: 0.95rem;
    box-shadow: 0 2px 8px rgba(244, 166, 166, 0.15), 0 1px 3px rgba(0, 0, 0, 0.05); /* Sombra padronizada para profundidade */
}

.sidebar-btn i {
    font-size: 1.1rem;
    color: var(--color-primary-warm);
}

.sidebar-btn:hover {
    background: linear-gradient(135deg, var(--color-primary-warm) 0%, var(--color-primary-soft) 100%);
    border-color: var(--color-primary-warm);
    color: white;
    transform: translateX(5px) scale(1.02);
    box-shadow: 0 6px 20px rgba(244, 166, 166, 0.4), 0 3px 10px rgba(0, 0, 0, 0.1); /* Sombra mais pronunciada no hover */
}

.sidebar-btn:hover i {
    color: white !important;
}

.sidebar-btn:focus-visible {
    outline: 3px solid var(--sophia-pink-light) !important;
    outline-offset: 2px !important;
}

/* Emergency Button - FORÇA PALETA ROSA PASTEL */
.emergency-btn {
    width: 100% !important;
    padding: 0.75rem 1rem !important; /* Reduzido */
    margin-bottom: var(--sophia-spacing-xs) !important;
    background: var(--sophia-bg-gradient) !important;
    border: 2px solid var(--sophia-pink-medium) !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.7rem !important;
    color: var(--sophia-text-primary) !important;
    font-weight: 600 !important;
    font-size: 0.9rem !important;
    box-shadow: var(--sophia-shadow-sm) !important;
    min-height: auto !important;
    height: auto !important;
    text-decoration: none !important;
}

.emergency-btn i {
    font-size: 1rem !important;
    color: var(--sophia-pink-primary) !important;
}

.emergency-btn:hover {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    border-color: var(--sophia-pink-primary) !important;
    color: white !important;
    transform: translateY(-2px) !important;
    box-shadow: var(--sophia-shadow-md) !important;
}

.emergency-btn:hover i {
    color: white !important;
}

.sidebar-btn:hover i {
    color: white;
    transform: scale(1.1);
}

.sidebar-btn-logout {
    background: linear-gradient(135deg, #ffe0e0 0%, #ffd0d0 100%);
    border-left: 4px solid #e8b4b8;
    color: var(--text-warm-medium);
    margin-top: 0.5rem;
}

.sidebar-btn-logout:hover {
    background: linear-gradient(135deg, var(--color-primary-soft) 0%, var(--color-primary-warm) 100%);
    border-left-color: #d4a5a9;
    color: white;
    transform: translateX(5px);
    box-shadow: 0 4px 15px rgba(232, 180, 184, 0.4);
}

.sidebar-btn-logout i {
    color: #e8b4b8;
}

.sidebar-btn-logout:hover i {
    color: white;
}

.sidebar-footer {
    padding: 1rem;
    border-top: 1px solid #dee2e6;
}

/* Chat Area */
.chat-area {
    flex: 1;
    display: flex;
    flex-direction: column;
    position: relative;
    padding-top: 4rem; /* Espaço para o botão "Voltar ao início" não sobrepor mensagens */
    overflow-x: hidden !important; /* Evita scroll horizontal */
    overflow-y: hidden !important; /* SEM scroll vertical - o scroll fica apenas em welcome-message e chat-messages */
    width: 100%;
    box-sizing: border-box;
    height: 100%;
    /* Gradiente suave de fundo */
    background: linear-gradient(135deg, rgba(255, 245, 247, 0.4) 0%, rgba(255, 238, 242, 0.3) 50%, rgba(248, 213, 224, 0.4) 100%);
    background-attachment: fixed;
    /* Previne que o conteúdo role junto com a página */
    contain: content;
    -webkit-overflow-scrolling: touch;
    /* transform: translateZ(0); */ /* Removido - otimização desnecessária */
    z-index: 1;
}

/* Elementos decorativos no chat-area */
.chat-area::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 25% 30%, rgba(255, 182, 193, 0.12) 0%, transparent 50%),
        radial-gradient(circle at 75% 70%, rgba(255, 192, 203, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(255, 218, 225, 0.08) 0%, transparent 60%);
    pointer-events: none;
    z-index: 0;
}

.chat-area::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background-image: 
        url("data:image/svg+xml,%3Csvg width='120' height='120' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M60 60m-30 0a30 30 0 1 1 60 0a30 30 0 1 1 -60 0' fill='none' stroke='%23ffb6c1' stroke-width='0.3' opacity='0.08'/%3E%3C/svg%3E");
    background-size: 120px 120px;
    /* animation: backgroundMove 25s linear infinite; */ /* Desabilitado para melhor performance */
    pointer-events: none;
    z-index: 0;
}

/* Welcome Message */
.welcome-message {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: flex-start !important;
    background: linear-gradient(135deg, #fff5f9 0%, #ffeef5 25%, #ffe8f0 50%, #ffd6e6 75%, #ffccd5 100%) !important;
    z-index: 10 !important;
    /* Animação removida para melhor performance */
    overflow-y: auto !important; /* ÚNICO scroll permitido - apenas aqui */
    overflow-x: hidden !important;
    padding: 1rem 0 !important; /* MOBILE FIRST: Padding reduzido */
    box-sizing: border-box !important;
    -webkit-overflow-scrolling: touch !important;
    position: relative !important;
    /* Otimizações de performance para scroll */
    contain: layout style paint;
    /* transform: translateZ(0); */ /* Removido - otimização desnecessária */
    /* will-change: scroll-position; */ /* Removido - otimização desnecessária */
    /* Garante que o scroll fique apenas aqui */
    overscroll-behavior: contain !important;
}

/* MOBILE FIRST: Reduz padding excessivo do welcome-message */
@media (max-width: 768px) {
    .welcome-message {
        padding-top: 10px !important; /* Reduzido de 12.8px */
        padding-left: 0 !important;
        padding-right: 0 !important;
        padding-bottom: 20px !important; /* Reduzido de 100px */
        margin-top: 0 !important;
    }
    
    /* Ajuste de Texto para Leitura em Mobile */
    .welcome-message p,
    .welcome-content p,
    .medical-disclaimer p {
        font-size: 1rem !important; /* 16px para melhor legibilidade */
        line-height: 1.5 !important;
        text-align: left !important; /* Justificado cria "rios" de espaço em branco */
        max-width: 90% !important; /* Ocupa 90% da largura para conforto */
        margin-left: auto !important;
        margin-right: auto !important;
    }
}

/* Elementos decorativos removidos para melhor performance */
/* welcome-message::before e ::after removidos */

@keyframes backgroundMove {
    0% { transform: translate(0, 0); }
    100% { transform: translate(150px, 150px); }
}

/* Elementos decorativos flutuantes */
.decorative-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
}

.decorative-icon {
    position: absolute;
    font-size: 3rem;
    color: rgba(255, 107, 157, 0.15);
    opacity: 0.6;
    animation: float 10s ease-in-out infinite;
    will-change: transform, opacity;
    transform: translateZ(0);
}

/* .decorative-icon i removido para melhor performance */

.decorative-icon.icon-1 {
    top: 10%;
    left: 10%;
    animation-delay: 0s;
}

.decorative-icon.icon-2 {
    top: 20%;
    right: 15%;
    animation-delay: 1.5s;
}

.decorative-icon.icon-3 {
    bottom: 30%;
    left: 15%;
    animation-delay: 3s;
}

.decorative-icon.icon-4 {
    bottom: 15%;
    right: 10%;
    animation-delay: 4.5s;
}

@keyframes float {
    0%, 100% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.4;
    }
    50% {
        transform: translateY(-20px) rotate(10deg);
        opacity: 0.8;
    }
}

/* Wrapper do ícone principal */
.welcome-icon-wrapper {
    position: relative;
    display: inline-block;
    margin-bottom: 1.5rem;
}

.welcome-icon-wrapper i {
    position: relative;
    z-index: 2;
    font-size: 3rem; /* Garante que o ícone seja visível */
    color: var(--color-primary-warm); /* Cor do ícone */
    display: block; /* Garante que o ícone seja exibido */
}

.icon-glow {
    position: absolute;
    inset: -10px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(244, 166, 166, 0.28) 0%, rgba(244, 166, 166, 0.12) 55%, transparent 75%);
    box-shadow: 0 0 22px rgba(244, 166, 166, 0.35);
    opacity: 0.85;
    pointer-events: none;
    will-change: transform, opacity;
    transform: translateZ(0);
}

@keyframes fadeIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
}

.welcome-content {
    text-align: center !important;
    padding: 1.5rem 1rem !important; /* MOBILE FIRST: Padding reduzido */
    max-width: 90% !important; /* MOBILE FIRST: Ocupa 90% da largura */
    margin: 0 auto !important;
    width: auto !important;
    animation: contentFadeIn 1s ease-out 0.3s backwards;
    box-sizing: border-box !important;
    display: block !important;
    position: relative !important;
    z-index: 1 !important; /* Acima dos elementos decorativos */
    left: auto !important;
    right: auto !important;
    float: none !important;
    overflow: visible !important; /* SEM scroll próprio - scroll apenas no welcome-message */
    overflow-x: hidden !important;
    overflow-y: visible !important; /* Não tem scroll próprio */
    /* Fundo suave com bordas arredondadas */
    background: rgba(255, 255, 255, 0.6) !important;
    /* backdrop-filter: blur(10px) !important; */ /* Removido para melhor performance */
    border-radius: 30px !important;
}

/* MOBILE FIRST: Ajustes adicionais para welcome-content */
@media (max-width: 768px) {
    .welcome-content {
        padding: 1rem 0.75rem !important; /* Padding ainda mais reduzido no mobile */
        max-width: 90% !important; /* Ocupa 90% da largura para conforto */
        margin-top: 10px !important;
    }
}

@keyframes contentFadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.welcome-content i {
    font-size: 3.5rem !important; /* Ícone maior e mais destacado */
    color: #ff6b9d !important;
    margin-bottom: 1rem !important;
    /* animation: gentlePulse 3s infinite; */ /* Desabilitado para melhor performance */
    text-shadow: 0 4px 20px rgba(255, 107, 157, 0.5) !important;
    /* filter: drop-shadow(0 4px 12px rgba(255, 107, 157, 0.4)) !important; */ /* Removido - muito pesado */
    background: linear-gradient(135deg, #ff6b9d 0%, #ff8fab 50%, #ffa5b8 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
    /* Otimizações de performance para animação */
    /* transform: translateZ(0); */ /* Removido - otimização desnecessária */
    /* will-change: transform; */ /* Removido - otimização desnecessária */
    /* backface-visibility: hidden; */ /* Removido - otimização desnecessária */
    display: inline-block !important;
    position: relative !important;
}

/* Elemento decorativo ao redor do ícone */
.welcome-content i::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 120%;
    height: 120%;
    background: radial-gradient(circle, rgba(255, 107, 157, 0.2) 0%, transparent 70%);
    border-radius: 50%;
    z-index: -1;
    /* animation: pulseGlow 2s ease-in-out infinite; */ /* Desabilitado para melhor performance */
}

@keyframes pulseGlow {
    0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
    50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.2); }
}

@keyframes gentlePulse {
    0%, 100% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.06) rotate(-2deg); }
    50% { transform: scale(1.03) rotate(2deg); }
    75% { transform: scale(1.06) rotate(-1deg); }
}

.welcome-content h2 {
    font-size: 1.65rem; /* Aumentado para mais destaque */
    margin-top: 1.5rem !important; /* Espaço superior para baixar o texto dentro do container */
    margin-bottom: 0.8rem; /* Mais espaço abaixo */
    color: #7a4a4a; /* Tom mais escuro para melhor contraste */
    font-family: 'Nunito', sans-serif;
    font-weight: 700;
    text-shadow: 0 3px 10px rgba(244, 166, 166, 0.35), 0 2px 5px rgba(139, 90, 90, 0.25), 0 1px 2px rgba(0, 0, 0, 0.1); /* Sombra mais pronunciada para destaque */    
    animation: titleSlideIn 0.8s ease-out 0.5s backwards;
    line-height: 1.3;
}

/* Regra específica para .welcome-hero-title dentro do .welcome-content */
.welcome-content .welcome-hero-title {
    margin-top: 1.5rem !important; /* Espaço superior para baixar o texto dentro do container */
}

@keyframes titleSlideIn {
    from { opacity: 0; transform: translateY(-15px); }
    to { opacity: 1; transform: translateY(0); }
}

.welcome-micro-phrase {
    font-size: 0.9rem; /* Ligeiramente maior para melhor legibilidade */
    color: #8b6a5a; /* Tom um pouco mais escuro para melhor contraste */
    font-family: 'Nunito', sans-serif;
    font-weight: 400;
    font-style: italic;
    margin-top: 0.2rem;
    margin-bottom: 1rem; /* Mais espaço abaixo */
    line-height: 1.6;
    text-align: center;
    animation: textFadeIn 0.8s ease-out 0.6s backwards;
    opacity: 0.95;
    max-width: 700px; /* Limita largura para não espalhar demais */
    margin-left: auto;
    margin-right: auto;
}

.inclusion-phrase {
    font-size: 0.85rem;
    color: #9a7a6a;
    font-family: 'Nunito', sans-serif;
    font-weight: 400;
    font-style: italic;
    margin-top: 0.3rem;
    margin-bottom: 1rem;
    line-height: 1.5;
    text-align: center;
    animation: textFadeIn 0.8s ease-out 0.65s backwards;
    opacity: 0.85;
}

/* Espaço de Escuta – card branco com fundo semitransparente */
.feeling-box {
    background: rgba(255, 255, 255, 0.95);
    border: 2px solid rgba(244, 166, 166, 0.3);
    border-radius: 20px;
    padding: 1.5rem 2rem; /* Aumentado padding lateral: 1.5rem → 2rem para mais respiração */
    margin: 4rem auto 3rem; /* Espaço maior: 64px top para criar respiração após boas-vindas */
    max-width: 600px;
    box-shadow: 0 4px 20px rgba(244, 166, 166, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05); /* Sombra mais pronunciada */
    animation: textFadeIn 0.8s ease-out 0.75s backwards;
    contain: layout style paint;
}
/* Menu inicial: espaço entre seções (Como está seu coração / Não sabe por onde começar) */
.welcome-content .feeling-box + .feeling-box {
    margin-top: 1.5rem;
}

.feeling-box h2,
.feeling-box h3 {
    font-size: 1.25rem; /* 20px - tamanho acolhedor, não compete com título principal */
    color: #9a7a6a; /* Tom mais claro que títulos principais (#7a4a4a) - hierarquia visual correta */
    margin-bottom: 0.5rem;
    text-align: center;
    font-family: 'Nunito', sans-serif;
    font-weight: 500; /* Medium - menos pesado, mais acolhedor */
    line-height: 1.5; /* Mais respiração entre linhas */
}

.gentle-title {
    color: #8b5e66;
    font-size: 1.4rem;
    margin-bottom: 5px;
    font-weight: 500;
    font-family: 'Poppins', sans-serif;
}

@media (max-width: 1023px) {
    .gentle-title { font-size: 1.2rem !important; }
}

body.device-mobile .gentle-title {
    font-size: 1.2rem !important;
}

.gentle-subtitle {
    color: #b39299; /* Tom suave e acolhedor */
    font-size: 0.95rem; /* Aumentado ligeiramente para melhor legibilidade */
    margin-bottom: 20px;
    font-style: italic; /* Parece um sussurro gentil */
    font-family: 'Nunito', sans-serif;
    font-weight: 400;
}

.feeling-subtitle {
    font-size: 0.85rem;
    color: #9a7a6a;
    text-align: center;
    margin-bottom: 1.5rem;
    font-family: 'Nunito', sans-serif;
    font-weight: 400;
    font-style: italic;
    opacity: 0.85;
    line-height: 1.5;
}

.feeling-buttons-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    max-width: 400px;
    width: 100%;
    margin: 0 auto;
    padding: 10px;
}

@media (max-width: 1023px) {
    .feeling-buttons-grid { gap: 15px !important; }
}

body.device-mobile .feeling-buttons-grid {
    gap: 15px !important;
}

.quick-questions-grid.feeling-buttons-grid {
    gap: 15px !important;
}

@media (max-width: 1023px) {
    .quick-questions-grid.feeling-buttons-grid { gap: 15px !important; }
}

/* ===== FEELING BUTTONS - BOTÕES DE ESTADO EMOCIONAL ===== */
.feeling-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px 30px; /* Aumentado padding lateral para pill shape */
    border: 1px solid #ffe4e8; /* Borda mais suave */
    border-radius: 50px; /* Pill shape - totalmente arredondado */
    background-color: #fff;
    color: #b36b7d;
    font-weight: 500;
    font-size: 1rem;
    font-family: 'Poppins', sans-serif; /* Fonte arredondada para acolhimento */
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Movimento orgânico */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

/* Cores suaves por estado emocional no hover */
.feeling-btn[data-feeling="cansada"]:hover {
    background-color: #f0f4ff; /* Azul pastel */
    border-color: #adc1f3;
    color: #5a78c5;
    transform: scale(1.08); /* Aumenta levemente */
    box-shadow: 0 8px 15px rgba(173, 193, 243, 0.2);
}

.feeling-btn[data-feeling="feliz"]:hover {
    background-color: #fff9e6; /* Amarelo pastel */
    border-color: #f3d9a2;
    color: #856404;
    transform: scale(1.08);
    box-shadow: 0 8px 15px rgba(243, 217, 162, 0.2);
}

.feeling-btn[data-feeling="ansiosa"]:hover {
    background-color: #fdf2f8; /* Rosa suave */
    border-color: #fbcfe8;
    color: #9d174d;
    transform: scale(1.08);
    box-shadow: 0 8px 15px rgba(251, 207, 232, 0.2);
}

.feeling-btn[data-feeling="confusa"]:hover {
    background-color: #f3f4f6; /* Cinza neutro */
    border-color: #d1d5db;
    color: #374151;
    transform: scale(1.08);
    box-shadow: 0 8px 15px rgba(209, 213, 219, 0.2);
}

.feeling-btn[data-feeling="triste"]:hover {
    background-color: #eef2ff; /* Lilás/Indigo */
    border-color: #c7d2fe;
    color: #3730a3;
    transform: scale(1.08);
    box-shadow: 0 8px 15px rgba(199, 210, 254, 0.2);
}

.feeling-btn[data-feeling="gratidao"]:hover {
    background-color: #ecfdf5; /* Verde menta */
    border-color: #a7f3d0;
    color: #065f46;
    transform: scale(1.08);
    box-shadow: 0 8px 15px rgba(167, 243, 208, 0.2);
}

/* Hover para botões de frase ("Não sabe por onde começar") */
.feeling-btn[data-feeling="frase"]:hover {
    background-color: #fdf2f8;
    border-color: #fbcfe8;
    color: #9d174d;
    transform: scale(1.08);
    box-shadow: 0 8px 15px rgba(251, 207, 232, 0.2);
}

.feeling-btn.selected {
    background-color: #f4a6a6;
    color: white;
    border-color: #e89595;
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.4);
}

.feeling-btn:focus-visible {
    outline: 3px solid var(--sophia-pink-light) !important;
    outline-offset: 2px !important;
}

/* Feedback visual ao clicar */
.feeling-btn.clicked {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    color: white !important;
    border-color: var(--sophia-pink-primary) !important;
    box-shadow: 0 0 0 4px var(--sophia-pink-light) !important;
}

.feeling-extra-btn {
    background: transparent !important;
    border: 2px dashed var(--sophia-pink-light) !important;
    color: var(--sophia-text-secondary) !important;
    padding: 0.75rem 1rem !important;
    font-size: 0.85rem !important;
}

.feeling-extra-btn:hover {
    background: var(--sophia-pink-light) !important;
    border-style: solid !important;
    border-color: var(--sophia-pink-medium) !important;
    color: var(--sophia-text-primary) !important;
}

.feeling-extra-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(244, 166, 166, 0.2);
}

.feeling-extra-btn {
    background: transparent; /* Sem fundo branco - menos peso visual */
    border: 1px dashed #ffd1d9; /* Borda bem clarinha e pontilhada */
    border-radius: 15px;
    padding: 10px 16px;
    color: #b39299; /* Cor mais suave que os botões principais */
    font-size: 0.85rem; /* Fonte menor para hierarquia visual */
    font-weight: 400;
    font-family: 'Nunito', sans-serif;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

.feeling-extra-btn:hover {
    background-color: rgba(255, 209, 217, 0.1); /* Fundo muito sutil no hover */
    border-color: #ffd1d9;
    color: #9a7a6a; /* Cor ligeiramente mais escura no hover */
}

.feeling-feedback {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: 1rem;
    padding: 12px;
    background: rgba(244, 166, 166, 0.1);
    border-radius: 15px;
    animation: fadeInUp 0.4s ease-out;
}

.feeling-feedback-icon {
    font-size: 1.2rem;
    animation: pulse 1.5s ease-in-out infinite;
}

.feeling-feedback-text {
    font-size: 0.9rem;
    color: var(--text-warm-medium);
    font-family: 'Nunito', sans-serif;
    font-weight: 500;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}

/* Páginas de Apoio Rápido */
.support-links {
    margin: 4rem auto 3rem; /* Aumentado: 64px top, 48px bottom - mais respiração após quick-questions */
    max-width: 700px;
    animation: textFadeIn 0.8s ease-out 0.85s backwards;
    padding-bottom: 1rem; /* Espaço extra na parte inferior */
    /* Otimizações de performance */
    contain: layout style paint;
    /* transform: translateZ(0); */ /* Removido - otimização desnecessária */
}

/* Mobile: Espaço extra para não ficar atrás do input fixo */
@media (max-width: 768px) {
    .support-links {
        margin-bottom: 3rem !important; /* Espaço extra para o input fixo */
        padding-bottom: 1.5rem !important;
    }
}

body.device-mobile .support-links {
    margin-top: 2.5rem !important; /* Aumentado para criar mais espaço do feeling-box */
    margin-bottom: 3rem !important; /* Espaço extra para o input fixo */
    padding-bottom: 1.5rem !important;
}

.support-links h2,
.support-links h3 {
    font-size: 0.9rem;
    color: var(--text-warm-medium);
    margin-bottom: 1rem;
    text-align: center;
    font-family: 'Nunito', sans-serif;
    font-weight: 600;
}

.support-links-grid {
    display: flex;
    flex-direction: column;
    gap: 1.25rem; /* Aumentado de 0.8rem (12.8px) para 1.25rem (20px) - mais respiração entre cards */
}

.support-link {
    background: rgba(255, 255, 255, 0.7);
    border: 2px solid rgba(244, 166, 166, 0.3); /* Borda consistente */
    border-radius: 12px; /* Borda arredondada consistente */
    padding: 0.9rem 1.2rem; /* Padding consistente */
    color: var(--text-warm-medium);
    text-decoration: none;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-size: 0.9rem;
    font-weight: 500;
    font-family: 'Poppins', sans-serif;
    text-align: center;
    /* backdrop-filter: blur(10px); */ /* Removido para melhor performance - muito pesado */
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.25), 0 2px 6px rgba(0, 0, 0, 0.08); /* Sombra padronizada */
    /* Otimizações de performance */
    /* transform: translate3d(0, 0, 0); */ /* Removido - otimização desnecessária */
    /* will-change: transform; */ /* Removido - otimização desnecessária */
    /* backface-visibility: hidden; */ /* Removido - otimização desnecessária */
}

.support-link:hover {
    background: linear-gradient(135deg, var(--color-primary-warm) 0%, var(--color-primary-soft) 100%);
    border-color: #e8b4b8;
    color: white;
    transform: translate3d(5px, 0, 0) scale(1.02);
    box-shadow: 0 6px 20px rgba(244, 166, 166, 0.35), 0 3px 10px rgba(0, 0, 0, 0.1); /* Sombra mais pronunciada no hover */
}
.support-link:focus-visible {
    outline: 3px solid rgba(244, 166, 166, 0.5);
    outline-offset: 2px;
}

/* Container de Cards no Welcome Content (Orientação, Afirmação, Agenda) */
.welcome-cards-container {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 1.5rem !important;
    margin: 3rem auto 2rem !important;
    max-width: 900px !important;
    width: 100% !important;
    padding: 0 1rem !important;
    box-sizing: border-box !important;
    animation: textFadeIn 0.8s ease-out 0.85s backwards;
    contain: layout style paint;
}

/* Cards com cores pastéis e bordas arredondadas (mín. 20px) - redesign Sophia Mobile */
.welcome-cards-container .sidebar-card {
    flex: 1 1 280px !important;
    min-width: 280px !important;
    min-height: 250px !important;
    align-self: stretch !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    text-align: center !important;
    padding: 24px !important;
    overflow: visible !important;
    border-radius: 20px !important;
    border: 1px solid rgba(244, 166, 166, 0.25) !important;
    box-shadow: 0 4px 16px rgba(244, 166, 166, 0.12) !important;
}
.welcome-cards-container .orientacao-card {
    background: linear-gradient(135deg, #fff8f9 0%, #fff0f3 100%) !important;
}
.welcome-cards-container .affirmation-card {
    background: linear-gradient(135deg, #fef9f0 0%, #fef5e7 100%) !important;
}
.welcome-cards-container .agenda-card {
    background: linear-gradient(135deg, #f0f8ff 0%, #e8f4fc 100%) !important;
}

.welcome-cards-container .sidebar-card .card-icon {
    flex-shrink: 0;
    display: block !important;
    margin-bottom: 0.5rem !important;
    font-size: 2rem !important;
}

.welcome-cards-container .sidebar-card h3 {
    flex-shrink: 0;
    margin-bottom: 12px !important;
    width: 100%;
}

.welcome-cards-container .orientacao-content,
.welcome-cards-container .affirmation-content,
.welcome-cards-container .agenda-content {
    flex: 1 1 auto !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    text-align: center !important;
    min-height: 0 !important;
    width: 100% !important;
    overflow-wrap: break-word !important;
    word-wrap: break-word !important;
}

@media (max-width: 1023px) {
    .welcome-cards-container {
        flex-direction: column !important;
        gap: 1rem !important;
        margin: 2rem auto 1.5rem !important;
        padding: 0 0.5rem !important;
    }
    .welcome-cards-container .sidebar-card {
        flex: 1 1 auto !important;
        min-width: 100% !important;
        width: 100% !important;
    }
}

body.device-mobile .welcome-cards-container {
    flex-direction: column !important;
    gap: 1rem !important;
    margin: 2rem auto 1.5rem !important;
    padding: 0 0.5rem !important;
}
body.device-mobile .welcome-cards-container .sidebar-card {
    min-width: 100% !important;
    width: 100% !important;
}

/* Ajustes dos cards quando estão no welcome-content */
.welcome-content .welcome-cards-container .sidebar-card {
    margin-bottom: 0 !important;
}

/* Medical Disclaimer */
.medical-disclaimer {
    margin: 4rem auto 2rem;
    max-width: 650px;
    animation: textFadeIn 0.8s ease-out 0.9s backwards;
    padding: 0 1rem;
    contain: layout style paint;
}

/* Aviso colapsável (accordion) */
.medical-disclaimer-accordion .medical-disclaimer-toggle {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(255, 249, 247, 0.95);
    border: 1px solid rgba(244, 166, 166, 0.4);
    border-radius: 12px;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-warm-medium);
    cursor: pointer;
    transition: background 0.2s;
}

.medical-disclaimer-accordion .medical-disclaimer-toggle:hover {
    background: rgba(255, 243, 239, 0.98);
}

.medical-disclaimer-accordion .medical-disclaimer-toggle i.fa-exclamation-triangle {
    color: #f4a6a6;
    margin-right: 0.25rem;
}

.medical-disclaimer-accordion .accordion-arrow {
    transition: transform 0.2s;
    color: #b39299;
}

.medical-disclaimer-accordion.expanded .accordion-arrow {
    transform: rotate(180deg);
}

.medical-disclaimer-accordion .medical-disclaimer-content {
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.medical-disclaimer-accordion .medical-disclaimer-content[hidden] {
    display: none;
}

.medical-disclaimer .disclaimer-text {
    color: var(--text-warm-medium);
    font-size: 0.85rem;
    padding: 0.75rem 1rem;
    line-height: 1.5;
    margin: 0;
    padding: 1rem 1.25rem;
    background: rgba(255, 249, 247, 0.9);
    border-radius: 0 0 12px 12px;
    border: 1px solid rgba(244, 166, 166, 0.3);
    border-top: none;
    text-align: center;
    box-shadow: 0 2px 8px rgba(244, 166, 166, 0.1);
}

.medical-disclaimer .disclaimer-text i {
    color: var(--color-primary-warm);
    margin-right: 0.5rem;
    font-size: 0.85rem;
}

.medical-disclaimer .disclaimer-text strong {
    color: var(--text-warm-medium);
    font-weight: 600;
}

/* Mobile: Aviso Importante com fonte menor e padding para não estourar a tela */
@media (max-width: 768px) {
    .medical-disclaimer {
        margin-bottom: 2rem !important;
        padding: 0 0.5rem;
    }
    
    .medical-disclaimer-accordion .medical-disclaimer-toggle {
        font-size: 0.8rem !important;
        padding: 0.6rem 0.9rem !important;
    }
    
    .medical-disclaimer .disclaimer-text {
        font-size: 0.75rem !important;
        padding: 0.6rem 0.9rem !important;
        padding: 0.9rem 1rem !important;
    }
}

@media (max-width: 1023px) {
    .medical-disclaimer .disclaimer-text {
        font-size: 0.85rem !important;
        padding: 1rem 1.5rem !important;
        line-height: 1.5 !important;
    }
}

body.device-mobile .medical-disclaimer {
    margin-bottom: 2rem !important;
    padding: 0 0.5rem;
}

body.device-mobile .medical-disclaimer .disclaimer-text {
    font-size: 0.85rem !important;
    padding: 1rem 1.5rem !important;
    line-height: 1.5 !important;
}

/* Mensagem Rotativa - REMOVIDA */
.rotating-message {
    display: none !important; /* Oculta completamente a mensagem */
    visibility: hidden !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Mobile: Mensagem rotativa REMOVIDA */
@media (max-width: 768px) {
    .rotating-message {
        display: none !important; /* Oculta completamente */
        visibility: hidden !important;
        height: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }
}

body.device-mobile .rotating-message {
    display: none !important; /* Oculta completamente */
    visibility: hidden !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
}

#rotating-text {
    font-size: 0.9rem;
    color: #9a7a6a;
    font-family: 'Nunito', sans-serif;
    font-weight: 500;
    font-style: italic;
    /* animation: fadeInOut 8s infinite; */ /* Desabilitado para melhor performance */
    transition: opacity 0.35s ease;
    will-change: opacity;
}

@keyframes fadeInOut {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

.welcome-content p {
    font-size: 0.95rem; /* Ligeiramente maior para melhor legibilidade */
    color: #8b6a5a; /* Tom mais escuro para melhor contraste */
    margin-bottom: 1.5rem; /* Espaçamento aumentado para "respirar" mais o layout */
    line-height: 1.6; /* Melhor espaçamento entre linhas */
    font-weight: 400;
    animation: textFadeIn 0.8s ease-out 0.7s backwards;
    max-width: 750px; /* Limita largura para não espalhar demais */
    margin-left: auto;
    margin-right: auto;
}

@keyframes textFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.quick-questions {
    max-width: 850px;
    margin: 4rem auto 3rem !important; /* Aumentado: 64px top, 48px bottom - mais respiração após feeling-box */
    margin-top: 40px !important; /* Espaçamento generoso acima da seção para separar do card anterior */
    width: 100% !important;
    padding: 0 1rem;
    animation: buttonsSlideIn 0.8s ease-out 0.9s backwards;
    box-sizing: border-box !important;
    position: relative !important;
    /* Otimizações de performance */
    contain: layout style;
    /* transform: translateZ(0); */ /* Removido - otimização desnecessária */
}

/* Quando quick-questions É feeling-box: mesmo card branco que "Como está seu coração hoje?" */
/* Fundo branco, borda rosa suave, sombra – igual ao div.feeling-box */
.quick-questions.feeling-box {
    max-width: 600px !important;
    background: rgba(255, 255, 255, 0.95) !important;
    background-color: rgba(255, 255, 255, 0.95) !important;
    border: 2px solid rgba(244, 166, 166, 0.3) !important;
    border-radius: 20px !important;
    padding: 1.5rem 2rem !important;
    margin: 4rem auto 3rem !important;
    box-shadow: 0 4px 20px rgba(244, 166, 166, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
    contain: layout style paint;
}

/* "Não sabe por onde começar?" – preservar quick-questions-section-white com !important para separação visual. */
.quick-questions-section-white.quick-questions.feeling-box {
    background: #ffffff !important;
    background-color: #ffffff !important;
}

.quick-questions h2 {
    text-align: center;
    color: var(--text-warm-medium);
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.quick-questions-subtitle {
    text-align: center;
    color: var(--text-warm-medium);
    font-size: 0.95rem;
    margin-bottom: 1.2rem;
    opacity: 0.85;
}

.quick-questions-grid {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem !important; /* Aumentado de 1rem (16px) para 1.5rem (24px) - mais respiração entre cards */
    width: 100% !important;
    align-items: stretch !important;
}

/* Layout idêntico ao "Como está seu coração" quando usa feeling-buttons-grid */
.quick-questions-grid.feeling-buttons-grid {
    grid-template-columns: 1fr 1fr !important;
    gap: 20px !important;
    max-width: 400px !important;
    margin: 0 auto !important;
}

/* Botões de frase com mesmo estilo dos botões de emoção (pill, tamanho uniforme) */
.quick-questions .quick-btn.feeling-btn {
    padding: 12px 20px !important;
    border-radius: 50px !important;
    border: 1px solid #ffe4e8 !important;
    background-color: #fff !important;
    color: #b36b7d !important;
    min-height: auto !important;
    height: auto !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
    flex-direction: row !important;
    justify-content: center !important;
    font-size: 1rem !important;
    white-space: normal !important;
    text-align: center !important;
}

@media (max-width: 1024px) {
    .quick-questions-grid {
        grid-template-columns: repeat(2, 1fr);
        align-items: stretch !important; /* Garante altura uniforme */
    }
    .quick-questions-grid.feeling-buttons-grid {
        grid-template-columns: 1fr 1fr !important; /* Mantém 2 cols como "Como está seu coração" */
    }
}

@media (max-width: 768px) {
    .quick-questions {
        margin-top: 30px !important; /* Espaçamento reduzido em mobile para não ocupar muito espaço vertical */
    }
    
    .quick-questions-grid {
        grid-template-columns: 1fr;
        align-items: stretch !important; /* Garante altura uniforme */
    }
    .quick-questions-grid.feeling-buttons-grid {
        grid-template-columns: 1fr !important; /* 1 coluna em mobile para botões largos */
    }
}

@keyframes buttonsSlideIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.quick-btn {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 245, 250, 0.95) 50%, rgba(255, 240, 245, 0.98) 100%) !important;
    border: 2px solid rgba(255, 107, 157, 0.3) !important;
    color: #8b5a5a !important;
    box-shadow: 0 4px 15px rgba(255, 107, 157, 0.15) !important;
    position: relative !important;
    overflow: hidden !important;
    padding: 1rem 1rem !important;
    border-radius: 18px;
    cursor: pointer;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    font-size: 0.9rem;
    font-weight: 600;
    font-family: 'Poppins', sans-serif;
    /* backdrop-filter: blur(10px); */ /* Removido para melhor performance - muito pesado */
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.25), 0 2px 6px rgba(0, 0, 0, 0.08);
    position: relative !important;
    overflow: hidden;
    text-align: center !important;
    margin: 0 !important;
    float: none !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
    width: 100% !important;
    height: 100% !important; /* Altura 100% para preencher o grid - altura uniforme */
    min-height: 120px !important; /* Altura mínima aumentada para acomodar textos maiores */
    box-sizing: border-box !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    white-space: normal !important;
    line-height: 1.6 !important; /* Aumentado de 1.4 para 1.6 para melhor espaçamento */
    /* Otimizações de performance */
    /* transform: translate3d(0, 0, 0); */ /* Removido - otimização desnecessária */
    /* will-change: transform; */ /* Removido - otimização desnecessária */
    /* backface-visibility: hidden; */ /* Removido - otimização desnecessária */
}

.quick-btn i {
    font-size: 1.5rem !important;
    margin-bottom: 0.3rem;
    flex-shrink: 0;
    color: #ff6b9d !important; /* Cor rosa vibrante para contraste */
    transition: all 0.3s ease !important;
    /* filter: drop-shadow(0 2px 6px rgba(255, 107, 157, 0.3)) !important; */ /* Removido - muito pesado */
    /* Garantir que o ícone seja sempre visível */
    opacity: 1 !important;
    z-index: 1 !important;
    position: relative !important;
    display: inline-block !important; /* Força exibição */
    visibility: visible !important; /* Garante visibilidade */
    font-family: "Font Awesome 6 Free" !important; /* Font Awesome 6 */
    font-weight: 900 !important; /* Font Awesome solid */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}

.quick-btn span,
.quick-btn:not(:has(span)) {
    display: block;
    width: 100%;
    text-align: center;
}

.quick-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
    transition: left 0.5s ease;
}

.quick-btn:hover::before {
    left: 100%;
}

.quick-btn:hover {
    background: linear-gradient(135deg, #ff6b9d 0%, #ff8fab 50%, #ffa5b8 100%) !important;
    border-color: rgba(255, 107, 157, 0.5) !important;
    color: white !important;
    transform: translate3d(0, -8px, 0) scale(1.05) !important;
    box-shadow: 0 12px 35px rgba(255, 107, 157, 0.5), 0 6px 20px rgba(255, 107, 157, 0.3) !important;
    transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.quick-btn:hover i {
    transform: scale(1.2) rotate(5deg) !important;
    color: white !important;
    /* filter: drop-shadow(0 2px 8px rgba(255, 255, 255, 0.5)) !important; */ /* Removido - muito pesado */
}
.quick-btn:focus-visible {
    outline: 3px solid rgba(244, 166, 166, 0.5);
    outline-offset: 2px;
}

.quick-btn:active {
    transform: translate3d(0, -2px, 0) scale(1.01);
    transition: transform 0.1s, box-shadow 0.1s;
}

/* === Chat header fixo: removido da UI (não exibir) === */
#chat-header-fixed {
    display: none !important;
}

/* === Chat header sticky fix (não sobrepor mensagens) – desativado enquanto #chat-header-fixed estiver oculto === */
:root {
    /* iOS notch/safe area: reforço para PWA/fullscreen; JS ajusta dinamicamente depois */
    --chat-header-offset: calc(env(safe-area-inset-top, 0px) + 72px);
}
#chat-header-fixed.chat-header-fixed {
    position: sticky !important;
    top: var(--chat-header-offset, 72px) !important;
    width: 100% !important;
    margin: 0 auto !important;
    transform: none !important;
    pointer-events: none !important;
    z-index: 2 !important;
}
#chat-header-fixed.chat-header-fixed.is-stuck {
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);
}
#chat-header-fixed .chat-header-actions,
#chat-header-fixed a,
#chat-header-fixed button {
    pointer-events: auto !important;
}
.chat-messages,
.messages,
#messages {
    scroll-margin-top: calc(var(--chat-header-offset, 72px) + 8px);
}

/* Chat Messages */
.chat-messages {
    flex: 1;
    padding: 0.75rem 0.5rem;
    overflow-y: auto !important; /* ÚNICO scroll permitido - apenas aqui quando ativo */
    overflow-x: hidden !important;
    display: none;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255, 245, 247, 0.5) 0%, rgba(255, 238, 242, 0.4) 25%, rgba(253, 230, 234, 0.5) 50%, rgba(248, 213, 224, 0.4) 75%, rgba(240, 197, 213, 0.5) 100%);
    background-attachment: fixed;
    padding-top: 0.75rem;
    box-sizing: border-box;
    max-width: 100%;
    z-index: 2; /* Acima dos elementos decorativos */
    /* Otimizações de performance para scroll */
    contain: layout style paint;
    /* transform: translateZ(0); */ /* Removido - otimização desnecessária */
    /* will-change: scroll-position; */ /* Removido - otimização desnecessária */
    -webkit-overflow-scrolling: touch;
    /* Garante que o scroll fique apenas aqui */
    overscroll-behavior: contain !important;
}

/* Elementos decorativos sutis no chat-messages */
.chat-messages::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 20% 20%, rgba(255, 182, 193, 0.08) 0%, transparent 40%),
        radial-gradient(circle at 80% 80%, rgba(255, 192, 203, 0.06) 0%, transparent 40%);
    pointer-events: none;
    z-index: 0;
}

.chat-messages.active {
    display: flex;
    flex-direction: column;
}

/* Quando o chat está ativo, oculta o welcome-message */
.chat-messages.active ~ .welcome-message,
.chat-area:has(.chat-messages.active) .welcome-message {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
}

/* Garantir que welcome-message está atrás quando chat está ativo */
.chat-area .chat-messages.active {
    z-index: 10 !important;
}

.chat-area .welcome-message {
    z-index: 1;
}

/* Back to Welcome Button */
.back-to-welcome {
    position: fixed;
    top: 5.5rem;
    right: 1rem;
    z-index: 100;
    animation: slideInRight 0.3s ease-out;
    pointer-events: auto;
}

.back-to-welcome .btn {
    border-radius: var(--sophia-border-radius-sm) !important;
    padding: 0.5rem 1rem !important;
    font-size: 0.9rem !important;
    background: var(--sophia-bg-gradient) !important;
    color: var(--sophia-text-primary) !important;
    border: 2px solid var(--sophia-pink-medium) !important;
    box-shadow: var(--sophia-shadow-sm) !important;
    transition: all 0.3s ease !important;
}

.back-to-welcome .btn:hover {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    color: white !important;
    border-color: var(--sophia-pink-primary) !important;
    transform: translateY(-2px) !important;
    box-shadow: var(--sophia-shadow-md) !important;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.message {
    margin-bottom: 1rem;
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    animation: fadeInUp 0.3s ease;
    max-width: 100%;
    padding: 0 0.5rem;
    /* Otimizações de performance */
    contain: layout style;
    /* transform: translateZ(0); */ /* Removido - otimização desnecessária */
}

/* Garante que welcome-content não seja afetado por estilos de mensagem */
.welcome-content,
.welcome-content *,
.quick-questions,
.quick-questions *,
.quick-btn {
    flex-direction: inherit !important;
    align-items: inherit !important;
    justify-content: inherit !important;
}

/* PROTEÇÃO EXTRA: Remove todos os estilos de mensagem do welcome */
.welcome-message {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: flex-start !important;
}

.message.user {
    flex-direction: row-reverse;
}

.message-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    flex-shrink: 0;
}

.message.user .message-avatar {
    background: linear-gradient(135deg, #a8d5a8, #8bc34a);
    color: white;
    box-shadow: 0 4px 12px rgba(168, 213, 168, 0.3);
}

.message.assistant .message-avatar {
    background: linear-gradient(135deg, #f4a6a6, #e8b4b8);
    color: white;
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.3);
}

.message-content {
    max-width: 65%;
    padding: 0.9rem 1rem;
    border-radius: 18px;
    position: relative;
    /* Otimizações de performance */
    contain: layout style paint;
    /* transform: translateZ(0); */ /* Removido - otimização desnecessária */
}

 /* PROTEÇÃO: Garante que welcome-content nunca seja tratado como mensagem */
 .welcome-message .welcome-content {
     max-width: 100% !important;
     width: 100% !important;
     background: transparent !important;
     border: none !important;
     padding: 1.5rem 2rem !important;
     margin: 0 auto !important;
     display: block !important;
     text-align: center !important;
     position: relative !important;
     left: auto !important;
     right: auto !important;
     float: none !important;
     transform: none !important;
     box-shadow: none !important;
     border-radius: 0 !important;
     box-sizing: border-box !important;
 }

/* PROTEÇÃO CRÍTICA: Remove qualquer estilo de mensagem que possa estar sendo aplicado */
.welcome-message .welcome-content,
.welcome-message .welcome-content * {
    flex-direction: inherit !important;
    align-items: inherit !important;
    justify-content: inherit !important;
    flex-wrap: inherit !important;
    gap: inherit !important;
}

/* Garante que welcome-content NUNCA tenha estilos de .message */
.welcome-content:not(.message-content):not(.message) {
    display: block !important;
    text-align: center !important;
}

/* Força reset completo de estilos de mensagem no welcome */
.welcome-message .welcome-content {
    /* Remove qualquer flex direction que possa vir de .message */
    display: block !important;
}

.welcome-message .welcome-content h2,
.welcome-message .welcome-content p {
    display: block !important;
    width: 100% !important;
    text-align: center !important;
    margin-left: auto !important;
    margin-right: auto !important;
}

   /* Garante que quick-questions nunca seja tratado como mensagem */
  .welcome-message .quick-questions {
      display: flex !important;
      flex-wrap: wrap !important;
      flex-direction: row !important;
      justify-content: center !important;
      align-items: center !important;
      max-width: 100% !important;
      width: 100% !important;
      margin: 0 auto !important;
      padding: 0 1rem !important;
      position: relative !important;
      left: auto !important;
      right: auto !important;
      float: none !important;
      transform: none !important;
      box-sizing: border-box !important;
  }
  /* quick-questions.feeling-box mantém card branco (sobrescreve regra acima) */
  .welcome-message .quick-questions.feeling-box {
      background: rgba(255, 255, 255, 0.95) !important;
      border: 2px solid rgba(244, 166, 166, 0.3) !important;
      box-shadow: 0 4px 20px rgba(244, 166, 166, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
      border-radius: 20px !important;
      padding: 1.5rem 2rem !important;
      max-width: 600px !important;
  }

  /* Garante que quick-btn nunca seja tratado como mensagem */
  .welcome-message .quick-btn {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 248, 240, 0.98) 100%) !important;
      border: 2px solid #f4a6a6 !important;
      max-width: 100% !important;
      width: auto !important;
      min-width: fit-content !important;
      position: relative !important;
      left: auto !important;
      right: auto !important;
      float: none !important;
      transform: none !important;
      margin: 0 !important;
      display: flex !important;
      flex-direction: row !important;
      align-items: center !important;
      justify-content: center !important;
      gap: 0.6rem !important;
      white-space: nowrap !important;
  }

.message.user .message-content {
    background: linear-gradient(135deg, #a8d5a8, #8bc34a);
    color: white;
    border-bottom-right-radius: 5px;
    box-shadow: 0 4px 12px rgba(168, 213, 168, 0.2);
}

.message.assistant .message-content {
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(244, 166, 166, 0.2);
    border-bottom-left-radius: 5px;
    /* backdrop-filter: blur(10px); */ /* Removido para melhor performance - muito pesado */
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.1);
}

.message-time {
    font-size: 0.75rem;
    opacity: 0.7;
    margin-top: 0.5rem;
}

.message-category {
    display: inline-block;
    background: #e3f2fd;
    color: #1976d2;
    padding: 0.25rem 0.5rem;
    border-radius: 12px;
    font-size: 0.7rem;
    margin-top: 0.5rem;
    font-weight: 500;
}

.message-alert {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    color: #856404;
    padding: 0.75rem;
    border-radius: 8px;
    margin-top: 0.5rem;
    font-size: 0.9rem;
}

/* Typing Indicator - Posicionado acima do botão de enviar */
.typing-indicator {
    display: none;
    position: absolute;
    bottom: 100%;
    right: 60px; /* Alinhado com o botão de enviar */
    margin-bottom: 8px;
    padding: 0.5rem 0.75rem;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 20px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    z-index: 100;
    animation: fadeInUp 0.2s ease-out;
}

.typing-indicator.show {
    display: flex;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.typing-dots {
    display: flex;
    gap: 4px;
    align-items: center;
}

.typing-dots span {
    width: 6px;
    height: 6px;
    background: #ff8fa3;
    border-radius: 50%;
    animation: typingDot 1.4s infinite ease-in-out;
    opacity: 0.4;
}

.typing-dots span:nth-child(1) { 
    animation-delay: 0s; 
}
.typing-dots span:nth-child(2) { 
    animation-delay: 0.2s; 
}
.typing-dots span:nth-child(3) { 
    animation-delay: 0.4s; 
}

@keyframes typingDot {
    0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.4;
    }
    30% {
        transform: translateY(-8px);
        opacity: 1;
    }
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Input Area */
.input-area {
    background: rgba(255, 252, 248, 0.98); /* Mais opaco para não precisar de blur */
    border-top: 1px solid rgba(244, 166, 166, 0.2);
    padding: 1.2rem;
    /* backdrop-filter removido para melhor performance */
    position: relative;
    /* CORREÇÃO CRÍTICA: Z-index MÍNIMO por padrão - SEMPRE abaixo da sidebar (2147483647) */
    z-index: 50 !important; /* Abaixo do header (1000), MUITO abaixo da sidebar (2147483647) */
    /* Otimizações de performance */
    contain: layout style paint;
}

/* Ajuste do typing indicator no input-area - já está definido acima, mas garante position relative */
.input-area {
    position: relative;
}

/* Ajuste do typing indicator para desktop */
@media (min-width: 769px) {
    .typing-indicator {
        right: 80px; /* Mais espaço no desktop */
    }
}

/* Mobile: Ajusta tamanho do input area e botões para diferentes tamanhos de tela */
@media (max-width: 768px) {
    .input-area {
        padding: 1rem 0.75rem !important;
        padding-bottom: calc(1rem + env(safe-area-inset-bottom)) !important;
        position: fixed !important; /* Fixo na parte inferior */
        bottom: 64px !important; /* Acima da bottom navigation (64px) */
        left: 0 !important;
        right: 0 !important;
        width: 100vw !important;
        /* CORREÇÃO CRÍTICA: Z-index SEMPRE menor que sidebar (2147483647) - nunca sobrepor */
        z-index: 50 !important; /* MUITO menor que sidebar (2147483647) - força abaixo sempre */
        box-shadow: 0 -4px 20px rgba(244, 166, 166, 0.3) !important;
        transition: bottom 0.3s ease, z-index 0s !important; /* Transição suave mas z-index instantâneo */
        min-height: 70px !important;
        transform: translateY(0); /* Posição normal */
    }
    
    /* Quando teclado virtual abre, ajusta posição do input */
    .input-area.keyboard-open {
        bottom: 64px !important; /* Mantém acima da bottom nav */
        transform: translateY(-50vh); /* Move para cima quando teclado abre */
    }
    
    /* Ajuste adicional: quando bottom nav está presente, input fica acima dela */
    @media (max-width: 1023px) {
        .input-area {
            bottom: 64px !important; /* Acima da bottom navigation */
        }
        
        /* Quando teclado abre em mobile */
        .input-area.keyboard-open {
            bottom: 64px !important;
            transform: translateY(-40vh); /* Move para cima, mas não tanto */
        }
    }
    
    /* Quando o footer CVV está visível, ajusta o input area para ficar acima dele */
    .cvv-disclaimer-footer[style*="display: block"] ~ * .input-area,
    body:has(.cvv-disclaimer-footer[style*="display: block"]) .input-area {
        bottom: 2.8rem !important; /* Ajusta para ficar acima do footer CVV (~2.8rem de altura) */
    }
    
    .input-container {
        gap: 0.75rem !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        align-items: center !important;
    }
    
    .input-wrapper {
        flex: 1 !important;
        min-width: 0 !important;
        display: flex !important;
        align-items: center !important;
        gap: 0.5rem !important;
    }
    
    #message-input {
        padding: 0.85rem 1.2rem !important;
        font-size: 16px !important; /* Previne zoom no iOS */
        border-radius: 25px !important;
        min-height: 48px !important;
        line-height: 1.5 !important;
    }
    
    .input-info {
        display: none !important; /* Esconde contador de caracteres no mobile */
    }
    
    .btn-icon,
    #menu-toggle {
        min-width: 48px !important;
        min-height: 48px !important;
        width: 48px !important;
        height: 48px !important;
        padding: 0.5rem !important;
        font-size: 1.1rem !important;
        flex-shrink: 0 !important;
        border-radius: 50% !important;
    }
    
    .btn-send,
    #send-button {
        width: 48px !important;
        height: 48px !important;
        min-width: 48px !important;
        min-height: 48px !important;
        padding: 0.5rem !important;
        font-size: 1rem !important;
        flex-shrink: 0 !important;
        border-radius: 50% !important;
    }
}

/* Telas pequenas (< 360px) - Ajustes menores mas ainda confortáveis */
@media (max-width: 360px) {
    .input-area {
        padding: 0.9rem 0.65rem !important;
        padding-bottom: calc(0.9rem + env(safe-area-inset-bottom)) !important;
        min-height: 65px !important;
    }
    
    .input-container {
        gap: 0.65rem !important;
    }
    
    #message-input {
        padding: 0.75rem 1rem !important;
        font-size: 16px !important;
        min-height: 44px !important;
    }
    
    .btn-icon,
    #menu-toggle,
    .btn-send,
    #send-button {
        min-width: 44px !important;
        min-height: 44px !important;
        width: 44px !important;
        height: 44px !important;
        padding: 0.45rem !important;
        font-size: 1rem !important;
    }
}

/* Telas médias (361px - 414px) - iPhone regular */
@media (min-width: 361px) and (max-width: 414px) {
    .input-area {
        padding: 1rem 0.8rem !important;
        padding-bottom: calc(1rem + env(safe-area-inset-bottom)) !important;
        min-height: 70px !important;
    }
    
    #message-input {
        padding: 0.85rem 1.2rem !important;
        font-size: 16px !important;
        min-height: 48px !important;
    }
    
    .btn-icon,
    #menu-toggle,
    .btn-send,
    #send-button {
        min-width: 48px !important;
        min-height: 48px !important;
        width: 48px !important;
        height: 48px !important;
    }
}

/* Telas grandes (415px - 480px) - iPhone Plus/Android médio */
@media (min-width: 415px) and (max-width: 480px) {
    .input-area {
        padding: 1.1rem 0.85rem !important;
        padding-bottom: calc(1.1rem + env(safe-area-inset-bottom)) !important;
        min-height: 75px !important;
    }
    
    .input-container {
        gap: 0.85rem !important;
    }
    
    #message-input {
        padding: 0.95rem 1.3rem !important;
        font-size: 16px !important;
        min-height: 52px !important;
    }
    
    .btn-icon,
    #menu-toggle,
    .btn-send,
    #send-button {
        min-width: 52px !important;
        min-height: 52px !important;
        width: 52px !important;
        height: 52px !important;
        font-size: 1.15rem !important;
    }
}

/* Telas extra grandes (481px - 568px) - Android grande/small tablet */
@media (min-width: 481px) and (max-width: 568px) {
    .input-area {
        padding: 1.2rem 0.9rem !important;
        padding-bottom: calc(1.2rem + env(safe-area-inset-bottom)) !important;
        min-height: 80px !important;
    }
    
    .input-container {
        gap: 0.9rem !important;
    }
    
    #message-input {
        padding: 1rem 1.4rem !important;
        font-size: 16px !important;
        min-height: 56px !important;
    }
    
    .btn-icon,
    #menu-toggle,
    .btn-send,
    #send-button {
        min-width: 56px !important;
        min-height: 56px !important;
        width: 56px !important;
        height: 56px !important;
        font-size: 1.2rem !important;
    }
    
    /* Ajusta o conteúdo para não ficar atrás do input fixo */
    .chat-area {
        padding-bottom: 90px !important; /* Espaço aumentado para o input fixo maior */
    }
    
    .welcome-message {
        padding-bottom: 100px !important; /* Espaço extra aumentado para o input fixo maior */
    }
}

/* Quando o footer CVV está visível, aumenta ainda mais o padding */
@supports selector(:has(*)) {
    body:has(.cvv-disclaimer-footer[style*="display: block"]) .chat-area {
        padding-bottom: 130px !important; /* Espaço para input area + footer CVV */
    }
    
    body:has(.cvv-disclaimer-footer[style*="display: block"]) .welcome-message {
        padding-bottom: 140px !important;
    }
}

body.device-mobile .input-area {
    padding: 1rem 0.75rem !important;
    padding-bottom: calc(1rem + env(safe-area-inset-bottom)) !important; /* Suporte para safe area (notch/barra) */
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100vw !important;
    /* CORREÇÃO CRÍTICA: Z-index MÍNIMO - SEMPRE abaixo da sidebar (2147483647) */
    z-index: 50 !important; /* MUITO menor que sidebar (2147483647) - nunca sobrepor */
    min-height: 70px !important;
}

body.device-mobile .input-container {
    gap: 0.75rem !important;
}

body.device-mobile .input-info {
    display: none !important;
}

body.device-mobile.orientation-portrait .input-area {
    padding: 0.55rem 0.5rem !important;
}

/* Ajusta conteúdo para não ficar atrás do input fixo */
body.device-mobile .chat-area {
    padding-bottom: 90px !important; /* Aumentado de 70px para 90px */
}

/* Quando o footer CVV está visível, aumenta o padding bottom do chat area */
.cvv-disclaimer-footer[style*="display: block"] ~ .chat-area,
body:has(.cvv-disclaimer-footer[style*="display: block"]) .chat-area {
    padding-bottom: 130px !important; /* Espaço para input area + footer CVV */
}

body.device-mobile .welcome-message {
    padding-bottom: 150px !important; /* Aumentado para cobrir área verde vazia */
    min-height: calc(100vh - 150px) !important; /* Ocupa mais espaço vertical */
}

.input-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    max-width: 700px;
    margin: 0 auto;
    padding: 0 1rem;
}

.input-wrapper {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.4rem;
}

#message-input {
    flex: 1;
    padding: 0.8rem 1.2rem;
    border: 2px solid rgba(244, 166, 166, 0.3);
    border-radius: 25px;
    font-size: 1rem;
    outline: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: rgba(255, 255, 255, 0.9);
    /* backdrop-filter: blur(10px); */ /* Removido para melhor performance - muito pesado */
    font-family: 'Poppins', sans-serif;
    color: var(--text-warm-dark);
}

/* Desktop: Aumenta o tamanho do input apenas para computadores */
@media (min-width: 769px) {
    #message-input {
        padding: 1.2rem 1.6rem !important;
        font-size: 1.15rem !important;
        min-height: 56px !important;
        border-radius: 30px !important;
    }
    
    .input-area {
        padding: 1.5rem 1.2rem !important;
    }
    
    .input-container {
        max-width: 1200px !important;
        width: 95% !important;
        gap: 1rem !important;
    }
    
    .input-wrapper {
        flex: 1 !important;
        max-width: none !important;
    }
}

/* Mobile: Diminui tamanho do input */
@media (max-width: 768px) {
    #message-input {
        padding: 0.65rem 1rem !important;
        font-size: 0.9rem !important;
        border-radius: 20px !important;
    }
}

body.device-mobile #message-input {
    padding: 0.85rem 1.2rem !important;
    font-size: 16px !important;
    border-radius: 25px !important;
    min-height: 48px !important;
}

body.device-mobile.orientation-portrait #message-input {
    padding: 0.85rem 1.2rem !important;
    font-size: 16px !important;
    min-height: 48px !important;
}

body.device-mobile .btn-icon,
body.device-mobile #menu-toggle,
body.device-mobile .btn-send,
body.device-mobile #send-button {
    min-width: 48px !important;
    min-height: 48px !important;
    width: 48px !important;
    height: 48px !important;
}

#message-input:focus {
    border-color: var(--color-primary-warm);
    box-shadow: 0 0 0 3px rgba(244, 166, 166, 0.1);
    transform: translateY(-1px);
}

#message-input::placeholder {
    color: #9a7a6a;
    font-weight: 400;
}

.btn {
    padding: 0.75rem;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
}

.btn-primary {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    color: white !important;
    border: 2px solid var(--sophia-pink-primary) !important;
    box-shadow: var(--sophia-shadow-sm) !important;
    padding: 0.75rem 1.1rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.9rem !important;
    font-weight: 600 !important;
    min-height: auto !important;
    height: auto !important;
}

.btn-primary:hover {
    background: linear-gradient(135deg, var(--sophia-pink-dark) 0%, var(--sophia-pink-primary) 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: var(--sophia-shadow-md) !important;
}

.btn-secondary {
    background: var(--color-primary-warm); /* Cor sólida simples */
    color: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra simplificada */
}

.btn-send {
    background: var(--color-primary-warm); /* Cor sólida simples */
    color: white;
    width: 48px;
    height: 48px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra simplificada */
    margin-left: 0.2rem;
}

.btn-icon {
    background: rgba(244, 166, 166, 0.2);
    color: var(--text-warm-medium);
    width: 48px;
    height: 48px;
    /* backdrop-filter: blur(10px); */ /* Removido para melhor performance - muito pesado */
    border: 1px solid rgba(244, 166, 166, 0.3);
}

/* Botão "Conversar com a Sophia" - estilo unificado para todos os dispositivos */
.start-chat-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 100%;
    margin: 2rem auto;
    text-align: center;
    padding: 0 1rem;
    box-sizing: border-box;
    position: relative;
}

/* Botão "Conversar com a Sophia" - ícone à esquerda, texto à direita */
button#start-chat-btn.btn.btn-start-chat,
#start-chat-btn {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 auto;
    width: auto;
    min-width: 300px;
    max-width: 90%;
    text-align: center !important;
    white-space: nowrap;
    padding: 1.5rem 3rem !important;
    font-size: 0.85rem !important;
    font-weight: 600 !important;
    border-radius: 50px !important;
    gap: 0.5rem !important;
    background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%) !important;
    color: white !important;
    border: none !important;
    box-shadow: 0 4px 14px rgba(255, 107, 157, 0.38) !important;
    box-sizing: border-box;
    overflow: visible;
    position: relative;
    line-height: 1.4;
    min-height: 58px;
    height: auto;
    cursor: pointer;
    contain: layout style paint;
}

/* Ícone dentro do botão - centralizado */
button#start-chat-btn.btn.btn-start-chat i,
#start-chat-btn i {
    font-size: 1rem !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-shrink: 0 !important;
    margin: 0;
    padding: 0;
    order: 0 !important;
    line-height: 1;
    width: auto;
    height: auto;
    max-height: none;
    vertical-align: middle;
    color: white !important;
}

/* Texto dentro do botão - centralizado */
button#start-chat-btn.btn.btn-start-chat span,
#start-chat-btn span {
    display: inline-flex !important;
    align-items: center !important;
    flex: 0 0 auto !important;
    text-align: center !important;
    justify-content: center !important;
    margin: 0;
    padding: 0;
    order: 1 !important;
    white-space: nowrap;
    overflow: visible;
    text-overflow: clip;
    line-height: 1.4;
    min-width: 0;
    position: static;
    color: white !important;
    visibility: visible;
    opacity: 1;
    vertical-align: middle;
    max-width: 100%;
}

/* Garante que o texto dentro do span seja visível */
button#start-chat-btn.btn.btn-start-chat span *,
#start-chat-btn span * {
    color: white !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* REGRA DESKTOP DO BOTÃO #start-chat-btn */
/* ATENÇÃO: Estas regras se aplicam APENAS ao desktop (telas > 768px) */
/* Para mobile, veja a seção 9.1 na media query @media (max-width: 768px) no final do arquivo */
@media (min-width: 769px) {
    /* CORREÇÃO: Especificidade máxima para sobrescrever regras globais */
    body button#start-chat-btn.btn.btn-start-chat,
    body #start-chat-btn,
    .welcome-content button#start-chat-btn,
    .welcome-content #start-chat-btn {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important; /* CORREÇÃO: Centraliza conteúdo ao invés de space-between */
        margin: 0 auto !important;
        width: auto !important;
        min-width: 300px !important;
        max-width: 90% !important;
        text-align: center !important; /* CORREÇÃO: Texto centralizado */
        white-space: nowrap !important;
        padding: 1.5rem 3rem !important;
        font-size: 0.85rem !important;
        font-weight: 600 !important;
        border-radius: 50px !important;
        gap: 1rem !important;
        /* CORREÇÃO: Força fundo gradiente rosa (sobrescreve regras globais brancas) */
        background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%) !important;
        background-color: transparent !important; /* Remove fundo branco */
        color: white !important;
        border: none !important;
        box-shadow: 0 4px 15px rgba(255, 107, 157, 0.4) !important;
        box-sizing: border-box !important;
        overflow: visible !important;
        position: relative !important;
        line-height: 1.4 !important;
        min-height: 58px !important;
        height: auto !important;
        cursor: pointer !important;
        contain: layout style paint !important;
    }
    
    /* Ícone dentro do botão - alinhado à esquerda - APENAS DESKTOP */
    body button#start-chat-btn.btn.btn-start-chat i,
    body #start-chat-btn i,
    .welcome-content #start-chat-btn i {
        font-size: 1rem !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        flex-shrink: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
        line-height: 1 !important;
        width: auto !important;
        height: auto !important;
        max-height: none !important;
        vertical-align: middle !important;
        color: white !important;
    }

    /* Texto dentro do botão - centralizado - APENAS DESKTOP */
    body button#start-chat-btn.btn.btn-start-chat span,
    body #start-chat-btn span,
    .welcome-content #start-chat-btn span {
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important; /* CORREÇÃO: Centraliza o texto */
        margin: 0 !important;
        padding: 0 !important;
        white-space: nowrap !important;
        overflow: visible !important;
        text-overflow: clip !important;
        line-height: 1.4 !important;
        position: static !important;
        /* CORREÇÃO: Força cor branca (sobrescreve regras globais rosa) */
        color: white !important;
        visibility: visible !important;
        opacity: 1 !important;
        vertical-align: middle !important;
        max-width: 100% !important;
    }

    /* Garante que o texto dentro do span seja visível - APENAS DESKTOP */
    body button#start-chat-btn.btn.btn-start-chat span *,
    body #start-chat-btn span *,
    .welcome-content #start-chat-btn span * {
        color: white !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
}

/* Box-sizing para elementos filhos - GLOBAL (fora de media query, sem cor) */
#start-chat-btn * {
    box-sizing: border-box;
}

/* Interações e otimização do botão principal */
button#start-chat-btn.btn.btn-start-chat,
#start-chat-btn {
    box-shadow: 0 4px 14px rgba(255, 107, 157, 0.38) !important;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    will-change: transform, box-shadow;
    transform: translateZ(0);
}

button#start-chat-btn.btn.btn-start-chat:hover,
#start-chat-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(255, 107, 157, 0.6) !important;
}

/* Mobile: Diminui tamanho do botão ícone */
@media (max-width: 768px) {
    .btn-icon {
        width: 40px !important;
        height: 40px !important;
        padding: 0.5rem !important;
    }
}

body.device-mobile .btn-icon,
body.device-mobile #menu-toggle {
    width: 38px !important;
    height: 38px !important;
    min-width: 38px !important;
    min-height: 38px !important;
    padding: 0.4rem !important;
    font-size: 0.9rem !important;
    flex-shrink: 0 !important;
}

body.device-mobile.orientation-portrait .btn-icon,
body.device-mobile.orientation-portrait #menu-toggle {
    width: 36px !important;
    height: 36px !important;
    min-width: 36px !important;
    min-height: 36px !important;
    padding: 0.35rem !important;
}

.btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.btn:active {
    transform: translateY(0);
}

/* Touch-friendly interactions */
@media (hover: none) and (pointer: coarse) {
    .btn:hover {
        transform: none !important;
        box-shadow: inherit !important;
    }
    
    .btn:active {
        transform: scale(0.95);
    }
    
    .quick-btn:hover {
        transform: none !important;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 248, 240, 0.98) 100%) !important;
        color: #8b5a5a !important;
        box-shadow: 0 2px 8px rgba(244, 166, 166, 0.15) !important;
    }
    
    .quick-btn:active {
        transform: scale(0.97) !important;
        background: linear-gradient(135deg, #f4a6a6 0%, #f8b8c8 100%) !important;
        color: white !important;
    }

    .login-tab:hover {
        background: transparent !important;
        color: #6b4a3f !important;
    }

    .login-tab-block.active:hover {
        color: #fff !important;
    }

    .login-tab-block.active:hover i {
        color: #fff !important;
    }

    .login-tab:active {
        color: #f4a6a6 !important;
    }

    .btn-login-main:hover {
        transform: none !important;
    }

    .btn-login-main:active {
        transform: scale(0.98);
    }
    
    .category-item:hover {
        transform: none;
        background: rgba(255, 255, 255, 0.8) !important;
    }
    
    .category-item:active {
        transform: scale(0.98);
        background: rgba(248, 181, 181, 0.2) !important;
    }
}

.input-info {
    font-size: 0.75rem;
    color: #6c757d;
    min-width: 60px;
    text-align: right;
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

.modal.show {
    display: flex;
}

.modal-content {
    background: white;
    border-radius: 15px;
    max-width: 500px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
}

.modal-header {
    padding: 1.5rem;
    border-bottom: 1px solid #e9ecef;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.modal-header h3 {
    color: #e74c3c;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.close-modal {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: #6c757d;
    cursor: pointer;
    padding: 0.25rem;
}

.modal-body {
    padding: 1.5rem;
}

/* Modal Hospitais: evita overflow em mobile */
#hospitals-modal .modal-content {
    max-height: 85vh;
}
#hospitals-modal .modal-body {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}
@media (max-width: 768px) {
    #hospitals-modal .modal-content {
        width: 100%;
        max-width: 100%;
        margin: 0.5rem;
        max-height: 90vh;
    }
}

.alert-actions {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
}

.alert-actions .btn {
    border-radius: 8px;
    padding: 0.75rem 1rem;
    flex: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

/* Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes typing {
    0%, 80%, 100% {
        transform: scale(0);
    }
    40% {
        transform: scale(1);
    }
}

/* ===== RESPONSIVE DESIGN ===== */

/* Large Desktop (1200px+) */
  @media (min-width: 1200px) {
      .welcome-content {
          max-width: 800px;
      }

      .quick-questions {
          display: flex !important;
          flex-wrap: wrap !important;
          justify-content: center !important;
          gap: 1rem !important;
      }
    
    .input-container {
        max-width: 1200px;
    }
}

  /* Desktop (992px - 1199px) */
  @media (min-width: 992px) and (max-width: 1199px) {
      .quick-questions {
          display: flex !important;
          flex-wrap: wrap !important;
          justify-content: center !important;
          gap: 0.8rem !important;
      }
  }

/* Tablet Landscape (768px - 991px) */
@media (min-width: 768px) and (max-width: 991px) {
    .header {
        padding: 1rem 1.5rem;
    }
    
    .logo h1 {
        font-size: 1.4rem;
    }
    
    /* Welcome message no tablet landscape */
    .welcome-message {
        padding: 0.45rem 0.85rem;
        margin-right: 0.7rem;
    }
    
         #user-greeting {
          font-size: 1.15rem !important; /* Aumentado proporcionalmente */
      }
    
    .header-right {
        gap: 0.8rem;
    }
    
    /* Sidebar e logout button */
    .sidebar {
        width: 280px;
    }
    
    .sidebar-btn {
        padding: 0.85rem 0.95rem;
        font-size: 0.9rem;
    }
    
    .sidebar-btn-logout {
        padding: 0.85rem 0.95rem;
        font-size: 0.9rem;
    }
    
    .welcome-content {
        padding: 1.5rem;
        max-width: 600px;
    }
    
    .welcome-content h2 {
        font-size: 1.7rem;
    }
    
          .quick-questions {
          display: flex !important;
          flex-wrap: wrap !important;
          justify-content: center !important;
          gap: 0.7rem !important;
      }

      .quick-btn {
          font-size: 0.85rem;
          padding: 0.7rem 1rem;
          display: flex !important;
          flex-direction: row !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 0.6rem !important;
          width: auto !important;
          white-space: nowrap !important;
      }
    
    .message-content {
        max-width: 75%;
    }
    
    .input-container {
        padding: 0 1rem;
    }
    
    .back-to-welcome {
        top: 5rem;
        right: 0.8rem;
    }
    
    .chat-area {
        padding-top: 4rem;
    }
}

/* Tablet Portrait (576px - 767px) */
@media (min-width: 576px) and (max-width: 767px) {
    .container {
        margin: 0;
        border-radius: 0;
    }
    
    .header {
        padding: 1rem;
    }
    
    .logo h1 {
        font-size: 1.3rem;
    }
    
    /* Welcome message no tablet portrait */
    .welcome-message {
        padding: 0.4rem 0.8rem;
        margin-right: 0.6rem;
        display: flex !important;
    }
    
    #user-greeting {
        font-size: 0.8rem;
    }
    
    .header-right {
        gap: 0.7rem;
    }
    
    /* Sidebar e logout button */
    .sidebar {
        width: 260px;
    }
    
    .sidebar-btn {
        padding: 0.85rem 0.9rem;
        font-size: 0.9rem;
    }
    
    .sidebar-btn-logout {
        padding: 0.85rem 0.9rem;
        font-size: 0.9rem;
    }
    
    .welcome-content {
        padding: 0.8rem 0.7rem !important;
        max-width: 100% !important;
        width: 100% !important;
        margin: 0 auto !important;
        box-sizing: border-box !important;
    }
    
        .welcome-content h2 {
        font-size: 1.4rem !important;
        margin-bottom: 0.5rem !important;
    }

    .welcome-micro-phrase {
        font-size: 0.8rem !important;
        margin-top: 0.25rem !important;
        margin-bottom: 0.7rem !important;
    }

    .welcome-content p {
        font-size: 0.9rem !important;
        margin-bottom: 0.8rem !important;
    }
    
    /* Ajusta quick-questions para tablet portrait - compacto */
    .quick-questions {
        grid-template-columns: 1fr !important;
        max-width: 100% !important;
        width: 100% !important;
        padding: 0 0.7rem !important;
        gap: 0.45rem !important;
        margin: 0 auto 0.7rem !important;
    }
    .quick-questions.feeling-box {
        background: rgba(255, 255, 255, 0.95) !important;
        border: 2px solid rgba(244, 166, 166, 0.3) !important;
        border-radius: 20px !important;
        box-shadow: 0 4px 20px rgba(244, 166, 166, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
    }
    
    .quick-btn {
        font-size: 0.8rem !important;
        padding: 0.55rem 0.8rem !important;
        line-height: 1.35 !important;
    }
    
    .message-content {
        max-width: 80%;
    }
    
    .input-container {
        padding: 0 0.8rem;
    }
    
    .back-to-welcome {
        top: 4.5rem;
        right: 0.6rem;
    }
    
    .back-to-welcome .btn {
        font-size: 0.75rem;
        padding: 0.4rem 0.7rem;
    }
    
    .chat-area {
        padding-top: 3.5rem; /* Espaço para o botão não sobrepor em mobile landscape */
    }
}

/* Mobile Landscape (480px - 575px) */
@media (min-width: 480px) and (max-width: 575px) {
    .container {
        margin: 0;
        border-radius: 0;
        height: 100vh;
    }
    
    .header {
        padding: 0.8rem 1rem;
    }
    
    .logo h1 {
        font-size: 1.2rem;
    }
    
    .sidebar {
        width: 240px;
    }
    
    .welcome-content {
        padding: 0.5rem 0.6rem !important;
        max-width: 100% !important;
        width: 100% !important;
        margin: 0 auto !important;
        box-sizing: border-box !important;
    }
    
        .welcome-content h2 {
        font-size: 1.2rem !important;
        margin-bottom: 0.5rem !important;
    }

    .welcome-micro-phrase {
        font-size: 0.75rem !important;
        margin-top: 0.2rem !important;
        margin-bottom: 0.6rem !important;
    }

    .welcome-content p {
        font-size: 0.85rem !important;
        margin-bottom: 0.8rem !important;
    }
    
    /* Ajusta quick-questions para mobile landscape - compacto */
    .quick-questions {
        grid-template-columns: 1fr !important;
        max-width: 100% !important;
        width: 100% !important;
        padding: 0 0.6rem !important;
        gap: 0.4rem !important;
        margin: 0 auto 0.5rem !important;
    }
    
    .quick-btn {
        padding: 0.55rem 0.8rem !important;
        font-size: 0.8rem !important;
        line-height: 1.3 !important;
    }
    
    .welcome-content h2 {
        font-size: 1.4rem;
    }
    
    .welcome-content p {
        font-size: 0.95rem;
        margin-bottom: 2rem;
    }
    
          .quick-questions {
          display: flex !important;
          flex-wrap: wrap !important;
          justify-content: center !important;
          gap: 0.5rem !important;
      }

      .quick-btn {
          font-size: 0.8rem;
          padding: 0.6rem 1rem;
          display: flex !important;
          flex-direction: row !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 0.5rem !important;
          width: auto !important;
          white-space: normal !important; /* Permite quebra em mobile */
          max-width: calc(100% - 1rem) !important; /* Previne overflow */
      }
    
    .message-content {
        max-width: 85%;
    }
    
    /* Welcome message no mobile landscape */
    .welcome-message {
        padding: 0.4rem 0.7rem;
        margin-right: 0.5rem;
        display: flex !important;
    }
    
    #user-greeting {
        font-size: 0.75rem;
    }
    
    .header-right {
        gap: 0.5rem;
        flex-wrap: wrap;
    }
    
    /* Sidebar e logout button no mobile landscape */
    .sidebar {
        width: 240px;
    }
    
    .sidebar-btn {
        padding: 0.75rem 0.8rem;
        font-size: 0.85rem;
    }
    
    .sidebar-btn-logout {
        padding: 0.75rem 0.8rem;
        font-size: 0.85rem;
        margin-top: 0.5rem;
    }
    
    .input-container {
        padding: 0 0.5rem;
    }
    
    .back-to-welcome {
        top: 3.5rem;
        right: 0.5rem;
        z-index: 100;
    }
    
    .back-to-welcome .btn {
        font-size: 0.65rem;
        padding: 0.3rem 0.5rem;
    }
    
    .chat-area {
        padding-top: 2.5rem; /* Menos espaço em mobile landscape */
    }
    
    .chat-messages {
        padding-top: 0.5rem; /* Espaço adicional para evitar sobreposição */
    }
}

/* Mobile Portrait (até 479px) */
@media (max-width: 479px) {
    html, body {
        overflow-x: hidden !important;
        width: 100% !important;
        max-width: 100vw !important;
        position: relative !important;
    }
    
    .container {
        margin: 0 !important;
        border-radius: 0 !important;
        height: 100vh !important;
        max-width: 100vw !important;
        width: 100% !important;
        overflow-x: hidden !important;
        box-sizing: border-box !important;
    }
    
    .chat-container {
        max-width: 95vw !important;
        overflow-x: hidden !important;
        width: 95% !important;
        margin: 0 auto !important;
    }
    
    .header {
        padding: 0.7rem 0.8rem;
    }
    
    .logo h1 {
        font-size: 1.1rem;
    }
    
    .logo i {
        font-size: 1.3rem;
    }
    
    .status-indicator {
        font-size: 0.8rem;
    }
    
    .account-button {
        font-size: 0.75rem;
        padding: 0.4rem 0.7rem;
    }
    
    .logo .subtitle {
        display: none;
    }
    
    .sidebar {
        width: 220px;
        overflow: visible !important;
        height: auto !important;
    }
    
    .sidebar-content {
        overflow: visible !important;
        height: auto !important;
    }
    
    .sidebar-header {
        padding: 1rem;
        background: #ffffff !important; /* MESMO BACKGROUND DO .sidebar */
        background-color: #ffffff !important;
        margin: 0 !important;
        margin-top: 0 !important;
    }
    
    .sidebar-header h3 {
        font-size: 0.9rem;
    }
    
         /* Ajusta welcome-message para mobile - ULTRA COMPACTO para caber na tela */
     .welcome-message {
         padding: 0 !important;
         align-items: center !important;
         justify-content: flex-start !important;
         padding-top: 0.5rem !important;
         padding-bottom: 0.5rem !important;
         overflow: visible !important;
         overflow-x: hidden !important;
         box-sizing: border-box !important;
         width: 100% !important;
         max-width: 100vw !important;
         left: 0 !important;
         right: 0 !important;
         margin: 0 !important;
         display: flex !important;
         flex-direction: column !important;
         height: auto !important;
     }
     
     /* GARANTE que o welcome-content esteja CENTRALIZADO dentro do welcome-message */
     .welcome-message > * {
         width: 100% !important;
         max-width: 100% !important;
         margin-left: auto !important;
         margin-right: auto !important;
     }
    
                  .welcome-content {
         padding: 1.5rem 1rem 1.5rem 0.5rem !important;
         max-width: 100% !important;
         width: 100% !important;
         margin: 0 auto !important;
         margin-left: 0.5rem !important;
         box-sizing: border-box !important;
         text-align: center !important;
         display: block !important;
         position: relative !important;
         left: 0 !important;
         right: 0 !important;
         float: none !important;
         transform: none !important;
         align-self: center !important;
         overflow-x: hidden !important;
         justify-self: center !important;
     }
     
     .welcome-content i {
         font-size: 2rem !important;
         margin-bottom: 0.5rem !important;
     }
     
          .welcome-content h2 {
         font-size: 1.6rem !important;
         margin-bottom: 0.5rem !important;
         padding: 0 0.3rem !important;
         line-height: 1.3 !important;
         word-wrap: break-word !important;
         overflow-wrap: break-word !important;
         max-width: 100% !important;
     }

     .welcome-micro-phrase {
         font-size: 0.75rem !important;
         margin-top: 0.2rem !important;
         margin-bottom: 0.6rem !important;
         line-height: 1.4 !important;
         padding: 0 0.3rem !important;
         word-wrap: break-word !important;
         overflow-wrap: break-word !important;
         max-width: 100% !important;
     }

     .welcome-content p {
         font-size: 0.85rem !important;
         margin-bottom: 0.8rem !important;
         line-height: 1.4 !important;
         padding: 0 0.3rem !important;
         word-wrap: break-word !important;
         overflow-wrap: break-word !important;
         max-width: 100% !important;
     }
    
         /* Ajusta quick-questions para mobile portrait - ULTRA COMPACTO */
     .quick-questions {
         max-width: 100% !important;
         width: 100% !important;
         padding: 0 0.5rem !important;
         margin: 30px auto 0.5rem !important; /* Margin-top aumentado para 30px em mobile */
         margin-top: 30px !important; /* Espaçamento acima da seção em mobile */
         box-sizing: border-box !important;
         position: relative !important;
         overflow-x: hidden !important;
     }
     /* Mantém card branco em mobile quando é feeling-box */
     .quick-questions.feeling-box {
         background: rgba(255, 255, 255, 0.95) !important;
         background-color: rgba(255, 255, 255, 0.95) !important;
         border: 2px solid rgba(244, 166, 166, 0.3) !important;
         border-radius: 20px !important;
         padding: 1rem 1.25rem !important;
         box-shadow: 0 4px 20px rgba(244, 166, 166, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
     }
     
     .quick-questions h2 {
         font-size: 1rem !important; /* Reduzido de 1.2rem para 1rem em mobile */
         margin-bottom: 0.4rem !important;
         line-height: 1.6 !important;
     }
     
     .quick-questions-subtitle {
         font-size: 0.75rem !important; /* Reduzido de 0.85rem para 0.75rem em mobile */
         margin-bottom: 0.9rem !important;
         line-height: 1.6 !important;
     }
     
     .quick-questions-grid {
         grid-template-columns: 1fr !important;
         gap: 0.6rem !important;
         display: grid !important;
         align-items: stretch !important; /* Garante altura uniforme */
         justify-items: stretch !important;
     }
     
     .quick-btn {
         width: 100% !important;
         max-width: 100% !important;
         font-size: 0.75rem !important; /* Reduzido de 0.85rem para 0.75rem */
         padding: 0.75rem 0.9rem !important;
         border-radius: 12px !important;
         box-sizing: border-box !important;
         line-height: 1.6 !important; /* Aumentado de 1.4 para 1.6 */
         min-height: 44px !important;
         word-wrap: break-word !important;
         overflow-wrap: break-word !important;
         white-space: normal !important;
         overflow: visible !important;
         text-align: center !important;
         display: flex !important;
         align-items: center !important;
         justify-content: center !important;
         font-weight: 600 !important;
         border-width: 2px !important;
         box-shadow: 0 2px 8px rgba(244, 166, 166, 0.15) !important;
     }
     
     .quick-btn i {
         font-size: 1.2rem !important; /* Reduzido de 1.5rem para 1.2rem em mobile */
         color: #ff6b9d !important;
         opacity: 1 !important;
         z-index: 1 !important;
         position: relative !important;
     }

     .quick-btn:active {
         transform: scale(0.97) !important;
         transition: all 0.1s !important;
     }
    
    .message {
        gap: 0.5rem;
    }
    
    .message-avatar {
        width: 35px;
        height: 35px;
        font-size: 1rem;
    }
    
    .message-content {
        max-width: 90%;
        padding: 0.8rem;
        border-radius: 15px;
    }
    
    .input-area {
        padding: 0.8rem;
    }
    
    .input-container {
        gap: 0.5rem;
        padding: 0 0.3rem;
    }
    
    #message-input {
        padding: 0.6rem 0.8rem;
        font-size: 0.9rem;
    }
    
    .btn {
        width: 42px;
        height: 42px;
        font-size: 0.9rem;
    }
    
    .btn-send {
        width: 44px;
        height: 44px;
    }
    
    .input-info {
        font-size: 0.7rem;
    }
    
    /* Welcome message no mobile portrait */
    .header-right {
        flex-direction: row;
        gap: 0.4rem;
        flex-wrap: wrap;
    }
    
    .welcome-message {
        padding: 0.35rem 0.6rem;
        margin-right: 0.4rem;
        display: flex !important;
        order: 1;
    }
    
         #user-greeting {
          font-size: 1rem !important; /* Aumentado proporcionalmente */
      }
    
    .status-indicator {
        order: 2;
        font-size: 0.75rem;
    }
    
    /* Sidebar e logout button no mobile */
    .sidebar {
        width: 100%;
        max-width: 280px;
    }
    
    .sidebar-btn {
        padding: 0.8rem 0.85rem;
        font-size: 0.85rem;
    }
    
    .sidebar-btn-logout {
        padding: 0.8rem 0.85rem;
        font-size: 0.85rem;
        margin-top: 0.5rem;
    }
    
    .sidebar-section {
        margin-bottom: 1rem;
    }
    
    /* Ajusta botão "Voltar ao início" para mobile portrait */
    .back-to-welcome {
        top: 3.5rem;
        right: 0.4rem;
        z-index: 100;
    }
    
    .back-to-welcome .btn {
        font-size: 0.65rem;
        padding: 0.3rem 0.5rem;
    }
    
    .chat-area {
        padding-top: 2.5rem; /* Menos espaço em mobile portrait */
    }
    
    .chat-messages {
        padding-top: 0.5rem; /* Espaço adicional para evitar sobreposição */
    }
    
    /* Typing indicator agora está acima do botão de enviar - não precisa de sticky */
    .typing-indicator {
        position: absolute !important;
        bottom: calc(100% + 4px) !important;
        right: 50px !important; /* Alinhado com botão de enviar */
        padding: 0.4rem 0.6rem !important;
        background: rgba(255, 255, 255, 0.95) !important;
        border-radius: 20px !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
        z-index: 100 !important;
        margin: 0 !important;
    }
    
    .typing-dots {
        display: flex;
        gap: 4px;
        align-items: center;
        justify-content: center;
    }
    
    .typing-dots span {
        width: 5px;
        height: 5px;
        background: #ff8fa3;
        border-radius: 50%;
        animation: typingDot 1.4s infinite ease-in-out;
        opacity: 0.4;
    }
    
    .typing-dots span:nth-child(1) {
        animation-delay: 0s;
    }
    
    .typing-dots span:nth-child(2) {
        animation-delay: 0.2s;
    }
    
    .typing-dots span:nth-child(3) {
        animation-delay: 0.4s;
    }
    
    @keyframes typingDot {
        0%, 60%, 100% {
            transform: translateY(0);
            opacity: 0.4;
        }
        30% {
            transform: translateY(-8px); /* Movimento maior no mobile */
            opacity: 1;
        }
    }
    
    .typing-indicator span:not(.typing-dots) {
        font-size: 0.85rem; /* Texto ligeiramente menor no mobile */
        color: var(--text-warm-medium, #666);
        margin-left: 0.5rem;
    }
    
    .alert-actions {
        flex-direction: column;
        gap: 0.8rem;
    }
    
    .alert-actions .btn {
        padding: 0.85rem 0.75rem !important;
        font-size: 0.85rem !important;
        white-space: normal !important;
        word-wrap: break-word;
        line-height: 1.3;
        min-height: 48px;
    }
    
    .modal-content {
        width: 95%;
        margin: 1rem;
        max-width: 95vw;
        box-sizing: border-box;
    }
    
    .modal-header {
        padding: 1rem;
    }
    
    .modal-body {
        padding: 1rem;
    }
}

/* ===== DEVICE-SPECIFIC OPTIMIZATIONS ===== */

/* Mobile Portrait Optimizations */
.device-mobile-portrait .quick-questions {
    grid-template-columns: 1fr;
    gap: 0.4rem;
}

.device-mobile-portrait .welcome-content {
    padding: 0.4rem 0.6rem; /* Reduzido ainda mais */
}

.device-mobile-portrait .input-area {
    padding: 0.8rem;
}

/* Mobile Landscape Optimizations */
.device-mobile-landscape .welcome-content {
    padding: 0.5rem 0.8rem; /* Reduzido ainda mais */
}

.device-mobile-landscape .quick-questions {
    grid-template-columns: 1fr;
    gap: 0.5rem;
}

/* Tablet Portrait Optimizations */
.device-tablet-portrait .quick-questions {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.6rem;
}

.device-tablet-portrait .welcome-content {
    padding: 0.8rem 0.9rem 0.8rem 0.7rem !important; /* Reduzido ainda mais */
    margin-left: -0.3rem !important;
}

.device-tablet-portrait .welcome-content h2 {
    font-size: 1.8rem !important;
}

/* Tablet Landscape Optimizations */
.device-tablet-landscape .quick-questions {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.7rem;
}

.device-tablet-landscape .welcome-content {
    padding: 1rem 1rem 1rem 0.8rem !important; /* Reduzido ainda mais */
    margin-left: -0.3rem !important;
}

.device-tablet-landscape .welcome-content h2 {
    font-size: 2rem !important;
}

/* Desktop Optimizations */
.device-desktop-small .quick-questions {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.8rem;
}

.device-desktop-large .quick-questions {
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
}

.device-desktop-large .welcome-content {
    max-width: 600px;
}

.device-desktop-large .input-container {
    max-width: 900px;
}

/* Touch Device Optimizations */
@media (hover: none) and (pointer: coarse) {
    .device-mobile-portrait #message-input,
    .device-mobile-landscape #message-input {
        font-size: 16px !important; /* Previne zoom no iOS */
    }
    
    .device-mobile-portrait .btn,
    .device-mobile-landscape .btn,
    .device-tablet-portrait .btn,
    .device-tablet-landscape .btn {
        min-width: 44px;
        min-height: 44px;
    }
    
    .device-mobile-portrait .quick-btn,
    .device-mobile-landscape .quick-btn,
    .device-tablet-portrait .quick-btn,
    .device-tablet-landscape .quick-btn {
        min-height: 44px;
        padding: 0.6rem 1rem;
    }
}

/* High DPI Display Optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .welcome-content i,
    .logo i {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
    
    .btn,
    .quick-btn {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

/* Dark Mode Support (para futuras implementações) */
@media (prefers-color-scheme: dark) {
    /* Preparado para modo escuro se necessário */
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .welcome-content i {
        animation: none !important;
    }
    
    .quick-btn::before {
        transition: none !important;
    }
}

@media (max-width: 480px) {
    .welcome-content h2 {
        font-size: 1.3rem;
    }
    
    .quick-btn {
        padding: 0.6rem 1rem;
        font-size: 0.8rem;
    }
    
    .message-content {
        max-width: 90%;
        padding: 0.75rem;
    }
}

/* Scrollbar personalizado */
.chat-messages::-webkit-scrollbar,
.categories::-webkit-scrollbar {
    width: 6px;
}

.chat-messages::-webkit-scrollbar-track,
.categories::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb,
.categories::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb:hover,
.categories::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}

/* ===== AUTHENTICATION STYLES ===== */

.modal-auth {
    max-width: 450px;
}

.auth-tabs {
    display: flex;
    gap: 0;
    border-bottom: 2px solid rgba(244, 166, 166, 0.2);
    margin-bottom: 1.5rem;
}

.auth-tab {
    flex: 1;
    padding: 0.75rem 1rem;
    background: none;
    border: none;
    border-bottom: 3px solid transparent;
    color: var(--text-warm-medium);
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.auth-tab:hover {
    color: var(--color-primary-warm);
    background: rgba(244, 166, 166, 0.05);
}

.auth-tab.active {
    color: var(--color-primary-warm);
    border-bottom-color: var(--color-primary-warm);
}

.auth-tab i {
    margin-right: 0.5rem;
}

.auth-form {
    display: none;
}

.auth-form.active {
    display: block;
    animation: fadeInUp 0.4s ease;
}

/* Garantir que os estilos de remember-me funcionem também nos formulários de cadastro */
#initial-register-form .remember-me-label,
#register-form .remember-me-label,
.auth-form .remember-me-label {
    display: flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
    gap: 0.5rem;
    font-size: 0.9rem;
    color: var(--text-warm-medium);
    transition: all 0.3s ease;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow: visible;
    flex-wrap: nowrap;
}

#initial-register-form .remember-me-text,
#register-form .remember-me-text,
.auth-form .remember-me-text {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    font-weight: 500;
    flex: 0 1 auto;
    white-space: nowrap;
    overflow: visible;
}

#initial-register-form .remember-me-group,
#register-form .remember-me-group,
.auth-form .remember-me-group {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow: visible;
}

/* Mobile - garantir que funcione em todos os formulários */
@media (max-width: 768px) {
    #initial-register-form .remember-me-label,
    #register-form .remember-me-label,
    .auth-form .remember-me-label {
        flex-wrap: nowrap !important;
        width: 100% !important;
        min-width: 0;
        max-width: 100% !important;
        align-items: center;
    }
    
    #initial-register-form .remember-me-label input[type="checkbox"],
    #register-form .remember-me-label input[type="checkbox"],
    .auth-form .remember-me-label input[type="checkbox"] {
        flex-shrink: 0 !important;
        flex-grow: 0 !important;
    }
    
    #initial-register-form .remember-me-text,
    #register-form .remember-me-text,
    .auth-form .remember-me-text {
        white-space: nowrap !important;
        overflow: visible !important;
        text-overflow: clip !important;
        flex: 1 1 auto !important;
        min-width: 0;
        max-width: none !important;
        width: auto !important;
        display: inline-flex !important;
    }
    
    #initial-register-form .remember-me-group,
    #register-form .remember-me-group,
    .auth-form .remember-me-group {
        width: 100% !important;
        max-width: 100% !important;
        overflow: visible !important;
        box-sizing: border-box;
        padding: 0 !important;
        margin: 0 !important;
    }
}

.form-group {
    margin-bottom: 1rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-warm-dark);
    font-weight: 500;
    font-size: 0.9rem;
}

.form-group label i {
    margin-right: 0.5rem;
    color: var(--color-primary-warm);
}

.form-group input {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid rgba(244, 166, 166, 0.3);
    border-radius: 10px;
    font-size: 1rem;
    transition: all 0.3s ease;
    font-family: 'Nunito', sans-serif;
}

.form-group input:focus {
    outline: none;
    border-color: var(--color-primary-warm);
    box-shadow: 0 0 0 3px rgba(244, 166, 166, 0.1);
}

.btn-full {
    width: 100%;
    padding: 0.75rem;
    margin-top: 0.5rem;
}

.auth-link {
    text-align: center;
    margin-top: 1rem;
    font-size: 0.9rem;
    color: var(--text-warm-medium);
}

.auth-link a {
    color: var(--color-primary-warm);
    text-decoration: none;
    font-weight: 600;
}

.auth-link a:hover {
    text-decoration: underline;
}

/* Account Button */
.welcome-message {
    display: flex;
    align-items: center;
    margin-right: 1rem;
    padding: 0.5rem 1rem;
    background: rgba(244, 166, 166, 0.15);
    border-radius: 20px;
    border: 2px solid rgba(244, 166, 166, 0.25);
}

#user-greeting {
    color: #7a4a4a !important; /* Tom mais escuro para melhor contraste */
    font-size: 1.35rem !important; /* Aumentado para melhor visibilidade */
    font-weight: 600 !important; /* Mais peso para destaque */
    font-family: 'Nunito', sans-serif;
    white-space: nowrap;
    text-shadow: 0 2px 6px rgba(139, 90, 90, 0.15), 0 1px 3px rgba(0, 0, 0, 0.08); /* Sombra mais pronunciada */
}

.welcome-message:hover {
    background: rgba(244, 166, 166, 0.25);
    transform: translateY(-1px);
    transition: all 0.3s ease;
}

/* Responsividade para Welcome Message e Header Right */
@media (max-width: 768px) {
    /* Esconde welcome-message no header (deixa apenas status-indicator) */
    .header-right .welcome-message,
    .header-right #welcome-user {
        display: none !important;
    }
    
    .welcome-message {
        padding: 0.4rem 0.7rem;
        margin-right: 0.4rem !important;
        margin-left: 0.3rem !important;
        display: flex !important; /* Garante que aparece no mobile */
    }
    
    #user-greeting {
        font-size: 0.75rem;
    }
    
    .header-right {
        flex-wrap: wrap;
        gap: 0.5rem;
        padding-right: 0.3rem !important;
        margin-left: auto !important;
    }
    
    .status-indicator {
        font-size: 0.8rem;
    }
}

/* Tablet Portrait - Ajustes para welcome message */
@media (min-width: 576px) and (max-width: 767px) {
          .welcome-message {
          padding: 0.4rem 0.8rem;
          margin-right: 0.6rem;
      }

     #user-greeting {
          font-size: 1.1rem !important; /* Aumentado proporcionalmente */
      }

      .header {
          padding: 1rem 1.2rem;
    }
    
    .header-right {
        gap: 0.7rem;
    }
}

  /* ===== FEATURE SECTIONS ===== */

  .feature-sections {
    margin-top: 4.5rem; /* Aumentado para 72px (4.5rem) - respiração entre boas-vindas e recursos */
    padding-top: 1.5rem; /* Mais padding */
    border-top: 2px solid rgba(244, 166, 166, 0.25);
      animation: featureFadeIn 0.8s ease-out 1.1s backwards;
      width: 100%;
      max-width: 100%;
      margin-left: auto;
      margin-right: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
  }

/* Mobile: Esconde carrossel e mostra grid 2x2 */
@media (max-width: 768px) {
    .feature-carousel-container {
        display: block !important;
    }
    
    .feature-carousel-container .carousel-btn {
        display: none !important;
    }
    
    .feature-carousel-container .carousel-dots {
        display: none !important;
    }
    
    .feature-carousel {
        display: block !important;
        width: 100% !important;
        overflow: visible !important;
    }
    
    .feature-carousel-track {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1rem !important;
        transform: none !important;
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 1rem !important;
        flex-direction: column !important;
        flex-wrap: wrap !important;
    }
    
    .feature-btn {
        width: 100% !important;
        max-width: 100% !important;
        min-width: auto !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 0.5rem !important;
    }
    
    .feature-btn i {
        order: 1 !important;
        display: block !important;
        margin-bottom: 0.3rem !important;
    }
    
    .feature-btn span {
        order: 2 !important;
        display: block !important;
        text-align: center !important;
    }
}

/* Mobile Portrait - Grid 2x2 */
body.device-mobile.orientation-portrait .feature-carousel-container .carousel-btn,
body.device-mobile.orientation-portrait .feature-carousel-container .carousel-dots {
    display: none !important;
}

body.device-mobile.orientation-portrait .feature-carousel {
    display: block !important;
    width: 100% !important;
    overflow: visible !important;
}

body.device-mobile.orientation-portrait .feature-carousel-track {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 1rem !important;
    transform: none !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 1rem !important;
    flex-direction: column !important;
    flex-wrap: wrap !important;
}

body.device-mobile.orientation-portrait .feature-btn {
    width: 100% !important;
    max-width: 100% !important;
    min-width: auto !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
}

body.device-mobile.orientation-portrait .feature-btn i {
    order: 1 !important;
    display: block !important;
    margin-bottom: 0.3rem !important;
}

body.device-mobile.orientation-portrait .feature-btn span {
    order: 2 !important;
    display: block !important;
    text-align: center !important;
}

/* Tablet Portrait - Grid 2x2 */
body.device-tablet.orientation-portrait .feature-carousel-container .carousel-btn,
body.device-tablet.orientation-portrait .feature-carousel-container .carousel-dots {
    display: none !important;
}

body.device-tablet.orientation-portrait .feature-carousel-track {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 1.2rem !important;
    transform: none !important;
}

body.device-tablet.orientation-portrait .feature-btn {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
}

body.device-tablet.orientation-portrait .feature-btn i {
    order: 1 !important;
    display: block !important;
    margin-bottom: 0.3rem !important;
}

body.device-tablet.orientation-portrait .feature-btn span {
    order: 2 !important;
    display: block !important;
    text-align: center !important;
}

@keyframes featureFadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

.feature-sections h2,
.feature-sections h3 {
    text-align: center;
    color: #7a4a4a; /* Tom mais escuro para melhor contraste */
    margin-bottom: 1.2rem; /* Mais espaço abaixo */
    margin-top: 0.5rem; /* Espaço acima */
    font-size: 1.15rem; /* Tamanho aumentado */
    font-weight: 600;
    font-family: 'Nunito', sans-serif;
    text-shadow: 0 2px 6px rgba(139, 90, 90, 0.12), 0 1px 3px rgba(0, 0, 0, 0.06); /* Sombra sutil */
}

  /* ===== FEATURE CAROUSEL ===== */
  .feature-carousel-container {
      position: relative;
      max-width: 800px;
      width: 100%;
      margin: 0 auto;
      display: flex !important;
      flex-direction: row !important; /* Garante que botões de navegação e carrossel fiquem em linha */
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0 2.5rem;
      box-sizing: border-box;
  }

.feature-carousel {
    flex: 1;
    overflow: hidden;
    position: relative;
    width: 100%;
    display: block !important; /* Força display block */
    min-width: 0; /* Permite que o flex-shrink funcione corretamente */
}

  /* Desktop: Layout horizontal (carrossel) */
  .feature-carousel-track {
      display: flex !important;
      flex-direction: row !important; /* Garante que seja horizontal */
      flex-wrap: nowrap !important; /* Impede quebra de linha */
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      gap: 1rem;
      align-items: stretch !important;
      justify-content: flex-start !important;
      width: 100% !important;
      height: auto !important; /* Garante que não tenha altura fixa que force coluna */
      overflow: visible !important; /* Permite que os botões sejam visíveis mesmo se ultrapassarem */
      /* FORÇA LAYOUT HORIZONTAL - REGRAS MUITO ESPECÍFICAS */
      grid-template-columns: none !important;
      grid-template-rows: none !important;
      grid-auto-flow: row !important;
      column-count: auto !important;
      column-width: auto !important;
      flex-flow: row nowrap !important;
  }
  
  /* REGRA EXTREMAMENTE ESPECÍFICA PARA GARANTIR LAYOUT HORIZONTAL (apenas desktop) */
  @media (min-width: 769px) {
      .feature-sections .feature-carousel-container .feature-carousel .feature-carousel-track {
          display: flex !important;
          flex-direction: row !important;
          flex-wrap: nowrap !important;
          grid-template-columns: none !important;
          grid-template-rows: none !important;
      }
  }
  
  /* Mobile e Tablet: FORÇA GRID 2x2 (sobrescreve TODAS as regras gerais) */
  @media (max-width: 768px) {
      .feature-carousel-track,
      .feature-sections .feature-carousel-container .feature-carousel .feature-carousel-track,
      #feature-carousel-track {
          display: grid !important;
          grid-template-columns: repeat(2, 1fr) !important;
          grid-template-rows: repeat(2, auto) !important;
          gap: 1rem !important;
          flex-direction: column !important;
          flex-wrap: wrap !important;
          transform: none !important;
          width: 100% !important;
          max-width: 100% !important;
          padding: 0 1rem !important;
          transition: none !important;
      }
  }
  
  body.device-mobile .feature-carousel-track,
  body.device-tablet .feature-carousel-track,
  body.device-mobile .feature-sections .feature-carousel-container .feature-carousel .feature-carousel-track,
  body.device-tablet .feature-sections .feature-carousel-container .feature-carousel .feature-carousel-track,
  body.device-mobile #feature-carousel-track,
  body.device-tablet #feature-carousel-track {
      display: grid !important;
      grid-template-columns: repeat(2, 1fr) !important;
      grid-template-rows: repeat(2, auto) !important;
      gap: 1rem !important;
      flex-direction: column !important;
      flex-wrap: wrap !important;
      transform: none !important;
      width: 100% !important;
      max-width: 100% !important;
      padding: 0 1rem !important;
      transition: none !important;
  }

.feature-btn {
    background: linear-gradient(135deg, #f4a6a6 0%, #e8b4b8 100%);
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 18px; /* Borda arredondada consistente */
    padding: 1.5rem 1.2rem; /* Padding padronizado */
    color: white;
    cursor: pointer;
    transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1); /* Transição mais suave */
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.25), 0 2px 6px rgba(0, 0, 0, 0.08); /* Sombra padronizada para profundidade */
    font-weight: 700;
    font-size: 1rem;
    display: flex !important;
    flex-direction: column !important; /* Conteúdo interno do botão (ícone + texto) em coluna */
    align-items: center !important; /* Centraliza horizontalmente */
    justify-content: center !important; /* Centraliza verticalmente */
    gap: 0.8rem !important; /* Espaçamento entre ícone e texto */
    position: relative !important; /* Força position relative */
    overflow: hidden;
    min-width: 160px !important;
    width: auto !important; /* Impede que ocupe 100% da largura */
    max-width: 200px !important; /* Largura máxima para manter tamanho consistente */
    flex-shrink: 0 !important; /* Nunca encolhe */
    flex-grow: 0 !important; /* Nunca expande */
    flex-basis: auto !important; /* Base flex automática */
    min-height: 140px;
    /* FORÇA QUE O BOTÃO SEJA UM ITEM FLEX HORIZONTAL (irmão dos outros botões) */
    float: none !important;
    clear: none !important;
    vertical-align: top !important;
    /* GARANTE QUE NÃO SEJA AFETADO POR GRID */
    grid-column: auto !important;
    grid-row: auto !important;
    /* Animação fade-in quando os cards aparecem */
    animation: cardFadeIn 0.6s ease-out backwards;
    opacity: 0;
    animation-fill-mode: forwards;
}

.feature-btn:nth-child(1) { animation-delay: 0.1s; }
.feature-btn:nth-child(2) { animation-delay: 0.2s; }
.feature-btn:nth-child(3) { animation-delay: 0.3s; }
.feature-btn:nth-child(4) { animation-delay: 0.4s; }

@keyframes cardFadeIn {
    from {
        opacity: 0;
        transform: translateY(15px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.feature-btn span {
    font-size: 0.95rem;
    font-weight: 600;
    white-space: nowrap;
    text-align: center !important; /* Centraliza o texto */
    order: 2 !important; /* Garante que o texto venha depois do ícone */
    display: block !important;
    width: 100%;
    line-height: 1.6 !important; /* Aumentado para melhor espaçamento */
}

.feature-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.5s, height 0.5s;
}

.feature-btn:hover::before {
    width: 200px;
    height: 200px;
}

.feature-btn:hover {
    transform: translateY(-8px) scale(1.05);
    box-shadow: 0 12px 40px rgba(244, 166, 166, 0.6), 0 6px 20px rgba(0, 0, 0, 0.12); /* Sombra mais pronunciada no hover */
    background: linear-gradient(135deg, #f8a5b5 0%, #f4b8c8 100%);
    border-color: rgba(255, 255, 255, 0.5);
    transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1); /* Transição suave no hover */
}
.feature-btn:focus-visible {
    outline: 3px solid rgba(244, 166, 166, 0.5);
    outline-offset: 2px;
}

.feature-btn:active {
    transform: translateY(-4px) scale(1.02);
    transition: all 0.1s;
}

.feature-btn i {
    font-size: 1.3rem !important;
    transition: transform 0.3s ease;
    /* filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2)); */ /* Removido - muito pesado */
    order: 1 !important; /* Garante que o ícone venha antes do texto */
    display: block !important;
    margin-bottom: 0.5rem !important; /* Espaçamento entre ícone e texto */
    line-height: 1 !important; /* Evita espaçamento extra */
    color: white !important; /* Cor branca para contraste no botão rosa */
    opacity: 1 !important;
    z-index: 1 !important;
    position: relative !important;
    visibility: visible !important; /* Garante visibilidade */
    font-family: "Font Awesome 6 Free" !important; /* Font Awesome 6 */
    font-weight: 900 !important; /* Font Awesome solid */
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
}

/* Mobile: Garante que ícone fique acima do texto */
@media (max-width: 768px) {
    .feature-btn {
        flex-direction: column !important;
    }
    
    .feature-btn i {
        order: 1 !important;
        margin-bottom: 0.5rem !important;
    }
    
    .feature-btn span {
        order: 2 !important;
    }
}

.feature-btn:hover i {
    transform: scale(1.15) rotate(5deg);
}

/* Carousel Navigation Buttons */
.carousel-btn {
    background: linear-gradient(135deg, rgba(244, 166, 166, 0.9) 0%, rgba(232, 180, 184, 0.9) 100%);
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
    font-size: 1.2rem;
    box-shadow: 0 4px 15px rgba(244, 166, 166, 0.3);
    flex-shrink: 0;
    z-index: 10;
}

.carousel-btn:hover {
    background: linear-gradient(135deg, #f4a6a6 0%, #e8b4b8 100%);
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(244, 166, 166, 0.5);
}

.carousel-btn:active {
    transform: scale(0.95);
}

.carousel-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    transform: none;
}

/* Carousel Dots: elemento #feature-carousel-dots removido do HTML (lista vertical). Manter display:none para falha silenciosa se o ID for reintroduzido. */
.carousel-dots,
#feature-carousel-dots {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
}

.carousel-dots .dot {
    display: none !important;
}

  /* ===== RESOURCES MODAL ===== */

.modal-resources {
    max-width: 900px;
    max-height: 90vh;
}

#resources-content {
    max-height: 70vh;
    overflow-y: auto;
    padding-right: 0.5rem;
}

.guia-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
}

.guia-card {
    background: white;
    border-radius: 15px;
    padding: 1.2rem;
    border: 2px solid rgba(244, 166, 166, 0.2);
    cursor: pointer;
    transition: all 0.3s ease;
}

.guia-card:hover {
    border-color: var(--color-primary-warm);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(244, 166, 166, 0.2);
}

.guia-card-title {
    font-weight: 600;
    color: var(--text-warm-medium);
    margin-bottom: 0.5rem;
    font-size: 1rem;
}

.guia-card-desc {
    font-size: 0.85rem;
    color: #666;
}

.passo-card {
    background: #fff9f7;
    border-left: 4px solid #f4a6a6;
    border-radius: 10px;
    padding: 1rem;
    margin-bottom: 1rem;
}

.passo-numero {
    display: inline-block;
    background: var(--color-primary-warm);
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    text-align: center;
    line-height: 30px;
    font-weight: bold;
    margin-right: 0.5rem;
}

.passo-titulo {
    font-weight: 600;
    color: var(--text-warm-medium);
    margin-bottom: 0.5rem;
}

.passo-descricao {
    color: #666;
    margin-bottom: 0.5rem;
    font-size: 0.95rem;
}

.passo-dica {
    background: #fff3e8;
    padding: 0.5rem;
    border-radius: 5px;
    font-size: 0.9rem;
    color: var(--text-warm-medium);
    font-style: italic;
}

.passo-imagem {
    width: 100%;
    max-width: 400px;
    border-radius: 10px;
    margin: 1rem 0;
    display: block;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border: 2px solid rgba(244, 166, 166, 0.2);
}

/* Estilos para Lista de Exames */
.exames-container {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 1.2rem;
    border: 1px solid #e9ecef;
    margin-top: 1.5rem;
}

.exames-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
    color: var(--text-warm-medium);
    font-size: 1.1rem;
}

.exames-header i {
    font-size: 1.2rem;
    color: var(--color-primary-warm);
}

.exames-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.exame-item {
    background: white;
    border-radius: 10px;
    padding: 1rem;
    border-left: 4px solid #f4a6a6;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.exame-item:hover {
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.15);
    transform: translateX(4px);
}

.exame-content {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
}

.exame-icon {
    color: #28a745;
    font-size: 1.1rem;
    margin-top: 0.2rem;
    flex-shrink: 0;
}

.exame-nome {
    color: var(--sophia-text-primary, #7a4a4a) !important; /* ⚠️ CRÍTICO: Use variável, não #333 */
    font-size: 0.95rem;
    line-height: 1.5;
    flex: 1;
    font-weight: 500;
}

.exame-aviso {
    background: #fff3cd;
    border-left: 3px solid #ffc107;
    padding: 0.6rem 0.8rem;
    border-radius: 6px;
    margin-top: 0.5rem;
    font-size: 0.85rem;
    color: #856404;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.exame-aviso i {
    color: #ffc107;
    font-size: 0.9rem;
}

/* Responsividade para exames */
@media (max-width: 768px) {
    .exames-container {
        padding: 1rem;
    }
    
    .exame-item {
        padding: 0.85rem;
    }
    
    .exame-nome {
        font-size: 0.9rem;
    }
    
    .exame-aviso {
        font-size: 0.8rem;
        padding: 0.5rem 0.7rem;
    }
}

/* Informações técnicas dos passos */
.passo-info-tecnica {
    background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%);
    border-radius: 10px;
    padding: 1rem;
    margin: 1rem 0;
    border-left: 4px solid #f4a6a6;
}

.info-item {
    display: flex;
    align-items: flex-start;
    margin-bottom: 0.8rem;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.info-item:last-child {
    margin-bottom: 0;
}

.info-label {
    font-weight: 600;
    color: var(--text-warm-medium);
    font-size: 0.9rem;
    min-width: 120px;
    flex-shrink: 0;
}

.info-valor {
    color: #666;
    font-size: 0.9rem;
    flex: 1;
}

/* Indicador de força */
.info-forca {
    margin-bottom: 1rem;
    padding-bottom: 0.8rem;
    border-bottom: 1px solid rgba(244, 166, 166, 0.3);
}

.info-forca .info-label {
    display: block;
    margin-bottom: 0.5rem;
}

.info-forca .info-valor {
    display: inline-block;
    font-weight: 600;
    color: var(--text-warm-medium);
    margin-bottom: 0.5rem;
}

.forca-bar {
    width: 100%;
    height: 20px;
    background: #f0f0f0;
    border-radius: 10px;
    overflow: hidden;
    margin: 0.5rem 0;
    position: relative;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.forca-fill {
    height: 100%;
    background: linear-gradient(90deg, #f4a6a6 0%, #e74c3c 100%);
    border-radius: 10px;
    transition: width 0.5s ease;
    box-shadow: 0 2px 4px rgba(244, 166, 166, 0.3);
    position: relative;
}

.forca-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.forca-nivel {
    font-size: 0.8rem;
    color: #999;
    font-style: italic;
    display: block;
    margin-top: 0.3rem;
}

/* Detalhes técnicos */
.info-detalhes {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(244, 166, 166, 0.3);
}

.info-detalhes .info-label {
    display: block;
    margin-bottom: 0.5rem;
}

.info-detalhes .info-valor {
    background: white;
    padding: 0.8rem;
    border-radius: 8px;
    border: 1px solid rgba(244, 166, 166, 0.2);
    line-height: 1.6;
}

/* Informações de temperatura */
.info-temperatura {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(244, 166, 166, 0.3);
}

.temperatura-destaque {
    font-size: 1.1rem !important;
    font-weight: 700 !important;
    color: #e74c3c !important;
    display: inline-block;
    background: #fff3e8;
    padding: 0.3rem 0.8rem;
    border-radius: 8px;
    border: 2px solid #f39c12;
    margin: 0.5rem 0;
}

.temperatura-ambiente {
    color: #666;
    font-size: 0.9rem;
    margin-top: 0.5rem;
}

.como-testar {
    background: #e8f5e9;
    padding: 0.6rem;
    border-radius: 8px;
    margin-top: 0.5rem;
    border-left: 3px solid #4caf50;
    font-size: 0.9rem;
    color: #2e7d32;
}

/* Materiais necessários */
.info-materiais {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(244, 166, 166, 0.3);
}

.materiais-lista {
    list-style: none;
    padding-left: 0;
    margin: 0.5rem 0;
}

.materiais-lista li {
    padding: 0.4rem 0.8rem;
    margin: 0.3rem 0;
    background: white;
    border-radius: 6px;
    border-left: 3px solid #f4a6a6;
    position: relative;
    padding-left: 2rem;
}

.materiais-lista li::before {
    content: '✓';
    position: absolute;
    left: 0.6rem;
    color: var(--color-primary-warm);
    font-weight: bold;
}

/* Segurança */
.info-seguranca {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(244, 166, 166, 0.3);
}

.seguranca-destaque {
    background: #fff3e8 !important;
    border: 2px solid #f39c12 !important;
    padding: 0.8rem !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    color: #d68910 !important;
}

/* Telefones úteis */
.info-telefones {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(244, 166, 166, 0.3);
}

.telefones-destaque {
    background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%) !important;
    border: 2px solid #e74c3c !important;
    padding: 0.8rem !important;
    border-radius: 8px !important;
    font-weight: 700 !important;
    color: #c0392b !important;
    font-size: 1rem !important;
    text-align: center;
    box-shadow: 0 2px 8px rgba(231, 76, 60, 0.2);
}

/* Emergência */
.info-emergencia {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 2px solid #e74c3c;
    background: #ffe8e8;
    padding: 1rem;
    border-radius: 10px;
    border-left: 4px solid #e74c3c;
}

.emergencia-destaque {
    background: #fff !important;
    border: 2px solid #e74c3c !important;
    padding: 1rem !important;
    border-radius: 8px !important;
    font-weight: 700 !important;
    color: #c0392b !important;
    font-size: 1rem !important;
    text-align: center;
    box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
    animation: pulse-emergencia 2s infinite;
}

@keyframes pulse-emergencia {
    0%, 100% { box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3); }
    50% { box-shadow: 0 4px 20px rgba(231, 76, 60, 0.6); }
}

/* Responsivo para informações técnicas */
@media (max-width: 768px) {
    .passo-info-tecnica {
        padding: 0.8rem;
    }
    
    .info-label {
        min-width: 100px;
        font-size: 0.85rem;
    }
    
    .info-valor {
        font-size: 0.85rem;
    }
    
    .forca-bar {
        height: 18px;
    }
    
    .temperatura-destaque {
        font-size: 1rem !important;
        padding: 0.25rem 0.6rem !important;
    }
    
    .telefones-destaque,
    .emergencia-destaque {
        font-size: 0.9rem !important;
        padding: 0.7rem !important;
    }
}

.alerta-importante {
    background: #ffe8e8;
    border: 2px solid #e74c3c;
    border-radius: 10px;
    padding: 1rem;
    margin: 1rem 0;
    color: #c0392b;
    font-weight: 500;
}

.trimestre-card, .periodo-card, .vacina-card {
    background: white;
    border-radius: 15px;
    padding: 1.5rem;
    margin-bottom: 1rem;
    border: 2px solid rgba(244, 166, 166, 0.2);
}

.trimestre-card h4, .periodo-card h4, .vacina-card h4 {
    color: var(--color-primary-warm);
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid rgba(244, 166, 166, 0.3);
}

.semana-item {
    padding: 0.8rem;
    margin-bottom: 0.5rem;
    background: #fff9f7;
    border-radius: 8px;
    border-left: 3px solid #f4a6a6;
}

.semana-item strong {
    color: var(--text-warm-medium);
}

/* Vacinas Tabs */
.vacinas-tabs {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
    border-bottom: 2px solid rgba(244, 166, 166, 0.3);
}

.vacina-tab {
    background: transparent;
    border: none;
    padding: 0.8rem 1.5rem;
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-warm-medium);
    cursor: pointer;
    transition: all 0.3s ease;
    border-bottom: 3px solid transparent;
    position: relative;
    bottom: -2px;
}

.vacina-tab:hover {
    color: var(--color-primary-warm);
}

.vacina-tab.active {
    color: var(--color-primary-warm);
    border-bottom-color: var(--color-primary-warm);
}

.vacinas-content {
    position: relative;
}

.vacina-tab-content {
    display: none;
}

.vacina-tab-content.active {
    display: block;
}

/* Vacina Item com Checkbox */
.vacina-item {
    margin-bottom: 1rem;
    padding: 1rem;
    background: #fff9f7;
    border-radius: 12px;
    border: 2px solid rgba(244, 166, 166, 0.3);
    transition: all 0.3s ease;
}

.vacina-item:hover {
    border-color: rgba(244, 166, 166, 0.6);
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.2);
}

.vacina-item.checked {
    background: #e8f5e9;
    border-color: #4caf50;
}

.vacina-checkbox-label {
    display: flex;
    align-items: flex-start;
    cursor: pointer;
    gap: 1rem;
}

.vacina-checkbox-label input[type="checkbox"] {
    display: none;
}

.checkmark {
    width: 24px;
    height: 24px;
    border: 2px solid #f4a6a6;
    border-radius: 5px;
    position: relative;
    flex-shrink: 0;
    transition: all 0.3s ease;
}

.checkmark::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 6px;
    width: 6px;
    height: 12px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.vacina-checkbox-label input[type="checkbox"]:checked ~ .checkmark {
    background: #4caf50;
    border-color: #4caf50;
}

.vacina-checkbox-label input[type="checkbox"]:checked ~ .checkmark::after {
    opacity: 1;
}

.vacina-info {
    flex: 1;
}

.vacina-detail {
    color: #666;
    font-size: 0.9em;
    margin: 0.3rem 0;
}

/* Celebration Overlay */
.celebration-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.celebration-overlay.show {
    opacity: 1;
}

.celebration-content {
    background: linear-gradient(135deg, #f4a6a6 0%, #e8b4b8 100%);
    border-radius: 20px;
    padding: 3rem;
    text-align: center;
    color: white;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    animation: celebrationBounce 0.5s ease;
}

.celebration-emoji {
    font-size: 5rem;
    animation: celebrationSpin 1s ease infinite;
    margin-bottom: 1rem;
}

.celebration-content h2 {
    margin: 0.5rem 0;
    font-size: 2rem;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.celebration-content p {
    margin: 0.5rem 0;
    font-size: 1.2rem;
}

@keyframes celebrationBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

@keyframes celebrationSpin {
    0%, 100% { transform: rotate(0deg) scale(1); }
    50% { transform: rotate(10deg) scale(1.1); }
}

    /* Confetti */
.confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    top: -10px;
    z-index: 9999;
    animation: confettiFall linear;
}

@keyframes confettiFall {
    0% {
        top: -10px;
        opacity: 1;
    }
    100% {
        top: 100vh;
        opacity: 0;
        transform: translateX(var(--drift, 0));
    }
}

/* ===== RESPONSIVE: LOGIN SCREEN ===== */

@media (max-width: 575px) {
    .login-screen {
        padding: 1rem;
        align-items: flex-start;
        padding-top: 2rem;
        overflow-y: auto;
    }

    .login-container {
        padding: 1.5rem 1rem;
        border-radius: 20px;
        max-width: 100%;
        width: calc(100% - 2rem);
        margin: 0 auto;
        box-shadow: 0 8px 30px rgba(244, 166, 166, 0.25);
        overflow: visible;
        overflow-y: auto;
    }

    .login-header {
        margin-bottom: 1.5rem;
    }

    .login-header i {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
    }

    .login-header h1 {
        font-size: 1.8rem;
        margin: 0.3rem 0;
    }

    .login-subtitle {
        font-size: 0.8rem;
        margin-top: 0.3rem;
    }

    .login-content h2 {
        font-size: 1.3rem;
        margin-bottom: 0.8rem;
    }

    .login-content p {
        font-size: 0.85rem;
        margin-bottom: 1.5rem;
    }

    .login-tabs {
        gap: 0.3rem;
        margin-bottom: 1.5rem;
    }

    .login-tab {
        padding: 0.7rem 0.5rem;
        font-size: 0.85rem;
    }

    .login-tab i {
        font-size: 0.9rem;
        margin-right: 0.3rem;
    }

    .login-form .form-group {
        margin-bottom: 1rem;
    }

    .login-form .form-group input {
        padding: 0.9rem 0.9rem 0.9rem 2.8rem;
        font-size: 0.95rem;
        border-radius: 10px;
    }

    .login-form .form-group i {
        font-size: 1rem;
        left: 0.9rem;
    }

    .btn-login-main {
        padding: 0.9rem 1rem;
        font-size: 0.95rem;
        line-height: 1.4;
        border-radius: 10px;
        min-height: 48px;
    }

    .forgot-password-link {
        font-size: 0.85rem;
        margin-top: 0.8rem;
    }
    
    .btn-login-main i {
        font-size: 0.95rem;
    }
}

@media (max-width: 479px) {
    .login-screen {
        padding: 0.5rem;
        padding-top: 1rem;
        align-items: flex-start;
    }

    .login-container {
        padding: 1.2rem 0.9rem;
        border-radius: 15px;
        max-width: 100%;
        width: calc(100% - 1rem);
        margin: 0 auto;
    }
    
    .login-header {
        margin-bottom: 1.2rem;
    }
    
    .login-header i {
        font-size: 2rem;
        margin-bottom: 0.3rem;
    }
    
    .login-header h1 {
        font-size: 1.6rem;
        margin: 0.2rem 0;
    }
    
    .login-subtitle {
        font-size: 0.75rem;
        margin-top: 0.2rem;
    }
    
    .login-content h2 {
        font-size: 1.15rem;
        margin-bottom: 0.6rem;
    }

    .login-content p {
        font-size: 0.8rem;
        margin-bottom: 1.2rem;
    }
    
    .login-tabs {
        gap: 0.2rem;
        margin-bottom: 1.2rem;
    }
    
    .login-tab {
        padding: 0.6rem 0.4rem;
        font-size: 0.8rem;
    }

    .login-tab i {
        font-size: 0.85rem;
        margin-right: 0.25rem;
    }
    
    .login-form .form-group {
        margin-bottom: 0.9rem;
    }

    .login-form .form-group input {
        padding: 0.85rem 0.85rem 0.85rem 2.6rem;
        border-radius: 8px;
        font-size: 0.9rem;
    }
    
    .login-form .form-group .input-icon,
    .login-form .form-group i {
        font-size: 0.95rem !important;
        left: 0.85rem !important;
        top: 50% !important;
        transform: translateY(-50%) !important;
        position: absolute !important;
    }
    
    .btn-login-main {
        padding: 0.85rem 0.9rem;
        font-size: 0.9rem;
        border-radius: 8px;
        line-height: 1.4;
        min-height: 48px;
    }
    
    .btn-login-main i {
        font-size: 0.9rem;
    }

    .forgot-password-link {
        font-size: 0.8rem;
        margin-top: 0.7rem;
        padding: 0.4rem;
    }
}

  /* ===== RESPONSIVE: FEATURE SECTIONS ===== */

      @media (max-width: 767px) {
      .feature-sections {
          margin-top: 0.8rem;
          padding-top: 0.8rem;
          width: 100% !important;
          max-width: 100% !important;
          margin-left: auto !important;
          margin-right: auto !important;
          display: flex !important;
          flex-direction: column !important;
          align-items: center !important;
          justify-content: center !important;
      }

      .feature-sections h3 {
          font-size: 0.95rem;
          margin-bottom: 0.6rem;
          text-align: center !important;
      }

      .feature-carousel-container {
          padding: 0 2rem;
          gap: 0.4rem;
          width: 100% !important;
          max-width: 100% !important;
          margin-left: auto !important;
          margin-right: auto !important;
          display: flex !important;
          flex-direction: row !important; /* Garante layout horizontal */
          justify-content: center !important;
          align-items: center !important;
          box-sizing: border-box !important;
      }
      
      /* Desktop: Layout horizontal */
      @media (min-width: 769px) {
          .feature-carousel-track {
              display: flex !important;
              flex-direction: row !important;
              flex-wrap: nowrap !important;
              /* FORÇA LAYOUT HORIZONTAL - REGRAS MUITO ESPECÍFICAS */
              grid-template-columns: none !important;
              grid-template-rows: none !important;
              grid-auto-flow: row !important;
              column-count: auto !important;
              column-width: auto !important;
              flex-flow: row nowrap !important;
              width: 100% !important;
              height: auto !important;
              overflow: visible !important;
          }
          
          .feature-sections .feature-carousel-container .feature-carousel .feature-carousel-track {
              display: flex !important;
              flex-direction: row !important;
              flex-wrap: nowrap !important;
              grid-template-columns: none !important;
              grid-template-rows: none !important;
          }
      }
      
      /* Mobile: Grid 2x2 */
      @media (max-width: 768px) {
          .feature-carousel-track {
              display: grid !important;
              grid-template-columns: repeat(2, 1fr) !important;
              grid-template-rows: repeat(2, auto) !important;
              gap: 1rem !important;
              transform: none !important;
              width: 100% !important;
              max-width: 100% !important;
              padding: 0 1rem !important;
          }
          
          .feature-sections .feature-carousel-container .feature-carousel .feature-carousel-track {
              display: grid !important;
              grid-template-columns: repeat(2, 1fr) !important;
              grid-template-rows: repeat(2, auto) !important;
          }
      }

    .carousel-btn {
        width: 38px;
        height: 38px;
        font-size: 1rem;
    }

         .feature-btn {
          padding: 1.2rem 1rem;
          font-size: 0.9rem;
          border-radius: 15px;
          min-width: 140px !important;
          min-height: 120px;
          width: auto !important;
          max-width: 200px !important;
          flex-shrink: 0 !important;
          flex-grow: 0 !important;
          flex-basis: auto !important;
          /* FORÇA QUE O BOTÃO SEJA UM ITEM FLEX HORIZONTAL (irmão dos outros botões) */
          float: none !important;
          clear: none !important;
          vertical-align: top !important;
          /* GARANTE QUE NÃO SEJA AFETADO POR GRID */
          grid-column: auto !important;
          grid-row: auto !important;
          display: flex !important;
          flex-direction: column !important; /* Ícone acima do texto */
          align-items: center !important;
          justify-content: center !important;
          gap: 0.8rem !important;
          position: relative !important;
      }

    .feature-btn span {
        font-size: 0.85rem;
        order: 2 !important; /* Garante que o texto venha depois do ícone */
        text-align: center !important;
        display: block !important;
        width: 100%;
    }

    .feature-btn i {
        font-size: 1.4rem;
        order: 1 !important; /* Garante que o ícone venha antes do texto */
        display: block !important;
        margin-bottom: 0 !important;
        line-height: 1 !important;
    }

    .feature-btn::before {
        width: 180px;
        height: 180px;
    }
  }

      @media (max-width: 479px) {
      .feature-sections {
          margin-top: 0.6rem;
          padding-top: 0.6rem;
          width: 100% !important;
          max-width: 100% !important;
          margin-left: auto !important;
          margin-right: auto !important;
          display: flex !important;
          flex-direction: column !important;
          align-items: center !important;
          justify-content: center !important;
      }

      .feature-sections h3 {
          font-size: 0.9rem;
          margin-bottom: 0.5rem;
          text-align: center !important;
      }

      .feature-carousel-container {
          padding: 0 1.5rem;
          gap: 0.3rem;
          width: 100% !important;
          max-width: 100% !important;
          margin-left: auto !important;
          margin-right: auto !important;
          display: flex !important;
          flex-direction: row !important; /* Garante layout horizontal */
          justify-content: center !important;
          align-items: center !important;
          box-sizing: border-box !important;
      }

      /* Desktop: Layout horizontal */
      @media (min-width: 769px) {
          .feature-carousel-track {
              display: flex !important;
              flex-direction: row !important;
              flex-wrap: nowrap !important;
              justify-content: flex-start !important;
              width: 100% !important;
              overflow: visible !important;
              /* FORÇA LAYOUT HORIZONTAL - REGRAS MUITO ESPECÍFICAS */
              grid-template-columns: none !important;
              grid-template-rows: none !important;
              grid-auto-flow: row !important;
              column-count: auto !important;
              column-width: auto !important;
              flex-flow: row nowrap !important;
              height: auto !important;
          }
          
          .feature-sections .feature-carousel-container .feature-carousel .feature-carousel-track {
              display: flex !important;
              flex-direction: row !important;
              flex-wrap: nowrap !important;
              grid-template-columns: none !important;
              grid-template-rows: none !important;
          }
      }
      
      /* Mobile: Grid 2x2 */
      @media (max-width: 768px) {
          .feature-carousel-track {
              display: grid !important;
              grid-template-columns: repeat(2, 1fr) !important;
              grid-template-rows: repeat(2, auto) !important;
              gap: 1rem !important;
              transform: none !important;
              width: 100% !important;
              max-width: 100% !important;
              padding: 0 1rem !important;
          }
          
          .feature-sections .feature-carousel-container .feature-carousel .feature-carousel-track {
              display: grid !important;
              grid-template-columns: repeat(2, 1fr) !important;
              grid-template-rows: repeat(2, auto) !important;
          }
      }

    .carousel-btn {
        width: 35px;
        height: 35px;
        font-size: 0.9rem;
    }

         .feature-btn {
          padding: 1rem 0.8rem;
          font-size: 0.8rem;
          border-radius: 12px;
          min-width: 120px !important;
          min-height: 110px;
          width: auto !important;
          max-width: 200px !important;
          flex-shrink: 0 !important;
          flex-grow: 0 !important;
          flex-basis: auto !important;
          /* FORÇA QUE O BOTÃO SEJA UM ITEM FLEX HORIZONTAL (irmão dos outros botões) */
          float: none !important;
          clear: none !important;
          vertical-align: top !important;
          /* GARANTE QUE NÃO SEJA AFETADO POR GRID */
          grid-column: auto !important;
          grid-row: auto !important;
          display: flex !important;
          flex-direction: column !important; /* Ícone acima do texto */
          align-items: center !important;
          justify-content: center !important;
          gap: 0.8rem !important;
          position: relative !important;
      }

    .feature-btn span {
        font-size: 0.75rem;
        order: 2 !important; /* Garante que o texto venha depois do ícone */
        text-align: center !important;
        display: block !important;
        width: 100%;
    }

    .feature-btn i {
        font-size: 1.3rem;
        order: 1 !important; /* Garante que o ícone venha antes do texto */
        display: block !important;
        margin-bottom: 0 !important;
        line-height: 1 !important;
    }

    .feature-btn:hover {
        transform: translateY(-4px) scale(1.02);
    }

    .feature-btn::before {
        width: 150px;
        height: 150px;
    }

    /* Carousel dots removidos: estilos órfãos retirados (elemento #feature-carousel-dots não existe mais) */
  }

/* ===== RESPONSIVE: CELEBRATION OVERLAY ===== */

@media (max-width: 767px) {
    .celebration-content {
        padding: 2rem 1.5rem;
    }
    
    .celebration-emoji {
        font-size: 4rem;
    }
    
    .celebration-content h2 {
        font-size: 1.5rem;
    }
    
    .celebration-content p {
        font-size: 1rem;
    }
}

@media (max-width: 479px) {
    .celebration-content {
        padding: 1.8rem 1.2rem;
        border-radius: 20px;
    }
    
    .celebration-emoji {
        font-size: 3.5rem;
        margin-bottom: 0.8rem;
    }
    
    .celebration-content h2 {
        font-size: 1.3rem;
        margin-bottom: 0.5rem;
    }
    
    .celebration-content p {
        font-size: 0.9rem;
    }
    
    .confetti {
        width: 8px;
        height: 8px;
    }
}

  /* ===== PADRONIZAÇÃO DE DISPOSITIVOS MÓVEIS ===== */
 /* Define tamanhos padronizados de botões e efeitos para cada tipo de dispositivo */

 /* Mobile Extra Small (até 360px) - Smartphones muito pequenos */
 @media (max-width: 360px) {
     /* Botões Quick (perguntas rápidas) */
     .quick-btn {
         padding: 0.7rem 0.8rem !important;
         font-size: 0.8rem !important;
         min-height: 44px !important;
         border-radius: 12px !important;
         gap: 0.5rem !important;
     }
     
     .quick-questions {
         gap: 0.5rem !important;
         padding: 0 0.5rem !important;
     }
     
     /* Botões gerais */
     .btn {
         width: 40px !important;
         height: 40px !important;
         font-size: 0.85rem !important;
         min-width: 40px !important;
         min-height: 40px !important;
     }
     
     .btn-send {
         width: 42px !important;
         height: 42px !important;
     }
     
     /* Botão de login principal */
     .btn-login-main {
         padding: 0.8rem 0.9rem !important;
         font-size: 0.85rem !important;
         min-height: 44px !important;
         border-radius: 10px !important;
     }
     
            /* Botões de funcionalidades */
      .feature-btn {
           padding: 0.65rem 0.5rem !important;
           font-size: 0.7rem !important;
           border-radius: 10px !important;
           min-height: 44px !important;
           width: auto !important;
           max-width: 200px !important;
           flex-shrink: 0 !important;
           flex-grow: 0 !important;
           flex-basis: auto !important;
           display: flex !important;
           flex-direction: column !important; /* Ícone acima do texto */
           align-items: center !important;
           justify-content: center !important;
           gap: 0.6rem !important;
       }
     
     .feature-carousel-track {
         display: flex !important;
         flex-direction: row !important;
         flex-wrap: nowrap !important;
     }
     
     .feature-carousel-container {
         display: flex !important;
         flex-direction: row !important;
     }
     
          .feature-btn i {
          font-size: 1rem !important;
          order: 1 !important; /* Garante que o ícone venha antes do texto */
          display: block !important;
          margin-bottom: 0 !important;
          line-height: 1 !important;
      }
     
     /* Sidebar buttons */
     .sidebar-btn {
         padding: 0.75rem 0.8rem !important;
         font-size: 0.8rem !important;
         min-height: 44px !important;
     }
     
     /* Efeitos padronizados */
     .quick-btn:active,
     .feature-btn:active,
     .sidebar-btn:active {
         transform: scale(0.96) !important;
         transition: all 0.1s ease !important;
     }
     
     .btn:active {
         transform: scale(0.94) !important;
     }
 }

 /* Mobile Small (361px - 390px) - Smartphones pequenos (iPhone SE, etc) */
 @media (min-width: 361px) and (max-width: 390px) {
     .quick-btn {
         padding: 0.75rem 0.85rem !important;
         font-size: 0.82rem !important;
         min-height: 44px !important;
         border-radius: 12px !important;
     }
     
     .quick-questions {
         gap: 0.5rem !important;
         padding: 0 0.6rem !important;
     }
     
     .btn {
         width: 42px !important;
         height: 42px !important;
         font-size: 0.9rem !important;
         min-width: 42px !important;
         min-height: 42px !important;
     }
     
     .btn-send {
         width: 44px !important;
         height: 44px !important;
     }
     
     .btn-login-main {
         padding: 0.85rem 0.95rem !important;
         font-size: 0.88rem !important;
         min-height: 44px !important;
         border-radius: 11px !important;
     }
     
           .feature-btn {
           padding: 0.7rem 0.55rem !important;
           font-size: 0.72rem !important;
           border-radius: 11px !important;
           min-height: 44px !important;
           width: auto !important;
           max-width: 200px !important;
           flex-shrink: 0 !important;
           flex-grow: 0 !important;
           flex-basis: auto !important;
           display: flex !important;
           flex-direction: column !important; /* Ícone acima do texto */
           align-items: center !important;
           justify-content: center !important;
           gap: 0.6rem !important;
       }
     
     .feature-carousel-track {
         display: flex !important;
         flex-direction: row !important;
         flex-wrap: nowrap !important;
     }
     
     .feature-carousel-container {
         display: flex !important;
         flex-direction: row !important;
     }
     
          .feature-btn i {
          font-size: 1.05rem !important;
          order: 1 !important; /* Garante que o ícone venha antes do texto */
          display: block !important;
          margin-bottom: 0 !important;
          line-height: 1 !important;
      }
     
     .sidebar-btn {
         padding: 0.8rem 0.85rem !important;
         font-size: 0.82rem !important;
         min-height: 44px !important;
     }
     
     .quick-btn:active,
     .feature-btn:active,
     .sidebar-btn:active {
         transform: scale(0.97) !important;
         transition: all 0.1s ease !important;
     }
     
     .btn:active {
         transform: scale(0.95) !important;
     }
 }

 /* Mobile Medium (391px - 414px) - Smartphones médios (iPhone 12/13/14, etc) */
 @media (min-width: 391px) and (max-width: 414px) {
     .quick-btn {
         padding: 0.75rem 0.9rem !important;
         font-size: 0.85rem !important;
         min-height: 44px !important;
         border-radius: 12px !important;
     }
     
     .quick-questions {
         gap: 0.5rem !important;
         padding: 0 0.7rem !important;
     }
     
     .btn {
         width: 44px !important;
         height: 44px !important;
         font-size: 0.92rem !important;
         min-width: 44px !important;
         min-height: 44px !important;
     }
     
     .btn-send {
         width: 46px !important;
         height: 46px !important;
     }
     
     .btn-login-main {
         padding: 0.9rem 1rem !important;
         font-size: 0.9rem !important;
         min-height: 48px !important;
         border-radius: 12px !important;
     }
     
           .feature-btn {
           padding: 0.75rem 0.6rem !important;
           font-size: 0.75rem !important;
           border-radius: 12px !important;
           min-height: 48px !important;
           width: auto !important;
           max-width: 200px !important;
           flex-shrink: 0 !important;
           flex-grow: 0 !important;
           flex-basis: auto !important;
           display: flex !important;
           flex-direction: column !important; /* Ícone acima do texto */
           align-items: center !important;
           justify-content: center !important;
           gap: 0.6rem !important;
       }
     
     .feature-carousel-track {
         display: flex !important;
         flex-direction: row !important;
         flex-wrap: nowrap !important;
     }
     
     .feature-carousel-container {
         display: flex !important;
         flex-direction: row !important;
          }

     .feature-btn i {
         font-size: 1.1rem !important;
         order: 1 !important; /* Garante que o ícone venha antes do texto */
         display: block !important;
         margin-bottom: 0 !important;
         line-height: 1 !important;
     }

     .sidebar-btn {
         padding: 0.85rem 0.9rem !important;
         font-size: 0.85rem !important;
         min-height: 48px !important;
     }
     
     .quick-btn:active,
     .feature-btn:active,
     .sidebar-btn:active {
         transform: scale(0.97) !important;
         transition: all 0.1s ease !important;
     }
     
     .btn:active {
         transform: scale(0.95) !important;
     }
 }

 /* Mobile Large (415px - 480px) - Smartphones grandes (iPhone Pro Max, etc) */
 @media (min-width: 415px) and (max-width: 480px) {
     .quick-btn {
         padding: 0.8rem 1rem !important;
         font-size: 0.87rem !important;
         min-height: 48px !important;
         border-radius: 13px !important;
     }
     
     .quick-questions {
         gap: 0.6rem !important;
         padding: 0 0.8rem !important;
     }
     
     .btn {
         width: 46px !important;
         height: 46px !important;
         font-size: 0.95rem !important;
         min-width: 46px !important;
         min-height: 46px !important;
     }
     
     .btn-send {
         width: 48px !important;
         height: 48px !important;
     }
     
     .btn-login-main {
         padding: 0.9rem 1.1rem !important;
         font-size: 0.93rem !important;
         min-height: 48px !important;
         border-radius: 12px !important;
     }
     
           .feature-btn {
           padding: 0.8rem 0.65rem !important;
           font-size: 0.78rem !important;
           border-radius: 12px !important;
           min-height: 48px !important;
           width: auto !important;
           max-width: 200px !important;
           flex-shrink: 0 !important;
           flex-grow: 0 !important;
           flex-basis: auto !important;
           display: flex !important;
           flex-direction: column !important; /* Ícone acima do texto */
           align-items: center !important;
           justify-content: center !important;
           gap: 0.6rem !important;
       }
     
     .feature-carousel-track {
         display: flex !important;
         flex-direction: row !important;
         flex-wrap: nowrap !important;
     }
     
     .feature-carousel-container {
         display: flex !important;
         flex-direction: row !important;
          }

     .feature-btn i {
         font-size: 1.15rem !important;
         order: 1 !important; /* Garante que o ícone venha antes do texto */
         display: block !important;
         margin-bottom: 0 !important;
         line-height: 1 !important;
     }

     .sidebar-btn {
         padding: 0.9rem 0.95rem !important;
         font-size: 0.88rem !important;
         min-height: 48px !important;
     }
     
     .quick-btn:active,
     .feature-btn:active,
     .sidebar-btn:active {
         transform: scale(0.98) !important;
         transition: all 0.1s ease !important;
     }
     
     .btn:active {
         transform: scale(0.96) !important;
     }
 }

 /* Mobile Landscape Small (481px - 568px) - Mobile em modo paisagem pequeno */
 @media (min-width: 481px) and (max-width: 568px) {
     .quick-btn {
         padding: 0.75rem 0.9rem !important;
         font-size: 0.85rem !important;
         min-height: 44px !important;
         border-radius: 12px !important;
     }
     
     .quick-questions {
         gap: 0.5rem !important;
         padding: 0 0.7rem !important;
     }
     
     .btn {
         width: 44px !important;
         height: 44px !important;
         font-size: 0.9rem !important;
         min-width: 44px !important;
         min-height: 44px !important;
     }
     
     .btn-send {
         width: 46px !important;
         height: 46px !important;
     }
     
     .btn-login-main {
         padding: 0.85rem 1rem !important;
         font-size: 0.88rem !important;
         min-height: 44px !important;
         border-radius: 11px !important;
     }
     
           .feature-btn {
           padding: 0.75rem 0.6rem !important;
           font-size: 0.75rem !important;
           border-radius: 11px !important;
           min-height: 44px !important;
           width: auto !important;
           max-width: 200px !important;
           flex-shrink: 0 !important;
           flex-grow: 0 !important;
           flex-basis: auto !important;
           display: flex !important;
           flex-direction: column !important; /* Ícone acima do texto */
           align-items: center !important;
           justify-content: center !important;
           gap: 0.6rem !important;
       }
     
     .feature-carousel-track {
         display: flex !important;
         flex-direction: row !important;
         flex-wrap: nowrap !important;
     }
     
     .feature-carousel-container {
         display: flex !important;
         flex-direction: row !important;
          }

     .feature-btn i {
         font-size: 1.1rem !important;
         order: 1 !important; /* Garante que o ícone venha antes do texto */
         display: block !important;
         margin-bottom: 0 !important;
         line-height: 1 !important;
     }

     .sidebar-btn {
         padding: 0.8rem 0.85rem !important;
         font-size: 0.83rem !important;
         min-height: 44px !important;
     }
     
     .quick-btn:active,
     .feature-btn:active,
     .sidebar-btn:active {
         transform: scale(0.97) !important;
         transition: all 0.1s ease !important;
     }
     
     .btn:active {
         transform: scale(0.95) !important;
     }
 }

 /* Mobile Landscape Large (569px - 667px) - Mobile em modo paisagem grande */
 @media (min-width: 569px) and (max-width: 667px) {
     .quick-btn {
         padding: 0.8rem 1rem !important;
         font-size: 0.87rem !important;
         min-height: 46px !important;
         border-radius: 13px !important;
     }
     
     .quick-questions {
         gap: 0.6rem !important;
         padding: 0 0.8rem !important;
     }
     
     .btn {
         width: 46px !important;
         height: 46px !important;
         font-size: 0.93rem !important;
         min-width: 46px !important;
         min-height: 46px !important;
     }
     
     .btn-send {
         width: 48px !important;
         height: 48px !important;
     }
     
     .btn-login-main {
         padding: 0.9rem 1.1rem !important;
         font-size: 0.9rem !important;
         min-height: 46px !important;
         border-radius: 12px !important;
     }
     
           .feature-btn {
           padding: 0.8rem 0.65rem !important;
           font-size: 0.78rem !important;
           border-radius: 12px !important;
           min-height: 46px !important;
           width: auto !important;
           max-width: 200px !important;
           flex-shrink: 0 !important;
           flex-grow: 0 !important;
           flex-basis: auto !important;
           display: flex !important;
           flex-direction: column !important; /* Ícone acima do texto */
           align-items: center !important;
           justify-content: center !important;
           gap: 0.6rem !important;
       }
     
     .feature-carousel-track {
         display: flex !important;
         flex-direction: row !important;
         flex-wrap: nowrap !important;
     }
     
     .feature-carousel-container {
         display: flex !important;
         flex-direction: row !important;
          }

     .feature-btn i {
         font-size: 1.15rem !important;
         order: 1 !important; /* Garante que o ícone venha antes do texto */
         display: block !important;
         margin-bottom: 0 !important;
         line-height: 1 !important;
     }

     .sidebar-btn {
         padding: 0.85rem 0.9rem !important;
         font-size: 0.87rem !important;
         min-height: 46px !important;
     }
     
     .quick-btn:active,
     .feature-btn:active,
     .sidebar-btn:active {
         transform: scale(0.98) !important;
         transition: all 0.1s ease !important;
     }
     
     .btn:active {
         transform: scale(0.96) !important;
     }
 }

 /* ===== RESPONSIVE: WELCOME CONTENT ADJUSTMENTS ===== */
  
  @media (max-width: 479px) {
     .welcome-content {
         padding: 1rem 0.8rem !important;
         max-width: 100% !important;
         width: 100% !important;
         margin: 0 auto !important;
         box-sizing: border-box !important;
         text-align: center !important;
         display: block !important;
         position: relative !important;
         left: auto !important;
         right: auto !important;
         float: none !important;
         transform: none !important;
         align-self: center !important;
         overflow-x: hidden !important;
     }
     
     .welcome-content i {
         font-size: 2rem !important;
         margin-bottom: 0.5rem !important;
     }
     
     .welcome-content h2 {
         font-size: 1.1rem !important;
         margin-bottom: 0.5rem !important;
         padding: 0 0.3rem !important;
         line-height: 1.3 !important;
         word-wrap: break-word !important;
         overflow-wrap: break-word !important;
         max-width: 100% !important;
         text-align: center !important;
     }
     
     .welcome-content p {
         font-size: 0.85rem !important;
         margin-bottom: 0.8rem !important;
         line-height: 1.4 !important;
         padding: 0 0.3rem !important;
         word-wrap: break-word !important;
         overflow-wrap: break-word !important;
         max-width: 100% !important;
         text-align: center !important;
     }
     
     .quick-questions {
         grid-template-columns: 1fr !important;
         max-width: 100% !important;
         width: 100% !important;
         padding: 0 0.5rem !important;
         gap: 0.5rem !important;
         margin: 0.5rem auto 0.5rem !important;
         box-sizing: border-box !important;
         justify-items: stretch !important;
         align-items: center !important;
         position: relative !important;
         left: auto !important;
         right: auto !important;
         float: none !important;
         transform: none !important;
         display: grid !important;
         overflow-x: hidden !important;
     }
     
     .quick-btn {
         width: 100% !important;
         max-width: 100% !important;
         font-size: 0.85rem !important;
         padding: 0.75rem 0.9rem !important;
         border-radius: 12px !important;
         box-sizing: border-box !important;
         line-height: 1.4 !important;
         min-height: 44px !important;
         word-wrap: break-word !important;
         overflow-wrap: break-word !important;
         white-space: normal !important;
         overflow: visible !important;
         text-align: center !important;
         display: flex !important;
         align-items: center !important;
         justify-content: center !important;
         font-weight: 600 !important;
         border-width: 2px !important;
         box-shadow: 0 2px 8px rgba(244, 166, 166, 0.15) !important;
         margin: 0 !important;
         position: relative !important;
         left: auto !important;
         right: auto !important;
     }

     .quick-btn:active {
         transform: scale(0.97) !important;
         transition: all 0.1s !important;
     }
 }

/* ===== RESPONSIVE: MODAL AUTH ===== */

@media (max-width: 575px) {
    .modal-auth {
        max-width: 95%;
    }
    
    .auth-tab {
        padding: 0.6rem 0.8rem;
        font-size: 0.85rem;
    }
    
    .form-group input {
        padding: 0.9rem 1rem 0.9rem 2.8rem;
        font-size: 0.95rem;
    }
}

@media (max-width: 479px) {
    .modal-auth {
        max-width: 100%;
        border-radius: 0;
        margin: 0;
    }
    
    .auth-tab {
        padding: 0.5rem 0.6rem;
        font-size: 0.8rem;
    }
    
    .form-group input {
        padding: 0.85rem 1rem 0.85rem 2.5rem;
        font-size: 0.9rem;
    }
}

/* ===== RESPONSIVE: MODAL RESOURCES ===== */

@media (max-width: 767px) {
    .modal-resources {
        max-width: 95%;
        max-height: 95vh;
    }
}

@media (max-width: 479px) {
    .modal-resources {
        max-width: 100%;
        border-radius: 0;
        margin: 0;
    }
}


/* ===== DETEC��O DIN�MICA DE DISPOSITIVOS ===== */
/* Regras CSS para classes aplicadas dinamicamente pelo device-detector.js */

/* ===== TELA DE LOGIN - AJUSTES POR ORIENTAÇÃO ===== */

/* Mobile Portrait - Tela de Login */
body.orientation-portrait.device-mobile .login-container {
    padding: 1.5rem 1rem !important;
    max-width: 95% !important;
    width: 95% !important;
}

body.orientation-portrait.device-mobile .login-header i {
    font-size: 2.5rem !important;
}

body.orientation-portrait.device-mobile .login-header h1 {
    font-size: 2rem !important;
}

body.orientation-portrait.device-mobile .login-subtitle {
    font-size: 0.85rem !important;
}

body.orientation-portrait.device-mobile .login-content h2 {
    font-size: 1.3rem !important;
}

body.orientation-portrait.device-mobile .login-tabs {
    gap: 0.4rem !important;
    margin-bottom: 1.5rem !important;
}

body.orientation-portrait.device-mobile .login-tab {
    padding: 0.7rem 0.5rem !important;
    font-size: 0.9rem !important;
}

body.orientation-portrait.device-mobile .form-group input {
    padding: 0.9rem 0.9rem 0.9rem 2.8rem !important;
    font-size: 0.95rem !important;
}

body.orientation-portrait.device-mobile .btn-login-main {
    padding: 0.85rem 1rem !important;
    font-size: 0.95rem !important;
    min-height: 48px !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
}

/* Remember me - Mobile Portrait */
body.orientation-portrait.device-mobile .remember-me-group {
    width: 100% !important;
    max-width: 100% !important;
    overflow: visible !important;
    padding: 0 !important;
    margin: 0.5rem 0 !important;
}

body.orientation-portrait.device-mobile .remember-me-label {
    width: 100% !important;
    max-width: 100% !important;
    flex-wrap: wrap !important;
    overflow: visible !important;
}

body.orientation-portrait.device-mobile .remember-me-text {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    width: auto !important;
    max-width: 100% !important;
    overflow: visible !important;
    flex: 1 1 auto !important;
}

/* Mobile Landscape - Tela de Login */
body.orientation-landscape.device-mobile .login-container {
    padding: 1rem 1.5rem !important;
    max-width: 90% !important;
    width: 90% !important;
}

body.orientation-landscape.device-mobile .login-header {
    margin-bottom: 1.5rem !important;
}

body.orientation-landscape.device-mobile .login-header i {
    font-size: 2rem !important;
    margin-bottom: 0.3rem !important;
}

body.orientation-landscape.device-mobile .login-header h1 {
    font-size: 1.8rem !important;
}

body.orientation-landscape.device-mobile .login-subtitle {
    font-size: 0.8rem !important;
    margin-top: 0.3rem !important;
}

body.orientation-landscape.device-mobile .login-content h2 {
    font-size: 1.2rem !important;
    margin-bottom: 0.8rem !important;
}

body.orientation-landscape.device-mobile .login-tabs {
    gap: 0.3rem !important;
    margin-bottom: 1.2rem !important;
}

body.orientation-landscape.device-mobile .login-tab {
    padding: 0.6rem 0.4rem !important;
    font-size: 0.85rem !important;
}

body.orientation-landscape.device-mobile .form-group {
    margin-bottom: 1rem !important;
}

body.orientation-landscape.device-mobile .form-group input {
    padding: 0.8rem 0.8rem 0.8rem 2.5rem !important;
    font-size: 0.9rem !important;
}

body.orientation-landscape.device-mobile .btn-login-main {
    padding: 0.75rem 1rem !important;
    font-size: 0.9rem !important;
    min-height: 44px !important;
    margin-top: 0.3rem !important;
}

/* Remember me - Mobile Landscape */
body.orientation-landscape.device-mobile .remember-me-group {
    width: 100% !important;
    max-width: 100% !important;
    overflow: visible !important;
    padding: 0 !important;
    margin: 0.5rem 0 !important;
}

body.orientation-landscape.device-mobile .remember-me-label {
    width: 100% !important;
    max-width: 100% !important;
    flex-wrap: wrap !important;
    overflow: visible !important;
}

body.orientation-landscape.device-mobile .remember-me-text {
    white-space: normal !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    width: auto !important;
    max-width: 100% !important;
    overflow: visible !important;
    flex: 1 1 auto !important;
}

body.orientation-landscape.device-mobile .forgot-password-link {
    margin-top: 0.8rem !important;
    font-size: 0.85rem !important;
}

/* ===== MENU INICIAL (WELCOME) - AJUSTES POR ORIENTAÇÃO ===== */

/* Mobile Portrait - Welcome Content */
body.orientation-portrait.device-mobile .welcome-content {
    padding: 1rem 0.8rem !important;
    max-width: 100% !important;
    width: 100% !important;
}

body.orientation-portrait.device-mobile .welcome-content {
    padding: 1.5rem 1rem 1.5rem 0.5rem !important;
    margin-left: 0.5rem !important;
}

body.orientation-portrait.device-mobile .welcome-content h2 {
    font-size: 1.6rem !important;
    margin-bottom: 0.5rem !important;
}

body.orientation-portrait.device-mobile .welcome-content p {
    font-size: 0.85rem !important;
    margin-bottom: 0.8rem !important;
}

body.orientation-portrait.device-mobile .welcome-content i {
    font-size: 1.8rem !important;
    margin-bottom: 0.4rem !important;
}

body.orientation-portrait.device-mobile .quick-questions {
    grid-template-columns: 1fr !important;
    gap: 0.5rem !important;
    padding: 0 0.8rem !important;
    margin: 0 auto 0.8rem !important;
}

body.orientation-portrait.device-mobile .quick-btn {
    padding: 0.75rem 0.9rem !important;
    font-size: 0.85rem !important;
    min-height: 44px !important;
    border-radius: 12px !important;
}

/* Mobile Landscape - Welcome Content */
body.orientation-landscape.device-mobile .welcome-content {
    padding: 1rem 0.8rem 1rem 0.6rem !important;
    max-width: 100% !important;
    width: 100% !important;
    margin-left: -0.2rem !important;
}

body.orientation-landscape.device-mobile .welcome-content h2 {
    font-size: 1.5rem !important;
    margin-bottom: 0.4rem !important;
}

body.orientation-landscape.device-mobile .welcome-content p {
    font-size: 0.8rem !important;
    margin-bottom: 0.6rem !important;
}

body.orientation-landscape.device-mobile .welcome-content i {
    font-size: 1.5rem !important;
    margin-bottom: 0.3rem !important;
}

body.orientation-landscape.device-mobile .quick-questions {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.5rem !important;
    padding: 0 1rem !important;
    margin: 0 auto 0.6rem !important;
    max-width: 600px !important;
}

body.orientation-landscape.device-mobile .quick-btn {
    padding: 0.7rem 0.8rem !important;
    font-size: 0.8rem !important;
    min-height: 42px !important;
    border-radius: 11px !important;
}

/* Mobile Landscape - Telas pequenas (até 667px) - volta para 1 coluna */
body.orientation-landscape.device-mobile.screen-xs-landscape .quick-questions,
body.orientation-landscape.device-mobile.screen-sm-landscape .quick-questions {
    grid-template-columns: 1fr !important;
}

/* ===== BOTÕES - PADRONIZAÇÃO POR TAMANHO DE TELA ===== */

/* Extra Small Portrait (até 360px) */
body.screen-xs-portrait .quick-btn,
body.screen-xs-portrait .btn-login-main {
    padding: 0.7rem 0.8rem !important;
    font-size: 0.8rem !important;
    min-height: 42px !important;
}

body.screen-xs-portrait .btn,
body.screen-xs-portrait .btn-send {
    width: 42px !important;
    height: 42px !important;
    min-width: 42px !important;
    min-height: 42px !important;
}

/* Small Portrait (361-390px) */
body.screen-sm-portrait .quick-btn,
body.screen-sm-portrait .btn-login-main {
    padding: 0.75rem 0.85rem !important;
    font-size: 0.82rem !important;
    min-height: 44px !important;
}

body.screen-sm-portrait .btn,
body.screen-sm-portrait .btn-send {
    width: 44px !important;
    height: 44px !important;
    min-width: 44px !important;
    min-height: 44px !important;
}

/* Medium Portrait (391-414px) */
body.screen-md-portrait .quick-btn,
body.screen-md-portrait .btn-login-main {
    padding: 0.8rem 0.9rem !important;
    font-size: 0.85rem !important;
    min-height: 46px !important;
}

body.screen-md-portrait .btn,
body.screen-md-portrait .btn-send {
    width: 46px !important;
    height: 46px !important;
    min-width: 46px !important;
    min-height: 46px !important;
}

/* Large Portrait (415-480px) */
body.screen-lg-portrait .quick-btn,
body.screen-lg-portrait .btn-login-main {
    padding: 0.85rem 1rem !important;
    font-size: 0.88rem !important;
    min-height: 48px !important;
}

body.screen-lg-portrait .btn,
body.screen-lg-portrait .btn-send {
    width: 48px !important;
    height: 48px !important;
    min-width: 48px !important;
    min-height: 48px !important;
}

/* Extra Small Landscape (até 568px) */
body.screen-xs-landscape .quick-btn,
body.screen-xs-landscape .btn-login-main {
    padding: 0.7rem 0.85rem !important;
    font-size: 0.8rem !important;
    min-height: 42px !important;
}

body.screen-xs-landscape .btn,
body.screen-xs-landscape .btn-send {
    width: 42px !important;
    height: 42px !important;
    min-width: 42px !important;
    min-height: 42px !important;
}

/* Small Landscape (569-667px) */
body.screen-sm-landscape .quick-btn,
body.screen-sm-landscape .btn-login-main {
    padding: 0.75rem 0.9rem !important;
    font-size: 0.82rem !important;
    min-height: 44px !important;
}

body.screen-sm-landscape .btn,
body.screen-sm-landscape .btn-send {
    width: 44px !important;
    height: 44px !important;
    min-width: 44px !important;
    min-height: 44px !important;
}

/* Medium Landscape (668-736px) */
body.screen-md-landscape .quick-btn,
body.screen-md-landscape .btn-login-main {
    padding: 0.8rem 1rem !important;
    font-size: 0.85rem !important;
    min-height: 46px !important;
}

body.screen-md-landscape .btn,
body.screen-md-landscape .btn-send {
    width: 46px !important;
    height: 46px !important;
    min-width: 46px !important;
    min-height: 46px !important;
}

/* Large Landscape (737px+) */
body.screen-lg-landscape .quick-btn,
body.screen-lg-landscape .btn-login-main {
    padding: 0.85rem 1.1rem !important;
    font-size: 0.88rem !important;
    min-height: 48px !important;
}

body.screen-lg-landscape .btn,
body.screen-lg-landscape .btn-send {
    width: 48px !important;
    height: 48px !important;
    min-width: 48px !important;
    min-height: 48px !important;
}

/* ===== EFEITOS DE TOQUE - ACTIVE STATES ===== */

/* Active states padronizados para todos os tamanhos */
body.device-mobile .quick-btn:active {
    transform: scale(0.97) !important;
    transition: all 0.1s ease !important;
}

body.device-mobile .btn-login-main:active {
    transform: scale(0.98) !important;
    transition: all 0.1s ease !important;
}

body.device-mobile .btn:active {
    transform: scale(0.95) !important;
    transition: all 0.1s ease !important;
}

body.device-mobile .sidebar-btn:active {
    transform: scale(0.98) !important;
    transition: all 0.1s ease !important;
}

/* ===== WELCOME MESSAGE - CENTRALIZAÇÃO GARANTIDA ===== */

/* Garante centralização em todas as orientações */
body.device-mobile .welcome-message {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: flex-start !important;
    padding: 0.8rem 0 !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: contain !important; /* Previne scroll duplo */
    /* Garante que o scroll fique isolado */
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    height: 100% !important;
    width: 100% !important;
}

body.device-mobile .welcome-content {
    margin: 0 auto !important;
    text-align: center !important;
    overflow: visible !important; /* SEM scroll próprio */
    overflow-x: hidden !important;
    overflow-y: visible !important; /* Não tem scroll próprio */
    overscroll-behavior: none !important; /* Previne scroll duplo */
    -webkit-overflow-scrolling: auto !important;
    position: relative !important;
    height: auto !important; /* Altura automática baseada no conteúdo */
    max-height: none !important; /* Sem limite de altura */
    display: block !important;
}

body.device-mobile .quick-questions {
    margin: 0 auto !important;
    justify-items: stretch !important;
}

body.device-mobile .quick-btn {
    margin: 0 auto !important;
    text-align: center !important;
}

/* ===== REGRAS FORÇADAS PARA MOBILE - SOBRESCREVE TODAS AS MEDIA QUERIES ===== */
/* Estas regras têm prioridade máxima e garantem que mobile funcione corretamente */

/* Tela de Login - Mobile Portrait - PRIORIDADE MÁXIMA */
body.device-mobile.orientation-portrait #login-screen .login-container {
    padding: 1.5rem 1rem !important;
    max-width: 95% !important;
    width: 95% !important;
    margin: 0 auto !important;
    box-sizing: border-box !important;
}

body.device-mobile.orientation-portrait #login-screen .login-header i {
    font-size: 2.5rem !important;
}

body.device-mobile.orientation-portrait #login-screen .login-header h1 {
    font-size: 2rem !important;
}

body.device-mobile.orientation-portrait #login-screen .login-subtitle {
    font-size: 0.85rem !important;
}

body.device-mobile.orientation-portrait #login-screen .login-content h2 {
    font-size: 1.3rem !important;
}

body.device-mobile.orientation-portrait #login-screen .login-tabs {
    gap: 0.4rem !important;
    margin-bottom: 1.5rem !important;
}

body.device-mobile.orientation-portrait #login-screen .login-tab {
    padding: 0.7rem 0.5rem !important;
    font-size: 0.9rem !important;
}

body.device-mobile.orientation-portrait #login-screen .form-group input {
    padding: 0.9rem 0.9rem 0.9rem 2.8rem !important;
    font-size: 0.95rem !important;
}

body.device-mobile.orientation-portrait #login-screen .btn-login-main {
    padding: 0.85rem 1.2rem !important;
    font-size: 0.95rem !important;
    min-height: 48px !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    white-space: nowrap !important;
    overflow: visible !important;
}

/* Tela de Login - Mobile Landscape - PRIORIDADE MÁXIMA */
body.device-mobile.orientation-landscape #login-screen .login-container {
    padding: 1rem 1.5rem !important;
    max-width: 90% !important;
    width: 90% !important;
    margin: 0 auto !important;
    box-sizing: border-box !important;
}

body.device-mobile.orientation-landscape #login-screen .login-header {
    margin-bottom: 1.5rem !important;
}

body.device-mobile.orientation-landscape #login-screen .login-header i {
    font-size: 2rem !important;
    margin-bottom: 0.3rem !important;
}

body.device-mobile.orientation-landscape #login-screen .login-header h1 {
    font-size: 1.8rem !important;
}

body.device-mobile.orientation-landscape #login-screen .login-subtitle {
    font-size: 0.8rem !important;
    margin-top: 0.3rem !important;
}

body.device-mobile.orientation-landscape #login-screen .login-content h2 {
    font-size: 1.2rem !important;
    margin-bottom: 0.8rem !important;
}

body.device-mobile.orientation-landscape #login-screen .login-tabs {
    gap: 0.3rem !important;
    margin-bottom: 1.2rem !important;
}

body.device-mobile.orientation-landscape #login-screen .login-tab {
    padding: 0.6rem 0.4rem !important;
    font-size: 0.85rem !important;
}

body.device-mobile.orientation-landscape #login-screen .form-group {
    margin-bottom: 1rem !important;
}

body.device-mobile.orientation-landscape #login-screen .form-group input {
    padding: 0.8rem 0.8rem 0.8rem 2.5rem !important;
    font-size: 0.9rem !important;
}

body.device-mobile.orientation-landscape #login-screen .btn-login-main {
    padding: 0.75rem 1.2rem !important;
    font-size: 0.9rem !important;
    min-height: 44px !important;
    margin-top: 0.3rem !important;
    white-space: nowrap !important;
    overflow: visible !important;
}

body.device-mobile.orientation-landscape #login-screen .forgot-password-link {
    margin-top: 0.8rem !important;
    font-size: 0.85rem !important;
}

/* Menu Inicial - Mobile Portrait - PRIORIDADE MÁXIMA */
body.device-mobile.orientation-portrait #main-container .welcome-content,
body.device-mobile.orientation-portrait .welcome-content {
    padding: 0.4rem 0.5rem !important; /* Reduzido ainda mais */
    max-width: 85% !important; /* Reduzido de 90% para 85% */
    width: auto !important; /* Ajusta ao conteúdo */
    margin: 0 auto !important;
    box-sizing: border-box !important;
    text-align: center !important;
    display: block !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    float: none !important;
    transform: none !important;
}

body.device-mobile.orientation-portrait #main-container .welcome-content,
body.device-mobile.orientation-portrait .welcome-content {
    padding: 0.5rem 0.6rem 0.5rem 0.3rem !important; /* Reduzido ainda mais */
    margin-left: 0.3rem !important;
}

body.device-mobile.orientation-portrait #main-container .welcome-content h2,
body.device-mobile.orientation-portrait .welcome-content h2 {
    font-size: 1.6rem !important;
    margin-bottom: 0.5rem !important;
    text-align: center !important;
    width: 100% !important;
}

body.device-mobile.orientation-portrait #main-container .welcome-content p,
body.device-mobile.orientation-portrait .welcome-content p {
    font-size: 0.85rem !important;
    margin-bottom: 0.8rem !important;
    text-align: center !important;
    width: 100% !important;
}

body.device-mobile.orientation-portrait #main-container .welcome-content i,
body.device-mobile.orientation-portrait .welcome-content i {
    font-size: 1.8rem !important;
    margin-bottom: 0.4rem !important;
    display: block !important;
    text-align: center !important;
}

body.device-mobile.orientation-portrait #main-container .quick-questions,
body.device-mobile.orientation-portrait .quick-questions {
    grid-template-columns: 1fr !important;
    gap: 0.5rem !important;
    padding: 0 0.8rem !important;
    margin: 0 auto 0.8rem !important;
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    justify-items: stretch !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    float: none !important;
    transform: none !important;
}

body.device-mobile.orientation-portrait #main-container .quick-btn,
body.device-mobile.orientation-portrait .quick-btn {
    padding: 0.75rem 0.9rem !important;
    font-size: 0.75rem !important; /* Reduzido de 0.85rem para 0.75rem */
    min-height: 44px !important;
    border-radius: 12px !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    float: none !important;
    transform: none !important;
    line-height: 1.6 !important; /* Aumentado para melhor espaçamento */
}

body.device-mobile.orientation-portrait #main-container .quick-btn i,
body.device-mobile.orientation-portrait .quick-btn i {
    font-size: 1.2rem !important; /* Reduzido para mobile */
    color: #ff6b9d !important;
    opacity: 1 !important;
    z-index: 1 !important;
    position: relative !important;
}

/* Menu Inicial - Mobile Landscape - PRIORIDADE MÁXIMA */
body.device-mobile.orientation-landscape #main-container .welcome-content,
body.device-mobile.orientation-landscape .welcome-content {
    padding: 0.4rem 0.5rem 0.4rem 0.3rem !important; /* Reduzido ainda mais */
    max-width: 85% !important; /* Reduzido de 90% para 85% */
    width: auto !important; /* Ajusta ao conteúdo */
    margin: 0 auto !important;
    margin-left: -0.2rem !important;
    box-sizing: border-box !important;
    text-align: center !important;
    display: block !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    float: none !important;
    transform: none !important;
}

body.device-mobile.orientation-landscape #main-container .welcome-content h2,
body.device-mobile.orientation-landscape .welcome-content h2 {
    font-size: 1.5rem !important;
    margin-bottom: 0.4rem !important;
    text-align: center !important;
    width: 100% !important;
}

body.device-mobile.orientation-landscape #main-container .welcome-content p,
body.device-mobile.orientation-landscape .welcome-content p {
    font-size: 0.8rem !important;
    margin-bottom: 0.6rem !important;
    text-align: center !important;
    width: 100% !important;
}

body.device-mobile.orientation-landscape #main-container .welcome-content i,
body.device-mobile.orientation-landscape .welcome-content i {
    font-size: 1.5rem !important;
    margin-bottom: 0.3rem !important;
    display: block !important;
    text-align: center !important;
}

body.device-mobile.orientation-landscape #main-container .quick-questions,
body.device-mobile.orientation-landscape .quick-questions {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.5rem !important;
    padding: 0 1rem !important;
    margin: 0 auto 0.6rem !important;
    max-width: 600px !important;
    width: 100% !important;
    box-sizing: border-box !important;
    justify-items: stretch !important;
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    float: none !important;
    transform: none !important;
}

body.device-mobile.orientation-landscape #main-container .quick-btn,
body.device-mobile.orientation-landscape .quick-btn {
    padding: 0.7rem 0.8rem !important;
    font-size: 0.75rem !important; /* Reduzido de 0.8rem para 0.75rem */
    min-height: 42px !important;
    border-radius: 11px !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    line-height: 1.6 !important; /* Aumentado para melhor espaçamento */
}

body.device-mobile.orientation-landscape #main-container .quick-btn i,
body.device-mobile.orientation-landscape .quick-btn i {
    font-size: 1.2rem !important; /* Reduzido para mobile */
    color: #ff6b9d !important;
    opacity: 1 !important;
    z-index: 1 !important;
    position: relative !important;
}

/* Mobile Landscape pequeno - volta para 1 coluna */
body.device-mobile.orientation-landscape.screen-xs-landscape .quick-questions,
body.device-mobile.orientation-landscape.screen-sm-landscape .quick-questions {
    grid-template-columns: 1fr !important;
}

/* Garantir que welcome-message está centralizado */
body.device-mobile #main-container .welcome-message,
body.device-mobile .welcome-message {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: flex-start !important;
    padding: 0.8rem 0 100px 0 !important; /* Adicionado padding-bottom de 100px */
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    box-sizing: border-box !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
}

/* Centralização absoluta do conteúdo */
body.device-mobile #main-container .welcome-message .welcome-content,
body.device-mobile .welcome-message .welcome-content {
    margin-left: auto !important;
    margin-right: auto !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

/* Estilos responsivos para novos elementos */
@media (max-width: 767px) {
    .feeling-box {
        padding: 1rem !important;
        margin: 1rem auto !important;
    }

    .feeling-box h2,
    .feeling-box h3 {
        font-size: 1.125rem !important; /* 18px - tamanho acolhedor para mobile */
        font-weight: 500 !important; /* Medium - mantém hierarquia */
    }

    .feeling-btn {
        padding: 0.6rem 0.8rem !important;
        font-size: 0.8rem !important;
    }

    .support-links {
        margin: 2.5rem auto 2rem !important; /* Aumentado margin-top para criar mais espaço */
        padding: 0 1rem 1rem !important; /* Adicionado padding-bottom */
    }

    .support-links h2,
    .support-links h3 {
        font-size: 0.85rem !important;
    }

    .support-link {
        padding: 0.8rem 1rem !important;
        font-size: 0.85rem !important;
    }

    .rotating-message {
        display: none !important; /* Oculta completamente */
        visibility: hidden !important;
        height: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    #rotating-text {
        font-size: 0.85rem !important;
    }

    .inclusion-phrase {
        font-size: 0.8rem !important;
        margin-bottom: 0.8rem !important;
    }
}

@media (max-width: 479px) {
    .feeling-box {
        padding: 0.8rem !important;
        margin: 0.8rem auto !important;
    }

    .feeling-buttons {
        gap: 0.5rem !important;
    }

    .feeling-btn {
        padding: 0.5rem 0.7rem !important;
        font-size: 0.75rem !important;
    }

    .support-link {
        padding: 0.7rem 0.9rem !important;
        font-size: 0.8rem !important;
    }

    #rotating-text {
        font-size: 0.8rem !important;
    }
}

/* ========================================
   SISTEMA RESPONSIVO UNIFICADO E FLUIDO
   ========================================
   Este sistema garante que toda a estrutura e detalhes visuais
   do layout desktop sejam mantidos idênticos em celular e tablet,
   mas ajustados automaticamente pro tamanho de cada tela.
   ======================================== */

/* ========================================
   SOPHIA DESIGN SYSTEM - GUIA DE ESTILO
   ======================================== */

/* ===== VARIÁVEIS CSS - PALETA DE CORES FIXA ===== */
:root {
    /* Base scaling factors - serão ajustados por media query */
    --scale-factor: 1;
    --base-font-size: 16px;
    --spacing-unit: 1rem;
    --border-radius-base: 18px;
    --shadow-blur-base: 12px;
    
    /* ===== PALETA DE CORES SOPHIA ===== */
    /* Rosa Pastel - Ações Primárias */
    --sophia-pink-primary: #f4a6a6;
    --sophia-pink-secondary: #f8b8c8;
    --sophia-pink-light: rgba(244, 166, 166, 0.3);
    --sophia-pink-medium: rgba(244, 166, 166, 0.4);
    --sophia-pink-dark: #e89595;
    
    /* Fundos - SEMPRE BRANCOS */
    --sophia-bg-white: #ffffff;
    --sophia-bg-light: rgba(255, 252, 250, 0.85);
    --sophia-bg-gradient: #ffffff; /* BRANCO SÓLIDO, NÃO GRADIENTE */
    
    /* Textos - Nova Tipografia Moderna */
    --sophia-text-primary: #C44569; /* ROSA ESCURO para textos principais */
    --sophia-text-secondary: #8B7A8F;
    --sophia-text-light: #A89BA5;
    --sophia-text-dark: #C44569; /* Rosa escuro para títulos */
    
    /* Emergências - Cor de Destaque */
    --sophia-emergency: #e63946;
    --sophia-emergency-light: rgba(230, 57, 70, 0.1);
    
    /* Atenção - Cor de Alerta */
    /* ⚠️ CRÍTICO: Use apenas para alertas de atenção, NUNCA para botões principais */
    --sophia-warning: #ffb703;
    --sophia-warning-light: rgba(255, 183, 3, 0.15);
    --sophia-warning-dark: #e6a502;
    
    /* Bordas */
    --sophia-border-radius-sm: 12px;
    --sophia-border-radius-md: 16px;
    --sophia-border-radius-lg: 24px;
    
    /* Sombras */
    --sophia-shadow-sm: 0 2px 8px rgba(244, 166, 166, 0.15);
    --sophia-shadow-md: 0 4px 12px rgba(244, 166, 166, 0.2);
    --sophia-shadow-lg: 0 8px 30px rgba(244, 166, 166, 0.25);
    
    /* Espaçamento */
    --sophia-spacing-xs: 0.5rem;
    --sophia-spacing-sm: 1rem;
    --sophia-spacing-md: 1.5rem;
    --sophia-spacing-lg: 2rem;
    --sophia-spacing-xl: 3rem;
    
    /* Max Width Global */
    --sophia-container-max: 1100px;
}

/* ===== MOBILE PORTRAIT (< 480px) ===== */
@media (max-width: 479px) {
    :root {
        --scale-factor: 0.75;
        --spacing-unit: 0.75rem;
    }

    /* Container e layout geral */
    .container {
        width: 100vw !important;
        max-width: 100vw !important;
        overflow-x: hidden !important;
    }

    /* Header - mantém proporções, reduz tamanho */
    .header {
        padding: clamp(0.8rem, 2vw, 1rem) clamp(1rem, 3vw, 1.2rem) !important;
    }

    .logo h1 {
        font-size: clamp(1.1rem, 4vw, 1.3rem) !important;
    }

    .logo i {
        font-size: clamp(1.2rem, 4vw, 1.4rem) !important;
    }

    #user-greeting {
        font-size: clamp(0.9rem, 3.5vw, 1.1rem) !important;
    }

    /* Welcome Content - centralizado, margens reduzidas, organizado verticalmente */
    .welcome-content {
        padding: clamp(1rem, 3vw, 1.5rem) clamp(0.8rem, 4vw, 1.2rem) !important;
        max-width: 100% !important;
        width: 100% !important;
        margin: 0 auto !important;
        text-align: center !important;
    }

    .welcome-content i {
        font-size: clamp(1.8rem, 6vw, 2.2rem) !important;
        margin-bottom: clamp(0.4rem, 1.5vw, 0.6rem) !important;
    }

    .welcome-content h2 {
        font-size: clamp(1.2rem, 5vw, 1.5rem) !important;
        margin-bottom: clamp(0.6rem, 2vw, 0.8rem) !important;
        line-height: 1.3 !important;
    }

    .welcome-micro-phrase {
        font-size: clamp(0.75rem, 3vw, 0.9rem) !important;
        margin-bottom: clamp(0.8rem, 2.5vw, 1rem) !important;
        padding: 0 clamp(0.5rem, 3vw, 1rem) !important;
    }

    .welcome-content p {
        font-size: clamp(0.8rem, 3.2vw, 0.95rem) !important;
        margin-bottom: clamp(1rem, 3vw, 1.5rem) !important;
        padding: 0 clamp(0.5rem, 3vw, 1rem) !important;
    }

    /* Quick Questions - centralizado, botões em linha horizontal com wrap */
    .quick-questions {
        gap: clamp(0.5rem, 2vw, 0.75rem) !important;
        padding: 0 clamp(0.8rem, 4vw, 1.2rem) !important;
        margin-bottom: clamp(0.8rem, 2.5vw, 1.2rem) !important;
        justify-content: center !important;
    }

    .quick-btn {
        padding: clamp(0.7rem, 2.5vw, 0.9rem) clamp(0.9rem, 3vw, 1.2rem) !important;
        font-size: clamp(0.75rem, 3vw, 0.85rem) !important;
        border-radius: clamp(14px, 3.5vw, 18px) !important;
        min-height: 44px !important;
        gap: clamp(0.4rem, 1.5vw, 0.6rem) !important;
    }

    .quick-btn i {
        font-size: clamp(0.9rem, 3.5vw, 1.1rem) !important;
    }

    /* Feature Carousel - mantém layout horizontal, centralizado */
    .feature-sections {
        margin-top: clamp(1rem, 3vw, 1.5rem) !important;
        padding-top: clamp(0.8rem, 2.5vw, 1.2rem) !important;
        width: 100% !important;
        max-width: 100% !important;
    }

    .feature-sections h3 {
        font-size: clamp(0.95rem, 4vw, 1.1rem) !important;
        margin-bottom: clamp(0.8rem, 2.5vw, 1rem) !important;
    }

    /* Esconde botões de navegação do carrossel */
    .feature-carousel-container .carousel-btn {
        display: none !important;
    }
    
    .feature-carousel-container .carousel-dots {
        display: none !important;
    }

    .feature-carousel-container {
        padding: 0 clamp(0.8rem, 3vw, 1.2rem) !important;
        gap: 0 !important;
    }
    
    .feature-carousel {
        display: block !important;
        width: 100% !important;
        overflow: visible !important;
    }

    /* Grid 2x2 em mobile */
    .feature-carousel-track {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: clamp(0.8rem, 2.5vw, 1.2rem) !important;
        transform: none !important;
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 !important;
        flex-direction: column !important;
        flex-wrap: wrap !important;
    }

    .feature-btn {
        padding: clamp(1rem, 4vw, 1.3rem) clamp(0.8rem, 3vw, 1.1rem) !important;
        font-size: clamp(0.8rem, 3.2vw, 0.95rem) !important;
        border-radius: clamp(14px, 3.5vw, 18px) !important;
        width: 100% !important;
        max-width: 100% !important;
        min-width: auto !important;
        min-height: clamp(90px, 22vw, 110px) !important;
        gap: clamp(0.5rem, 1.5vw, 0.7rem) !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    .feature-btn i {
        order: 1 !important;
        display: block !important;
        margin-bottom: 0.3rem !important;
    }
    
    .feature-btn span {
        order: 2 !important;
        display: block !important;
        text-align: center !important;
    }

    .feature-btn i {
        font-size: clamp(1.2rem, 5vw, 1.5rem) !important;
    }

    .feature-btn span {
        font-size: clamp(0.75rem, 3vw, 0.9rem) !important;
    }

    .carousel-btn {
        width: clamp(32px, 8vw, 40px) !important;
        height: clamp(32px, 8vw, 40px) !important;
        font-size: clamp(0.85rem, 3.5vw, 1rem) !important;
    }

    /* Feeling Box - centralizado, margens reduzidas */
    .feeling-box {
        padding: clamp(0.9rem, 3vw, 1.3rem) !important;
        margin: clamp(1rem, 3vw, 1.5rem) auto !important;
        max-width: calc(100% - clamp(1.6rem, 6vw, 2.4rem)) !important;
        border-radius: clamp(16px, 4vw, 20px) !important;
    }

    .feeling-box h2,
    .feeling-box h3 {
        font-size: clamp(1.125rem, 3vw, 1.25rem) !important; /* 18-20px - tamanho acolhedor */
        margin-bottom: clamp(0.8rem, 2.5vw, 1rem) !important;
        font-weight: 500 !important; /* Medium - mantém hierarquia */
    }

    .feeling-buttons {
        gap: clamp(0.5rem, 2vw, 0.7rem) !important;
    }

    .feeling-btn {
        padding: clamp(0.6rem, 2.5vw, 0.85rem) clamp(0.8rem, 3vw, 1.1rem) !important;
        font-size: clamp(0.75rem, 3vw, 0.85rem) !important;
        border-radius: clamp(12px, 3vw, 15px) !important;
    }

    /* Support Links - centralizado */
    .support-links {
        margin: clamp(1.5rem, 4vw, 2rem) auto !important;
        padding: 0 clamp(0.8rem, 4vw, 1.2rem) !important;
        max-width: calc(100% - clamp(1.6rem, 6vw, 2.4rem)) !important;
    }

    .support-links h3 {
        font-size: clamp(0.9rem, 3.5vw, 1rem) !important;
    }

    .support-link {
        padding: clamp(0.8rem, 2.5vw, 1rem) clamp(1rem, 3vw, 1.3rem) !important;
        font-size: clamp(0.8rem, 3vw, 0.9rem) !important;
        border-radius: clamp(10px, 2.5vw, 12px) !important;
    }

    /* Rotating Message - REMOVIDA */
    .rotating-message {
        display: none !important; /* Oculta completamente */
        visibility: hidden !important;
        height: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    #rotating-text {
        font-size: clamp(0.8rem, 3vw, 0.9rem) !important;
    }

    .inclusion-phrase {
        font-size: clamp(0.75rem, 3vw, 0.85rem) !important;
        margin-bottom: clamp(0.7rem, 2vw, 1rem) !important;
        padding: 0 clamp(0.5rem, 3vw, 1rem) !important;
    }

    /* Sidebar - adaptação para mobile */
    .sidebar {
        width: clamp(240px, 70vw, 280px) !important;
        overflow: visible !important;
        height: auto !important;
    }
    
    .sidebar-content {
        overflow: visible !important;
        height: auto !important;
    }

    .sidebar-btn {
        padding: clamp(0.75rem, 2.5vw, 0.9rem) clamp(0.8rem, 3vw, 1rem) !important;
        font-size: clamp(0.85rem, 3.2vw, 0.95rem) !important;
        border-radius: clamp(10px, 2.5vw, 12px) !important;
        min-height: 44px !important;
    }

    .sidebar-btn i {
        font-size: clamp(1rem, 3.5vw, 1.1rem) !important;
    }
}

/* ===== TABLET PORTRAIT (480px - 767px) ===== */
@media (min-width: 480px) and (max-width: 767px) {
    :root {
        --scale-factor: 0.85;
        --spacing-unit: 0.85rem;
    }

    /* Container */
    .container {
        width: 100vw !important;
        max-width: 100vw !important;
        overflow-x: hidden !important;
    }

    /* Header */
    .header {
        padding: clamp(1rem, 2.5vw, 1.2rem) clamp(1.2rem, 3vw, 1.5rem) !important;
    }

    .logo h1 {
        font-size: clamp(1.25rem, 4vw, 1.5rem) !important;
    }

    .logo i {
        font-size: clamp(1.4rem, 4.5vw, 1.6rem) !important;
    }

    #user-greeting {
        font-size: clamp(1rem, 3.5vw, 1.2rem) !important;
    }

    /* Welcome Content */
    .welcome-content {
        padding: clamp(1.5rem, 4vw, 2rem) clamp(1.2rem, 4vw, 1.8rem) !important;
        max-width: 95% !important;
    }

    .welcome-content i {
        font-size: clamp(2rem, 6vw, 2.4rem) !important;
        margin-bottom: clamp(0.5rem, 1.5vw, 0.7rem) !important;
    }

    .welcome-content h2 {
        font-size: clamp(1.4rem, 5vw, 1.65rem) !important;
        margin-bottom: clamp(0.7rem, 2vw, 0.9rem) !important;
    }

    .welcome-micro-phrase {
        font-size: clamp(0.85rem, 3vw, 0.95rem) !important;
        margin-bottom: clamp(0.9rem, 2.5vw, 1.1rem) !important;
    }

    .welcome-content p {
        font-size: clamp(0.9rem, 3.2vw, 1rem) !important;
        margin-bottom: clamp(1.2rem, 3vw, 1.5rem) !important;
    }

    /* Quick Questions */
    .quick-questions {
        gap: clamp(0.65rem, 2vw, 0.85rem) !important;
        padding: 0 clamp(1rem, 4vw, 1.5rem) !important;
    }

    .quick-btn {
        padding: clamp(0.8rem, 2.5vw, 0.95rem) clamp(1rem, 3vw, 1.3rem) !important;
        font-size: clamp(0.8rem, 3vw, 0.87rem) !important;
        border-radius: clamp(15px, 3.5vw, 18px) !important;
        min-height: 46px !important;
    }

    /* Feature Carousel */
    .feature-sections {
        margin-top: clamp(1.2rem, 3vw, 1.8rem) !important;
        padding-top: clamp(1rem, 2.5vw, 1.5rem) !important;
    }

    .feature-sections h3 {
        font-size: clamp(1rem, 4vw, 1.15rem) !important;
        margin-bottom: clamp(0.9rem, 2.5vw, 1.1rem) !important;
    }

    .feature-carousel-container {
        padding: 0 clamp(1.5rem, 4vw, 2rem) !important;
        gap: clamp(0.4rem, 1.5vw, 0.5rem) !important;
    }

    .feature-carousel-track {
        gap: clamp(0.8rem, 2vw, 1rem) !important;
    }

    .feature-btn {
        padding: clamp(1.2rem, 4vw, 1.4rem) clamp(1rem, 3vw, 1.2rem) !important;
        font-size: clamp(0.9rem, 3.2vw, 1rem) !important;
        border-radius: clamp(15px, 3.5vw, 18px) !important;
        min-width: clamp(130px, 30vw, 150px) !important;
        min-height: clamp(115px, 27vw, 130px) !important;
    }

    .feature-btn i {
        font-size: clamp(1.3rem, 5vw, 1.5rem) !important;
    }

    .feature-btn span {
        font-size: clamp(0.85rem, 3vw, 0.95rem) !important;
    }

    .carousel-btn {
        width: clamp(36px, 8vw, 42px) !important;
        height: clamp(36px, 8vw, 42px) !important;
    }

    /* Feeling Box */
    .feeling-box {
        padding: clamp(1.1rem, 3vw, 1.4rem) !important;
        margin: clamp(1.2rem, 3vw, 1.8rem) auto !important;
        max-width: calc(100% - clamp(2rem, 6vw, 3rem)) !important;
    }

    .feeling-box h2,
    .feeling-box h3 {
        font-size: clamp(1.125rem, 3vw, 1.25rem) !important; /* 18-20px - tamanho acolhedor */
        font-weight: 500 !important; /* Medium - mantém hierarquia */
    }

    .feeling-btn {
        padding: clamp(0.7rem, 2.5vw, 0.9rem) clamp(0.9rem, 3vw, 1.1rem) !important;
        font-size: clamp(0.8rem, 3vw, 0.87rem) !important;
    }

    /* Support Links */
    .support-links {
        margin: clamp(1.8rem, 4vw, 2.2rem) auto !important;
        padding: 0 clamp(1rem, 4vw, 1.5rem) !important;
        max-width: calc(100% - clamp(2rem, 6vw, 3rem)) !important;
    }

    .support-links h3 {
        font-size: clamp(0.95rem, 3.5vw, 1.05rem) !important;
    }

    .support-link {
        padding: clamp(0.85rem, 2.5vw, 1rem) clamp(1.1rem, 3vw, 1.3rem) !important;
        font-size: clamp(0.85rem, 3vw, 0.92rem) !important;
    }

    /* Rotating Message - REMOVIDA */
    .rotating-message {
        display: none !important; /* Oculta completamente */
        visibility: hidden !important;
        height: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    #rotating-text {
        font-size: clamp(0.85rem, 3vw, 0.92rem) !important;
    }

    /* Sidebar */
    .sidebar {
        width: clamp(260px, 65vw, 290px) !important;
    }

    .sidebar-btn {
        padding: clamp(0.85rem, 2.5vw, 0.9rem) clamp(0.9rem, 3vw, 1rem) !important;
        font-size: clamp(0.9rem, 3.2vw, 0.95rem) !important;
        min-height: 46px !important;
    }
}

/* ===== TABLET LANDSCAPE / SMALL DESKTOP (768px - 991px) ===== */
@media (min-width: 768px) and (max-width: 991px) {
    :root {
        --scale-factor: 0.92;
        --spacing-unit: 0.92rem;
    }

    /* Mantém proporções, ajuste sutil */
    .header {
        padding: clamp(1.1rem, 2vw, 1.2rem) clamp(1.5rem, 3vw, 2rem) !important;
    }

    .logo h1 {
        font-size: clamp(1.4rem, 3.5vw, 1.6rem) !important;
    }

    #user-greeting {
        font-size: clamp(1.1rem, 3vw, 1.3rem) !important;
    }

    .welcome-content {
        padding: clamp(1.8rem, 3vw, 2rem) clamp(1.8rem, 4vw, 2.2rem) !important;
        max-width: 92% !important;
    }

    .welcome-content h2 {
        font-size: clamp(1.5rem, 4vw, 1.65rem) !important;
    }

    .feature-btn {
        padding: clamp(1.3rem, 3vw, 1.5rem) clamp(1.1rem, 2.5vw, 1.2rem) !important;
        min-width: clamp(140px, 25vw, 160px) !important;
        min-height: clamp(125px, 22vw, 140px) !important;
    }

    .feeling-box {
        max-width: calc(100% - clamp(3rem, 8vw, 4rem)) !important;
    }

    .support-links {
        max-width: calc(100% - clamp(3rem, 8vw, 4rem)) !important;
    }
}

/* ===== DESKTOP (992px+) ===== */
@media (min-width: 992px) {
    :root {
        --scale-factor: 1;
        --spacing-unit: 1rem;
    }

    /* Layout original do desktop - mantém todos os detalhes visuais */
    .welcome-content {
        max-width: 900px !important;
    }

    .feature-carousel-container {
        max-width: 800px !important;
    }

    .feeling-box {
        max-width: 600px !important;
    }

    .support-links {
        max-width: 700px !important;
    }
}

/* ===== ORIENTAÇÃO LANDSCAPE EM MOBILE ===== */
@media (max-width: 767px) and (orientation: landscape) {
    /* Ajustes sutis para landscape - mais espaço horizontal */
    .welcome-content {
        padding-top: clamp(0.8rem, 2vw, 1.2rem) !important;
        padding-bottom: clamp(0.8rem, 2vw, 1.2rem) !important;
    }

    .welcome-content h2 {
        font-size: clamp(1.1rem, 4vw, 1.4rem) !important;
        margin-bottom: clamp(0.5rem, 1.5vw, 0.7rem) !important;
    }

    .welcome-micro-phrase,
    .welcome-content p {
        margin-bottom: clamp(0.6rem, 2vw, 0.9rem) !important;
    }

    .quick-questions {
        margin-bottom: clamp(0.6rem, 2vw, 0.9rem) !important;
    }

    .feeling-box,
    .support-links {
        margin-top: clamp(0.1rem, 1.5vw, 0.5rem) !important;
        margin-bottom: clamp(0.3rem, 1.5vw, 0.6rem) !important;
    }
    
    .rotating-message {
        display: none !important; /* Oculta completamente */
        visibility: hidden !important;
        height: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }
}

/* ===== GARANTIA DE CENTRALIZAÇÃO ABSOLUTA EM TODOS OS DISPOSITIVOS ===== */
@media (max-width: 991px) {
    /* Welcome Message - sempre centralizado */
    .welcome-message {
        display: flex !important;
        align-items: flex-start !important;
        justify-content: center !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
    }

    .welcome-content {
        margin-left: auto !important;
        margin-right: auto !important;
        left: auto !important;
        right: auto !important;
        float: none !important;
        position: relative !important;
    }

    /* Feature Sections - sempre centralizado */
    .feature-sections {
        margin-left: auto !important;
        margin-right: auto !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
    }

    .feature-carousel-container {
        margin-left: auto !important;
        margin-right: auto !important;
        justify-content: center !important;
    }

    /* Feeling Box e Support Links - sempre centralizado */
    .feeling-box,
    .support-links {
        margin-left: auto !important;
        margin-right: auto !important;
        left: auto !important;
        right: auto !important;
    }
}

/* ===== PRESERVAÇÃO DE SOMBRAS E EFEITOS VISUAIS PROPORCIONALMENTE ===== */
@media (max-width: 767px) {
    /* Mantém sombras proporcionais ao tamanho */
    .feature-btn {
        box-shadow: 0 clamp(3px, 1vw, 4px) clamp(10px, 2.5vw, 12px) rgba(244, 166, 166, 0.25), 
                    0 clamp(1.5px, 0.8vw, 2px) clamp(5px, 1.5vw, 6px) rgba(0, 0, 0, 0.08) !important;
    }

    .feature-btn:hover {
        box-shadow: 0 clamp(8px, 2vw, 12px) clamp(30px, 8vw, 40px) rgba(244, 166, 166, 0.6),
                    0 clamp(4px, 1.5vw, 6px) clamp(15px, 4vw, 20px) rgba(0, 0, 0, 0.12) !important;
    }

    .quick-btn {
        box-shadow: 0 clamp(3px, 1vw, 4px) clamp(10px, 2.5vw, 12px) rgba(244, 166, 166, 0.25),
                    0 clamp(1.5px, 0.8vw, 2px) clamp(5px, 1.5vw, 6px) rgba(0, 0, 0, 0.08) !important;
    }

    .quick-btn:hover {
        box-shadow: 0 clamp(8px, 2vw, 10px) clamp(25px, 7vw, 30px) rgba(244, 166, 166, 0.4),
                    0 clamp(3px, 1.5vw, 4px) clamp(12px, 3.5vw, 15px) rgba(0, 0, 0, 0.1) !important;
    }

    .feeling-box {
        box-shadow: 0 clamp(3px, 1vw, 4px) clamp(15px, 4vw, 20px) rgba(244, 166, 166, 0.15),
                    0 clamp(1.5px, 0.8vw, 2px) clamp(6px, 1.5vw, 8px) rgba(0, 0, 0, 0.05) !important;
    }

    .support-link {
        box-shadow: 0 clamp(3px, 1vw, 4px) clamp(10px, 2.5vw, 12px) rgba(244, 166, 166, 0.25),
                    0 clamp(1.5px, 0.8vw, 2px) clamp(5px, 1.5vw, 6px) rgba(0, 0, 0, 0.08) !important;
    }
}

/* ===== GARANTIA DE FLUIDIDADE NAS TRANSIÇÕES ===== */
* {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Animações suaves para todos os elementos interativos */
.feature-btn,
.quick-btn,
.feeling-btn,
.support-link,
.sidebar-btn {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* ===== FIM DO SISTEMA RESPONSIVO UNIFICADO ===== */

/* ===== REGRAS ADICIONAIS DE CENTRALIZAÇÃO E RESPONSIVIDADE ===== */
@media (max-width: 768px) {
    /* Welcome Content e Cards Principais */
    .welcome-content,
    .feeling-box,
    .support-links,
    .feature-sections {
        width: 100% !important;
        max-width: 100% !important;
        padding: 1.2rem !important;
        margin: 0 auto !important;
        text-align: center !important;
        box-sizing: border-box !important;
    }

    /* Textos dentro dos cards - centralização e quebra de palavras */
    .welcome-content p,
    .welcome-content h1,
    .welcome-content h2,
    .feeling-box p,
    .support-links p,
    .feature-sections p,
    .feature-sections h3 {
        text-align: center !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        font-size: clamp(0.9rem, 3vw, 1rem) !important;
    }
    .feeling-box h2,
    .feeling-box h3 {
        text-align: center !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        font-size: clamp(1.125rem, 2.5vw, 1.25rem) !important; /* 18-20px - tamanho acolhedor */
        font-weight: 500 !important; /* Medium - mantém hierarquia */
    }
    .support-links h2,
    .support-links h3 {
        text-align: center !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        font-size: clamp(0.8rem, 2.5vw, 0.9rem) !important;
    }

    /* Layout em coluna para elementos flexbox */
    .quick-questions,
    .feeling-buttons,
    .support-links-grid,
    .feature-carousel-track {
        flex-direction: column !important;
        align-items: center !important;
    }

    /* Garante que elementos inline também sejam centralizados */
    .welcome-micro-phrase,
    .inclusion-phrase,
    #rotating-text {
        text-align: center !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }
}

/* ===== CSS ESPECÍFICO PARA DISPOSITIVOS MÓVEIS (NÃO AFETA PC) ===== */
@media only screen and (max-width: 768px) {
    .welcome-message,
    .welcome-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: 90%;
        margin: 0 auto;
        padding: 1rem;
    }

    .welcome-message h2,
    .welcome-message p {
        text-align: center;
        width: 100%;
    }

    .feeling-buttons,
    .quick-questions {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
        gap: 0.5rem;
    }

    .feeling-btn,
    .quick-btn {
        width: 100%;
        font-size: 1rem;
    }

    .feature-carousel-container {
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
}

/* ===== CSS ESPECÍFICO PARA TABLET (NÃO AFETA PC) ===== */
@media only screen and (min-width: 769px) and (max-width: 1024px) {
    /* Welcome Message e Conteúdo - Centralização e Largura Adaptada */
    .welcome-message {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: flex-start !important;
        overflow-x: hidden !important;
        padding: 0 !important;
        width: 100% !important;
    }

    .welcome-content {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;
        max-width: 85% !important;
        margin: 0 auto !important;
        padding: 1.5rem !important;
        text-align: center !important;
        box-sizing: border-box !important;
        overflow-x: hidden !important;
    }

    /* Títulos e Textos - Tamanhos para Tablet */
    .welcome-content h1,
    .welcome-content h2 {
        text-align: center !important;
        margin: 0 auto !important;
        width: 100% !important;
        font-size: 1.5rem !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }

    .welcome-content p,
    .welcome-micro-phrase,
    .inclusion-phrase {
        text-align: center !important;
        margin: 0 auto !important;
        width: 100% !important;
        font-size: 1rem !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }

    /* Botões Feeling - Lado a Lado com Wrap */
    .feeling-buttons {
        flex-direction: row !important;
        flex-wrap: wrap !important;
        justify-content: center !important;
        align-items: center !important;
        width: 100% !important;
        gap: 0.8rem !important;
    }

    .feeling-btn {
        display: inline-block !important;
        width: auto !important;
        margin-bottom: 0 !important;
        flex: 0 1 auto !important;
    }

    /* Botões Quick - Lado a Lado com Wrap */
    .quick-questions {
        flex-direction: row !important;
        flex-wrap: wrap !important;
        justify-content: center !important;
        align-items: center !important;
        width: 100% !important;
        gap: 0.8rem !important;
    }

    .quick-btn {
        display: inline-block !important;
        width: auto !important;
        margin-bottom: 0 !important;
        flex: 0 1 auto !important;
    }

    /* Feature Carousel Container - Centralizado */
    .feature-carousel-container {
        width: 100% !important;
        max-width: 85% !important;
        justify-content: center !important;
        gap: 0.8rem !important;
        padding: 0 1.5rem !important;
        margin: 0 auto !important;
    }

    /* Feature Sections - Centralizado */
    .feature-sections {
        width: 100% !important;
        max-width: 85% !important;
        margin: 0 auto !important;
        padding: 1.5rem !important;
        text-align: center !important;
    }

    /* Feeling Box e Support Links - Centralizados */
    .feeling-box,
    .support-links {
        width: 100% !important;
        max-width: 85% !important;
        margin: 0 auto !important;
        padding: 1.5rem !important;
        text-align: center !important;
    }

    /* Rotating Message - Centralizado */
    .rotating-message {
        width: 100% !important;
        max-width: 85% !important;
        margin: 0 auto !important;
        text-align: center !important;
    }

    /* Garantia de Sem Scroll Horizontal */
    .welcome-message,
    .welcome-content,
    .feature-sections,
    .feeling-box,
    .support-links {
        overflow-x: hidden !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }
}

/* ===== ESTILO PARA CELULARES (até 768px) ===== */
@media only screen and (max-width: 768px) {
    body {
        padding: 0;
        margin: 0;
        overflow-x: hidden;
    }

    .welcome-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: 90%;
        margin: 0 auto;
        padding: 1rem;
    }

    .welcome-message h1,
    .welcome-message h2,
    .welcome-message p {
        text-align: center;
        width: 100%;
    }

    /* Botões e seções */
    .feeling-buttons,
    .quick-questions,
    .feature-carousel-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        width: 100%;
        margin-top: 1rem;
    }

    .feeling-btn,
    .quick-btn {
        width: 90%;
        font-size: 1rem;
    }

    /* Ajuste do carrossel */
    .feature-carousel-container {
        flex-direction: column;
        width: 100%;
        padding: 1rem 0;
    }

    .feature-carousel-item {
        width: 90%;
        margin: 0 auto;
    }

    /* Tamanho das fontes */
    h1, h2 {
        font-size: 1.5rem;
    }

    p {
        font-size: 1rem;
    }
}

/* ===== ESTILO PARA TABLETS (769px até 1024px) ===== */
@media only screen and (min-width: 769px) and (max-width: 1024px) {
    body {
        padding: 0 1rem;
        overflow-x: hidden;
    }

    .welcome-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: 85%;
        margin: 0 auto;
        padding: 1.5rem;
    }

    .welcome-message h1,
    .welcome-message h2,
    .welcome-message p {
        text-align: center;
        width: 100%;
    }

    /* Botões e seções */
    .feeling-buttons,
    .quick-questions,
    .feature-carousel-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
        width: 100%;
        margin-top: 1.5rem;
    }

    .feeling-btn,
    .quick-btn {
        width: 45%;
        font-size: 1.1rem;
    }

    /* Ajuste do carrossel */
    .feature-carousel-container {
        flex-direction: row;
        justify-content: center;
        width: 100%;
        padding: 1rem 0;
    }

    .feature-carousel-item {
        width: 40%;
        margin: 0.5rem;
    }

    /* Tamanho das fontes */
    h1, h2 {
        font-size: 1.8rem;
    }

    p {
        font-size: 1.1rem;
    }
}

/* ==== FORÇA TOTAL PRA CENTRALIZAR A ÁREA DE BOAS-VINDAS ==== */
@media only screen and (max-width: 768px) {
    .welcome-message {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        width: 100% !important;
        margin: 0 auto !important;
        padding: 1.5rem 1rem !important;
        box-sizing: border-box !important;
    }

    .welcome-content {
        max-width: 90% !important;
        margin: 0 auto !important;
    }

    .welcome-message h2,
    .welcome-message p {
        width: 100% !important;
        text-align: center !important;
    }
}

/* ===== CSS RESPONSIVO PARA O CABEÇALHO E BLOCO DE BOAS-VINDAS DO CABEÇALHO NO MOBILE ===== */
@media only screen and (max-width: 768px) {
    /* Ajuste do header completo - SOBRESCRITO pelas regras acima */
    .header {
        padding: 1rem 0.5rem !important; /* Usa os valores das regras acima */
        min-height: 55px !important;
        width: 100% !important;
        box-sizing: border-box !important;
        display: flex !important;
        align-items: center !important; /* Centraliza verticalmente */
        justify-content: center !important; /* Centraliza horizontalmente */
    }

    .header-content {
        display: flex !important;
        flex-wrap: wrap !important;
        justify-content: space-between !important;
        align-items: center !important;
        gap: 0.5rem !important;
        width: 100% !important;
    }

    /* Logo ajustado - SOBRESCRITO pelas regras acima */
    .logo {
        display: flex !important;
        align-items: center !important;
        gap: 0.4rem !important;
        flex: 0 0 auto !important;
        position: absolute !important;
        left: 50% !important;
        top: 50% !important; /* Centralizado verticalmente */
        transform: translate(-50%, -50%) !important; /* Centraliza perfeitamente */
    }

    .logo h1 {
        font-size: 1rem !important; /* Usa o valor das regras acima */
        white-space: nowrap !important;
    }

    .logo i {
        font-size: 1rem !important; /* Usa o valor das regras acima */
    }

    .logo .subtitle {
        display: none !important; /* Oculta subtítulo no mobile para economizar espaço */
    }

    /* Container do bloco de boas-vindas do cabeçalho - OCULTO conforme regras acima */
    .header-right {
        display: none !important; /* OCULTO conforme regras acima */
    }

    /* Bloco de boas-vindas do cabeçalho - OCULTO */
    .header-right .welcome-message,
    .header-right #welcome-user {
        display: none !important;
    }
    
    /* Status-indicator também oculto conforme regras acima */
    .header-right .status-indicator {
        display: none !important;
    }

    /* Texto de saudação do cabeçalho */
    #user-greeting {
        font-size: 0.85rem !important;
        font-weight: 600 !important;
        color: #7a4a4a !important;
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        max-width: 100% !important;
        text-align: right !important;
        margin: 0 !important;
        padding: 0 !important;
        line-height: 1.3 !important;
    }

    /* Indicador de status ajustado */
    .header-right .status-indicator {
        display: flex !important;
        align-items: center !important;
        gap: 0.3rem !important;
        font-size: 0.7rem !important;
        padding: 0.3rem 0.5rem !important;
        background: rgba(255, 255, 255, 0.2) !important;
        border-radius: 10px !important;
        /* backdrop-filter: blur(10px) !important; */ /* Removido para melhor performance */
        width: auto !important;
    }

    .status-indicator span {
        font-size: 0.7rem !important;
    }

    .status-indicator i {
        font-size: 0.6rem !important;
    }
}

/* ===== CSS RESPONSIVO PARA TABLET (CABEÇALHO) ===== */
@media only screen and (min-width: 769px) and (max-width: 1024px) {
    .header {
        padding: 1rem 1.5rem !important;
    }

    .header-content {
        gap: 1rem !important;
    }

    .logo h1 {
        font-size: 1.4rem !important;
    }

    .header-right {
        gap: 0.8rem !important;
    }

    #user-greeting {
        font-size: 1rem !important;
    }

    .status-indicator {
        font-size: 0.85rem !important;
    }
}

/* Forçar o fundo e centralização do bloco de boas-vindas em telas pequenas */
@media only screen and (max-width: 768px) {
    .welcome-message {
        background: linear-gradient(180deg, #fef9f7 0%, #f8e8e8 70%, #f0e0e0 100%) !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        text-align: center !important;
        width: 100% !important;
        height: auto !important;
        padding: 2rem 1rem !important;
        border-radius: 1rem !important;
        box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    }

    .welcome-message h2,
    .welcome-message p {
        font-size: 1.1rem !important;
        max-width: 90% !important;
        margin: 0 auto !important;
    }
}

@media only screen and (max-width: 1024px) {
    .welcome-message {
        background: linear-gradient(135deg, #fff5f9 0%, #ffeef5 25%, #ffe8f0 50%, #ffd6e6 75%, #ffccd5 100%) !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: center !important;
        align-items: center !important;
        text-align: center !important;
        padding: 2rem 1rem !important;
        border-radius: 1rem !important;
        max-width: 90% !important;
        margin: 0 auto !important;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1) !important;
    }

    .welcome-message h2,
    .welcome-message p {
        font-size: 1.1rem !important;
        line-height: 1.4 !important;
    }
}

/* Ajuste do bloco de boas-vindas no mobile e tablet */
@media (max-width: 1024px) {
    .welcome-message {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        background: linear-gradient(135deg, #fff5f9 0%, #ffeef5 25%, #ffe8f0 50%, #ffd6e6 75%, #ffccd5 100%) !important;
        border-radius: 1.2rem !important;
        padding: 2rem 1rem !important;
        margin: 1.5rem auto !important;
        width: 90% !important;
        max-width: 600px !important;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08) !important;
    }

    .welcome-message h2,
    .welcome-message p {
        font-size: 1.1rem !important;
        max-width: 90% !important;
    }

    .welcome-message i {
        font-size: 2.2rem !important;
        margin-bottom: 1rem !important;
    }
}

/* ===== CORREÇÕES CRÍTICAS PARA MOBILE ===== */
@media only screen and (max-width: 768px) {
    /* Garantir que não há overflow horizontal */
    html, body {
        overflow-x: hidden !important;
        max-width: 100vw !important;
        width: 100% !important;
    }

    /* Garantir centralização completa do welcome-message */
    .chat-area .welcome-message {
        left: 0 !important;
        right: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        padding: 1rem 0.5rem !important;
    }

    .welcome-content {
        width: 100% !important;
        max-width: 95% !important;
        margin: 0 auto !important;
        padding: 1.5rem 1rem !important;
        box-sizing: border-box !important;
    }

    /* Garantir que botões não saiam da tela */
    .quick-questions {
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 0.5rem !important;
        box-sizing: border-box !important;
    }

    .quick-btn {
        max-width: calc(100% - 1rem) !important;
        word-wrap: break-word !important;
        white-space: normal !important;
    }

    /* Garantir que carrossel não cause overflow */
    .feature-carousel-container {
        width: 100% !important;
        max-width: 100% !important;
        overflow: hidden !important;
        box-sizing: border-box !important;
    }

    /* Garantir que botões de sentimento não saiam */
    .feeling-buttons {
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 0.5rem !important;
        box-sizing: border-box !important;
    }

    .feeling-btn {
        max-width: calc(50% - 0.5rem) !important;
        flex: 1 1 calc(50% - 0.5rem) !important;
        min-width: 0 !important;
    }

    /* Garantir que links de apoio não saiam */
    .support-links {
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 0.5rem !important;
        box-sizing: border-box !important;
    }

    .support-link {
        width: 100% !important;
        max-width: 100% !important;
        word-wrap: break-word !important;
        white-space: normal !important;
    }
    
    /* Container do botão "Conversar com a Sophia" - centralização perfeita */
    .start-chat-container {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;
        max-width: 100% !important;
        margin: 2rem auto !important;
        text-align: center !important;
        padding: 0 1rem !important;
        box-sizing: border-box !important;
        position: relative !important;
    }
    
    /* Botão "Conversar com a Sophia" - ícone à esquerda, texto à direita, TUDO DENTRO */
    /* SOBRESCREVE COMPLETAMENTE O .btn PARA EVITAR CONFLITOS */
    button#start-chat-btn.btn.btn-start-chat,
    #start-chat-btn {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important; /* Centraliza conteúdo */
        margin: 0 auto !important;
        width: auto !important;
        min-width: 300px !important;
        max-width: 90% !important;
        text-align: center !important;
        white-space: normal !important;
        word-wrap: break-word !important;
        padding: 1.5rem 3rem !important; /* Padding maior para encaixar tudo */
        font-size: 0.85rem !important; /* Texto legível */
        font-weight: 600 !important;
        border-radius: 50px !important; /* Sobrescreve border-radius: 50% do .btn */
        gap: 0.5rem !important; /* Espaço entre ícone e texto */
        background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%) !important;
        color: white !important;
        border: none !important;
        box-shadow: 0 4px 14px rgba(255, 107, 157, 0.38) !important;
        box-sizing: border-box !important;
        overflow: visible !important; /* Mudado para visible para ver tudo */
        position: relative !important;
        line-height: 1.4 !important;
        min-height: 58px !important; /* Altura mínima maior */
        height: auto !important; /* Altura automática */
        cursor: pointer !important;
        /* Garantir que os filhos fiquem dentro */
        contain: layout style paint !important;
    }
    
    /* Ícone dentro do botão - centralizado */
    button#start-chat-btn.btn.btn-start-chat i,
    #start-chat-btn i {
        font-size: 1rem !important; /* Ícone proporcional */
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        flex-shrink: 0 !important; /* Não encolhe */
        margin: 0 !important;
        padding: 0 !important;
        order: 0 !important; /* Ícone primeiro */
        line-height: 1 !important;
        width: auto !important;
        height: auto !important;
        max-height: none !important;
        vertical-align: middle !important;
        color: white !important;
    }
    
    /* Texto dentro do botão - centralizado */
    button#start-chat-btn.btn.btn-start-chat span,
    #start-chat-btn span {
        display: inline-flex !important;
        align-items: center !important;
        flex: 0 0 auto !important; /* Não ocupa espaço extra */
        text-align: center !important; /* Texto centralizado */
        justify-content: center !important; /* Centraliza texto */
        margin: 0 !important;
        padding: 0 !important;
        order: 1 !important; /* Texto depois do ícone */
        white-space: nowrap !important;
        overflow: visible !important; /* Mudado para visible */
        text-overflow: clip !important; /* Mudado para clip em vez de ellipsis */
        line-height: 1.4 !important;
        min-width: 0 !important; /* Permite que o texto encolha se necessário */
        position: static !important; /* Garante que fica dentro do botão */
        color: white !important;
        visibility: visible !important;
        opacity: 1 !important;
        vertical-align: middle !important;
        /* Garantir que o texto não saia */
        max-width: 100% !important;
    }
    
    /* Garante que o texto dentro do span seja visível */
    button#start-chat-btn.btn.btn-start-chat span *,
    #start-chat-btn span * {
        color: white !important;
        visibility: visible !important;
        opacity: 1 !important;
    }
    
    #start-chat-btn * {
        box-sizing: border-box !important;
    }
}

/* ===== MELHORIAS ABRANGENTES PARA MOBILE ===== */
@media (max-width: 768px) {
    /* Ajuste geral de fonte */
    body {
        font-size: 14px !important;
    }

    /* LOGIN SCREEN - Ajustes para mobile */
    .login-container {
        width: 95% !important;
        max-width: 95% !important;
        margin: auto !important;
        padding: 2rem 1.5rem !important;
    }

    .login-header h1 {
        font-size: 2rem !important;
    }

    .login-header i {
        font-size: 2.5rem !important;
    }

    /* FORMULÁRIOS - Ajustes para mobile */
    .login-form {
        width: 100% !important;
        margin: auto !important;
    }

    .login-form .form-group input {
        padding: 0.9rem 1rem 0.9rem 3rem !important;
        font-size: 16px !important; /* Previne zoom automático no iOS */
        min-height: 48px !important; /* Tamanho mínimo de toque */
    }

    .login-form .form-group label {
        font-size: 0.9rem !important;
        min-height: 44px !important; /* Tamanho mínimo de toque */
        display: flex !important;
        align-items: center !important;
    }

    /* BOTÕES - Tamanho mínimo de toque (40-48px) */
    button,
    .btn,
    .btn-login-main,
    .login-tab,
    .quick-btn,
    .feeling-btn,
    .feature-btn,
    .sidebar-btn,
    .support-link,
    .carousel-btn,
    #menu-toggle,
    #send-button,
    #close-sidebar,
    .close-modal {
        min-height: 40px !important;
        min-width: 40px !important;
        padding: 0.5rem !important;
        font-size: 0.85rem !important;
        touch-action: manipulation !important; /* Remove delay de 300ms no mobile */
    }

    .btn-login-main {
        min-height: 48px !important;
        padding: 0.9rem 1.25rem !important;
        font-size: 1rem !important;
    }

    /* SIDEBAR - Bottom Sheet no mobile (sobe de baixo) */
    .sidebar,
    #sidebar {
        width: 100% !important;
        max-width: 100% !important;
        flex-basis: 100% !important;
        position: fixed !important;
        top: auto !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        height: auto !important;
        max-height: 85vh !important;
        transform: translateY(100%) !important;
        transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1) !important;
        border-radius: 20px 20px 0 0 !important;
        border-right: none !important;
        border-top: 1px solid rgba(244, 166, 166, 0.2) !important;
        box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.15) !important;
        z-index: 2147483647 !important;
    }
    .sidebar.open,
    #sidebar.open {
        transform: translateY(0) !important;
    }
    .sidebar.open::after {
        display: none !important; /* Remove indicador "Menu" lateral no bottom sheet */
    }

    /* Overlay quando sidebar está aberta - REMOVIDO para não escurecer a tela */
    /* .sidebar.open + .chat-area::before,
    body.sidebar-open::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        animation: fadeIn 0.3s ease;
    } */

    /* MENU TOGGLE - Garantir visibilidade e tamanho */
    #menu-toggle {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        min-width: 40px !important;
        min-height: 40px !important;
        width: 40px !important;
        height: 40px !important;
        font-size: 1.2rem !important;
    }
    
    /* Menu toggle no header - sempre visível em mobile - posicionado à extrema esquerda */
    #menu-toggle-header {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        min-width: 40px !important;
        min-height: 40px !important;
        width: 40px !important;
        height: 40px !important;
        font-size: 1.2rem !important;
        background: rgba(255, 255, 255, 0.2) !important;
        border: 1px solid rgba(255, 255, 255, 0.3) !important;
        border-radius: 8px !important;
        color: #8b5a5a !important;
        margin: 0 !important;
        position: fixed !important;
        top: 0.5rem !important;
        left: 0.5rem !important;
        z-index: 1001 !important; /* Acima do header */
        order: -1 !important; /* Garante que fica antes do logo */
    }

    /* HEADER - Ajustes para mobile */
    .header {
        padding: 1rem 1rem !important;
        padding-left: 0.5rem !important;
    }

    .header-content {
        flex-wrap: wrap !important;
        gap: 0.5rem !important;
        padding-left: 0.5rem !important;
        justify-content: flex-start !important;
    }

    .logo h1 {
        font-size: 1.3rem !important;
    }

    .logo .subtitle {
        display: none !important; /* Esconde subtitle no mobile para economizar espaço */
    }

    #user-greeting {
        font-size: 0.85rem !important;
    }

    .status-indicator {
        font-size: 0.8rem !important;
    }

    /* MODAIS - Ajustes para mobile */
    .modal-content {
        width: 95% !important;
        max-width: 95% !important;
        margin: 10px auto !important;
        padding: 1.5rem !important;
        max-height: 90vh !important;
        overflow-y: auto !important;
    }

    .modal-content.modal-auth,
    .modal-content.modal-resources {
        width: 95% !important;
        max-width: 95% !important;
    }

    /* INPUTS - Tamanho mínimo de toque */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    #message-input {
        min-height: 48px !important;
        font-size: 16px !important; /* Previne zoom automático no iOS */
        padding: 0.9rem 1.2rem !important;
    }

    /* INPUT AREA - Ajustes para mobile */
    .input-area {
        padding: 1rem 0.75rem !important;
    }

    .input-container {
        gap: 0.5rem !important;
    }

    /* CARROSSEL - Ajustes para mobile */
    .feature-carousel-container {
        padding: 0 0.5rem !important;
    }

    .carousel-btn {
        min-width: 44px !important;
        min-height: 44px !important;
        padding: 0.5rem !important;
        font-size: 1rem !important;
    }

    /* QUICK QUESTIONS - Ajustes para mobile */
    .quick-questions {
        gap: 0.5rem !important;
        padding: 0 0.75rem !important;
    }

    .quick-btn {
        font-size: 0.8rem !important;
        padding: 0.75rem 1rem !important;
        min-height: 44px !important;
        white-space: normal !important;
        word-wrap: break-word !important;
    }

    /* FEELING BUTTONS - Ajustes para mobile */
    .feeling-buttons {
        gap: 0.5rem !important;
    }

    .feeling-btn {
        font-size: 0.8rem !important;
        padding: 0.75rem 0.9rem !important;
        min-height: 44px !important;
    }

    /* SUPPORT LINKS - Ajustes para mobile */
    .support-link {
        padding: 0.9rem 1rem !important;
        min-height: 48px !important;
        font-size: 0.85rem !important;
    }

    /* CHAT MESSAGES - Ajustes para mobile */
    .message-content {
        max-width: 85% !important;
        font-size: 0.9rem !important;
    }

    /* BACK TO WELCOME BUTTON - Ajustes para mobile */
    .back-to-welcome {
        top: 4.5rem !important;
        right: 0.75rem !important;
    }

    .back-to-welcome .btn {
        padding: 0.6rem 0.9rem !important;
        font-size: 0.85rem !important;
        min-height: 40px !important;
    }

    /* TYPING INDICATOR - Ajustes para mobile */
    .typing-indicator {
        right: 50px !important; /* Alinhado com botão de enviar em mobile */
        bottom: calc(100% + 4px) !important;
        padding: 0.4rem 0.6rem !important;
        margin: 0 !important;
        margin-bottom: 4px !important;
    }
    
    .typing-indicator .typing-dots {
        gap: 4px !important;
    }
    
    .typing-indicator .typing-dots span {
        width: 5px !important;
        height: 5px !important;
        overflow: visible !important;
    }

    /* PREVENIR ZOOM EM INPUTS NO iOS */
    input,
    textarea,
    select {
        font-size: 16px !important;
    }

    /* GARANTIR QUE NÃO HÁ SCROLL HORIZONTAL */
    * {
        max-width: 100% !important;
    }

    html, body {
        overflow-x: hidden !important;
        width: 100% !important;
        position: relative !important;
    }
}

/* ===== MELHORIAS PARA TABLETS ===== */
@media (min-width: 769px) and (max-width: 1024px) {
    body {
        font-size: 15px !important;
    }

    .login-container {
        max-width: 500px !important;
        padding: 2.5rem !important;
    }

    .modal-content {
        width: 85% !important;
        max-width: 600px !important;
    }

    button,
    .btn {
        min-height: 42px !important;
    }
}

/* ============================================
   FOOTER - Avisos Médicos e Privacidade
   ============================================ */
.app-footer {
    background: linear-gradient(135deg, #fff5f9 0%, #ffeef5 50%, #ffe8f0 100%);
    border-top: 2px solid rgba(244, 166, 166, 0.2);
    padding: 1.5rem 2rem;
    margin-top: 2rem;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    text-align: center;
}

.footer-section {
    margin-bottom: 1rem;
}

.footer-disclaimer {
    color: var(--text-warm-medium);
    font-size: 0.9rem;
    line-height: 1.6;
    margin: 0;
    padding: 0.75rem 1rem;
    background: #fff9f7;
    border-radius: 8px;
    border-left: 4px solid #f4a6a6;
}

.footer-disclaimer i {
    color: var(--color-primary-warm);
    margin-right: 0.5rem;
}

.footer-disclaimer strong {
    color: var(--text-warm-medium);
    font-weight: 600;
}

.footer-links {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.85rem;
    color: var(--text-warm-medium);
    margin-top: 1rem;
}

.footer-link {
    color: var(--color-primary-warm);
    text-decoration: none;
    transition: color 0.3s ease;
    font-weight: 500;
}

.footer-link:hover {
    color: #e88585;
    text-decoration: underline;
}

.footer-link:focus {
    outline: 2px solid #f4a6a6;
    outline-offset: 2px;
    border-radius: 4px;
}

.footer-separator {
    color: #d4a5a5;
    margin: 0 0.25rem;
}

.footer-copyright {
    color: var(--text-warm-medium);
    font-size: 0.85rem;
}

/* Mobile - Footer */
@media (max-width: 768px) {
    .app-footer {
        padding: 1rem;
        margin-top: 1rem;
    }
    
    .footer-disclaimer {
        font-size: 0.8rem;
        padding: 0.6rem 0.8rem;
    }
    
    .footer-links {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .footer-separator {
        display: none;
    }
    
    .footer-link,
    .footer-copyright {
        font-size: 0.8rem;
    }
}

/* Acessibilidade - Contraste melhorado */
@media (prefers-contrast: high) {
    .footer-disclaimer {
        border-left-width: 6px;
        background: #ffffff;
    }
    
    .footer-link {
        text-decoration: underline;
    }
}

/* Acessibilidade - Redução de movimento */
@media (prefers-reduced-motion: reduce) {
    .footer-link {
        transition: none;
    }
}

/* Notificação de Sucesso */
.notification-toast {
    position: fixed;
    top: 20px;
    right: 20px;
    background: linear-gradient(135deg, #fff 0%, #fff9f7 100%);
    border: 2px solid #f4a6a6;
    border-radius: 16px;
    padding: 1.5rem 2rem;
    box-shadow: 0 8px 32px rgba(244, 166, 166, 0.4);
    z-index: 10001;
    max-width: 400px;
    min-width: 300px;
    animation: slideInRight 0.4s ease-out;
    display: flex;
    align-items: center;
    gap: 1rem;
    box-sizing: border-box;
}

.notification-toast.success {
    border-color: #a8d5a8;
    box-shadow: 0 8px 32px rgba(168, 213, 168, 0.4);
}

.notification-toast.error {
    border-color: var(--color-primary-warm);
    box-shadow: 0 8px 32px rgba(244, 166, 166, 0.4);
}

.notification-toast .notification-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.notification-toast.success .notification-icon {
    color: #a8d5a8;
}

.notification-toast.error .notification-icon {
    color: var(--color-primary-warm);
}

.notification-toast .notification-content {
    flex: 1;
}

.notification-toast .notification-title {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-warm-medium);
    margin-bottom: 0.3rem;
    line-height: 1.4;
}

.notification-toast .notification-message {
    font-size: 0.95rem;
    color: var(--text-warm-medium);
    line-height: 1.5;
}

.notification-toast .notification-close {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: transparent;
    border: none;
    color: var(--text-warm-medium);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 0.25rem;
    line-height: 1;
    opacity: 0.6;
    transition: opacity 0.2s ease;
}

.notification-toast .notification-close:hover {
    opacity: 1;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutRight {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

.notification-toast.hiding {
    animation: slideOutRight 0.3s ease-out forwards;
}

/* ===== OTIMIZAÇÕES MOBILE AVANÇADAS ===== */

/* Safe Areas - Suporte para notch iOS e barras Android */
@supports (padding: max(0px)) {
    body {
        padding-left: max(0px, env(safe-area-inset-left));
        padding-right: max(0px, env(safe-area-inset-right));
        padding-top: max(0px, env(safe-area-inset-top));
        padding-bottom: max(0px, env(safe-area-inset-bottom));
    }
    
    .header {
        padding-top: max(1rem, calc(1rem + env(safe-area-inset-top))) !important;
    }
    
    .input-area {
        padding-bottom: max(0.6rem, calc(0.6rem + env(safe-area-inset-bottom))) !important;
        padding-left: max(0.5rem, calc(0.5rem + env(safe-area-inset-left))) !important;
        padding-right: max(0.5rem, calc(0.5rem + env(safe-area-inset-right))) !important;
    }
    
    .sidebar {
        padding-top: max(0px, env(safe-area-inset-top)) !important;
        padding-bottom: max(0px, env(safe-area-inset-bottom)) !important;
    }
}

/* Otimizações de Tipografia para Mobile */
@media (max-width: 768px) {
    body {
        font-size: 16px !important; /* Previne zoom automático no iOS */
        line-height: 1.6 !important;
        -webkit-text-size-adjust: 100% !important; /* Previne ajuste automático de texto no iOS */
        text-size-adjust: 100% !important;
    }
    
    h1, h2, h3 {
        -webkit-text-size-adjust: 100%;
        text-size-adjust: 100%;
    }
}

/* Otimizações de Input para Mobile - Previne Zoom no iOS */
@media (max-width: 768px) {
    input[type="text"],
    input[type="email"],
    input[type="password"],
    textarea {
        font-size: 16px !important; /* Previne zoom automático no iOS quando focar */
        -webkit-text-size-adjust: 100%;
        text-size-adjust: 100%;
    }
}

/* Otimizações de Performance Mobile */
/* Otimiza scroll - mantido apenas o essencial */
.welcome-message,
.chat-messages,
.sidebar-content {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
}

/* Otimizações Específicas para iOS */
@supports (-webkit-touch-callout: none) {
    body {
        /* iOS específico */
        -webkit-tap-highlight-color: transparent;
    }
    
    input, textarea {
        /* Remove borda azul padrão do iOS */
        -webkit-appearance: none;
        appearance: none;
        border-radius: 0;
        border-radius: inherit;
    }
    
    button, .btn, .quick-btn, .feature-btn {
        /* Remove estilização padrão do iOS */
        -webkit-appearance: none;
        appearance: none;
    }
}

/* Otimizações Específicas para Android */
@supports (-webkit-tap-highlight-color: rgba(0,0,0,0)) {
    body {
        /* Android específico */
        -webkit-tap-highlight-color: rgba(244, 166, 166, 0.2);
    }
}

/* Otimizações de Touch - Tamanhos Mínimos Recomendados (44x44px) */
@media (max-width: 768px) {
    button,
    .btn,
    .quick-btn,
    .feature-btn,
    .sidebar-btn,
    a.button {
        min-width: 44px !important;
        min-height: 44px !important;
        padding: 0.7rem 1rem !important;
    }
    
    /* Ícones em botões devem ter tamanho mínimo */
    .btn i,
    .quick-btn i,
    .feature-btn i {
        min-width: 20px;
        min-height: 20px;
    }
}

/* Otimizações de Landscape Mobile */
@media (max-width: 768px) and (orientation: landscape) {
    .header {
        padding: 0.6rem 1rem !important;
        padding-top: max(0.6rem, calc(0.6rem + env(safe-area-inset-top))) !important;
    }
    
    .input-area {
        padding: 0.5rem 0.4rem !important;
        padding-bottom: max(0.5rem, calc(0.5rem + env(safe-area-inset-bottom))) !important;
    }
    
    #message-input {
        padding: 0.5rem 0.8rem !important;
        font-size: 0.9rem !important;
    }
}

/* Otimizações para Telas Pequenas (< 360px) */
@media (max-width: 360px) {
    .header {
        padding: 0.8rem 0.8rem !important;
        padding-top: max(0.8rem, calc(0.8rem + env(safe-area-inset-top))) !important;
    }
    
    .logo h1 {
        font-size: 1.1rem !important;
    }
    
    .logo .subtitle {
        font-size: 0.65rem !important;
    }
    
    #message-input {
        padding: 0.5rem 0.6rem !important;
        font-size: 0.85rem !important;
    }
    
    .btn, .btn-send {
        width: 40px !important;
        height: 40px !important;
        min-width: 40px !important;
        min-height: 40px !important;
    }
}

/* Previne pull-to-refresh em mobile (exceto na área de mensagens) */
@media (max-width: 768px) {
    body {
        overscroll-behavior-y: contain;
    }
    
    .welcome-message,
    .chat-messages {
        overscroll-behavior-y: auto;
    }
}

/* Otimizações de Scroll Suave */
@media (max-width: 768px) {
    html {
        scroll-behavior: smooth;
    }
    
    .welcome-message,
    .chat-messages,
    .sidebar-content {
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch;
    }
}

/* ===== FOOTER CVV DISCLAIMER ===== */
.cvv-disclaimer-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.95);
    /* backdrop-filter: blur(10px); */ /* Removido para melhor performance - muito pesado */
    border-top: 1px solid #e0e0e0;
    padding: 0.5rem 1rem;
    padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
    text-align: center;
    font-size: 0.75rem;
    color: #666;
    z-index: 997;
    box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05);
    display: none;
}

/* Mobile: Footer CVV na parte inferior, input area acima dele quando ambos estão visíveis */
@media (max-width: 768px) {
    .cvv-disclaimer-footer {
        font-size: 0.7rem;
        padding: 0.4rem 0.8rem;
        padding-bottom: calc(0.4rem + env(safe-area-inset-bottom));
        z-index: 997;
        bottom: 0 !important;
        height: auto;
        min-height: 2.8rem;
    }
    
    .cvv-disclaimer-footer p {
        margin: 0;
        line-height: 1.4;
    }
}

/* Mobile */
@media (max-width: 768px) {
    .notification-toast {
        top: 10px;
        right: 10px;
        left: 10px;
        max-width: none;
        min-width: auto;
        padding: 1.2rem 1.5rem;
    }
    
    .notification-toast .notification-icon {
        font-size: 1.8rem;
    }
    
    .notification-toast .notification-title {
        font-size: 1rem;
    }
    
    .notification-toast .notification-message {
        font-size: 0.9rem;
    }
}

/* Mobile Portrait */
@media (max-width: 479px) {
    .notification-toast {
        top: 10px;
        right: 10px;
        left: 10px;
        padding: 1rem 1.2rem;
        gap: 0.8rem;
    }
    
    .notification-toast .notification-icon {
        font-size: 1.6rem;
    }
    
    .notification-toast .notification-title {
        font-size: 0.95rem;
        margin-bottom: 0.2rem;
    }
    
    .notification-toast .notification-message {
        font-size: 0.85rem;
    }
}

/* ===== SCROLLBAR CUSTOMIZADO - APENAS WELCOME-MESSAGE E CHAT-MESSAGES ===== */
/* Esconde scrollbar de todos os elementos EXCETO welcome-message e chat-messages */
.container::-webkit-scrollbar,
#main-container::-webkit-scrollbar,
.chat-container::-webkit-scrollbar,
.chat-area::-webkit-scrollbar,
.welcome-content::-webkit-scrollbar,
body::-webkit-scrollbar,
html::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
    background: transparent !important;
}

.container,
#main-container,
.chat-container,
.chat-area,
.welcome-content,
body,
html {
    scrollbar-width: none !important; /* Firefox */
    -ms-overflow-style: none !important; /* IE e Edge */
}

/* Apenas welcome-message e chat-messages podem ter scrollbar visível */
.welcome-message::-webkit-scrollbar,
.chat-messages::-webkit-scrollbar {
    width: 8px !important;
    display: block !important;
}

.welcome-message::-webkit-scrollbar-track,
.chat-messages::-webkit-scrollbar-track {
    background: rgba(244, 166, 166, 0.1) !important;
    border-radius: 10px !important;
}

.welcome-message::-webkit-scrollbar-thumb,
.chat-messages::-webkit-scrollbar-thumb {
    background: rgba(255, 143, 163, 0.3) !important;
    border-radius: 10px !important;
}

.welcome-message::-webkit-scrollbar-thumb:hover,
.chat-messages::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 143, 163, 0.5) !important;
}

.welcome-message,
.chat-messages {
    scrollbar-width: thin !important; /* Firefox */
    scrollbar-color: rgba(255, 143, 163, 0.3) rgba(255, 143, 163, 0.1) !important; /* Firefox */
}

/* ===== LAYOUT DE 3 COLUNAS (DESKTOP ≥1024px) ===== */
@media (min-width: 1024px) {
    .welcome-message {
        display: grid !important;
        grid-template-columns: 280px 1fr 280px !important;
        gap: 2rem !important;
        max-width: 100% !important;
        padding: 2rem !important;
        align-items: flex-start !important;
        justify-content: center !important;
        position: relative !important;
    }
    
    .desktop-sidebar {
        position: sticky !important;
        top: 100px !important;
        height: fit-content !important;
        padding: 1rem !important;
    }
    
    .desktop-sidebar-left {
        grid-column: 1 !important;
    }
    
    .welcome-content-wrapper {
        grid-column: 2 !important;
        position: relative !important;
    }
}

/* ========================================
   COMPONENTE DE BOTÃO PADRÃO SOPHIA
   ========================================
   ⚠️ REGRA CRÍTICA: NUNCA use cores cinzas (#555, #333) ou hard-code hex
   ✅ SEMPRE use variáveis CSS --sophia-pink-*
   📐 Tamanho máximo: padding 0.85rem 1.2rem, font-size 0.95rem
   📚 Ver documentação: docs/style-guide-sophia.md
   ======================================== */
.btn-sophia,
button:not([class*="emergency"]):not([class*="close"]):not([class*="login"]):not(.feeling-extra-btn),
.sidebar-btn,
.premium-card-btn,
.sintoma-btn-yes,
.sintoma-btn-no,
.sintoma-acao-btn,
.sintoma-voltar-btn {
    background: var(--sophia-bg-gradient) !important;
    border: 2px solid var(--sophia-pink-medium) !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    color: var(--sophia-text-primary) !important;
    padding: 0.75rem 1.1rem !important; /* ⚠️ MÁXIMO: 0.85rem 1.2rem */
    font-weight: 600 !important;
    font-size: 0.9rem !important; /* ⚠️ MÁXIMO: 0.95rem */
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: var(--sophia-shadow-sm) !important;
    font-family: 'Nunito', 'Poppins', sans-serif !important;
    text-decoration: none !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
    min-height: auto !important; /* ⚠️ CRÍTICO: Nunca use altura fixa */
    height: auto !important; /* ⚠️ CRÍTICO: Nunca use altura fixa */
}

.btn-sophia:hover,
button:not([class*="emergency"]):not([class*="close"]):not([class*="login"]):not(.feeling-extra-btn):hover,
.sidebar-btn:hover,
.premium-card-btn:hover {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    border-color: var(--sophia-pink-primary) !important;
    color: white !important;
    transform: translateY(-2px) !important;
    box-shadow: var(--sophia-shadow-md) !important;
}

.btn-sophia:active,
button:not([class*="emergency"]):not([class*="close"]):not([class*="login"]):not(.feeling-extra-btn):active,
.sidebar-btn:active,
.premium-card-btn:active {
    transform: translateY(0) scale(0.98) !important;
    box-shadow: var(--sophia-shadow-sm) !important;
}

/* ===== ESTILOS BASE PARA DESKTOP - RESOURCE CARDS E PREMIUM CARDS ===== */
/* Garantir que os estilos base do desktop sejam preservados */
@media (min-width: 769px) {
    /* Container Global com Max-Width */
    .welcome-content,
    .resources-grid-section,
    .conteudos-educativos-section {
        max-width: var(--sophia-container-max) !important;
        margin-left: auto !important;
        margin-right: auto !important;
        padding: 0 var(--sophia-spacing-md) !important;
    }
    
    /* Grid de 2-3 colunas para cards no Desktop */
    .resources-grid {
        display: grid !important;
        grid-template-columns: repeat(3, 1fr) !important;
        gap: var(--sophia-spacing-md) !important;
        max-width: 100% !important;
        margin: 0 auto !important;
    }
    
    .desktop-sidebar-right {
        grid-column: 3 !important;
    }
    
    /* Oculta elementos decorativos antigos no desktop */
    .decorative-elements {
        display: none !important;
    }
}

/* Oculta sidebars em telas menores */
@media (max-width: 1023px) {
    .desktop-sidebar {
        display: none !important;
    }
    
    .welcome-message {
        grid-template-columns: 1fr !important;
    }
    
    .welcome-content-wrapper {
        grid-column: 1 !important;
    }
    
    /* Oculta header fixo do chat em mobile */
    .chat-header-fixed {
        display: none !important;
    }
}

@media (min-width: 769px) and (max-width: 1024px) {
    .resources-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

.resource-card {
    background: var(--sophia-bg-gradient) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border: 2px solid var(--sophia-pink-light) !important;
    border-radius: var(--sophia-border-radius-lg) !important;
    box-shadow: var(--sophia-shadow-lg), 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    padding: var(--sophia-spacing-md) var(--sophia-spacing-sm) !important;
    min-height: auto !important;
    height: auto !important;
    transition: all 0.3s ease !important;
}

.resource-card:hover {
    transform: translateY(-4px) !important;
    box-shadow: 0 12px 40px rgba(244, 166, 166, 0.3), 0 6px 16px rgba(0, 0, 0, 0.12) !important;
    border-color: var(--sophia-pink-medium) !important;
}

.premium-card {
    background: rgba(255, 255, 255, 0.45) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(244, 166, 166, 0.35) !important;
    box-shadow: 0 4px 16px rgba(244, 166, 166, 0.1), 0 2px 6px rgba(0, 0, 0, 0.05) !important;
}

.premium-card-btn {
    background: linear-gradient(135deg, rgba(255, 249, 247, 0.95) 0%, rgba(255, 245, 243, 0.9) 100%) !important;
    border: 2px solid rgba(244, 166, 166, 0.4) !important;
    color: #7a4a4a !important;
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.15), 0 2px 6px rgba(0, 0, 0, 0.08) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.premium-card-btn:hover {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    border-color: var(--sophia-pink-primary) !important;
    color: white !important;
    transform: translateY(-2px) !important;
    box-shadow: var(--sophia-shadow-md) !important;
}

.premium-card-btn i {
    color: var(--sophia-pink-primary) !important; /* ⚠️ CRÍTICO: Use variável, não #f4a6a6 */
}

.premium-card-btn:hover i {
    color: white !important;
}

/* ===== CORREÃ‡Ã•ES ESPECÃFICAS PARA BLOCOS NO MOBILE ===== */
@media (max-width: 768px) {
    .resource-card {
        min-width: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        padding: clamp(1.5rem, 5vw, 2rem) clamp(1rem, 4vw, 1.5rem) !important;
        min-height: clamp(160px, 25vw, 200px) !important;
        box-sizing: border-box !important;
        background: linear-gradient(135deg, rgba(255, 252, 250, 0.85) 0%, rgba(255, 247, 243, 0.75) 100%) !important;
        backdrop-filter: blur(24px) !important;
        -webkit-backdrop-filter: blur(24px) !important;
        border: 2px solid rgba(244, 166, 166, 0.2) !important;
        border-radius: 24px !important;
        color: #6a3a3a !important;
    }
    
    .resource-card span {
        width: 100% !important;
        max-width: 100% !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        text-align: center !important;
        box-sizing: border-box !important;
    }
    
    .premium-card {
        min-width: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        background: rgba(255, 255, 255, 0.45) !important;
        backdrop-filter: blur(20px) !important;
        -webkit-backdrop-filter: blur(20px) !important;
        border: 1px solid rgba(244, 166, 166, 0.35) !important;
        box-shadow: 0 4px 16px rgba(244, 166, 166, 0.1), 0 2px 6px rgba(0, 0, 0, 0.05) !important;
    }
    
    .premium-card-title,
    .premium-card-subtitle,
    .premium-card-btn {
        width: 100% !important;
        max-width: 100% !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        box-sizing: border-box !important;
    }
    
    .premium-card-btn {
        background: linear-gradient(135deg, rgba(255, 249, 247, 0.95) 0%, rgba(255, 245, 243, 0.9) 100%) !important;
        border: 2px solid rgba(244, 166, 166, 0.4) !important;
        color: #7a4a4a !important;
        box-shadow: 0 4px 12px rgba(244, 166, 166, 0.15), 0 2px 6px rgba(0, 0, 0, 0.08) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    
    .premium-card-btn:hover {
        background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
        border-color: var(--sophia-pink-primary) !important;
        color: white !important;
        transform: translateY(-2px) !important;
        box-shadow: var(--sophia-shadow-md) !important;
    }
    
    .premium-card-btn i {
        color: var(--sophia-pink-primary) !important; /* ⚠️ CRÍTICO: Use variável, não #f4a6a6 */
    }
    
    .premium-card-btn:hover i {
        color: white !important;
    }
    
    .resources-grid,
    .conteudos-educativos-grid {
        grid-template-columns: 1fr !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
    }
    
    /* Reduzir altura dos cards no mobile */
    .resource-card {
        padding: 1.25rem 1rem !important;
        min-height: auto !important;
        height: auto !important;
    }
}

/* ===== REESTRUTURAÇÃO: DOAÇÃO DE LEITE (DESKTOP) ===== */
@media (min-width: 769px) {
    .conteudos-educativos-section {
        max-width: 1200px !important;
        margin: 4rem auto 3rem !important;
        padding: 0 2rem !important;
    }
    
    .conteudos-educativos-grid {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 2rem !important;
        max-width: 100% !important;
    }
    
    /* Agrupar elementos do card de doação de leite */
    .premium-card {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        text-align: center !important;
    }
    
    .premium-card-image {
        width: 100% !important;
        margin-bottom: 1rem !important;
        max-height: 200px !important;
        overflow: hidden !important;
    }
    
    .premium-card-image img {
        width: 100% !important;
        height: 100% !important;
        object-fit: contain !important;
        max-width: 100% !important;
        max-height: 150px !important; /* ⚠️ CRÍTICO: Máximo 150px (não 200px) */
    }
}

/* ===== IMAGENS RESPONSIVAS ===== */
.premium-card-image img,
.resource-card img {
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
    display: block !important;
}

.premium-card-image {
    background: var(--sophia-bg-white) !important;
    border-radius: var(--sophia-border-radius-lg) !important;
    overflow: hidden !important;
    padding: var(--sophia-spacing-xs) !important;
}

@media (min-width: 769px) {
    .premium-card-image img {
        max-height: 150px !important; /* Reduzido de 200px */
        width: auto !important;
        margin: 0 auto !important;
        display: block !important;
    }
}

@media (max-width: 768px) {
    .premium-card-image img {
        max-height: 120px !important; /* Reduzido de 150px */
        width: auto !important;
        margin: 0 auto !important;
        display: block !important;
    }
}

/* ===== REESTRUTURAÇÃO: MODAL DE EMERGÊNCIA ===== */
.emergency-number-card {
    display: flex !important;
    align-items: flex-start !important;
    gap: 1rem !important;
    padding: 1.25rem !important;
    background: rgba(255, 255, 255, 0.9) !important;
    border: 2px solid rgba(244, 166, 166, 0.3) !important;
    border-radius: 16px !important;
    margin-bottom: 1rem !important;
}

.emergency-number-info {
    flex: 1 !important;
}

.emergency-number-info h5 {
    font-weight: 700 !important;
    font-size: 1.1rem !important;
    color: #7a4a4a !important;
    margin-bottom: 0.5rem !important;
}

.emergency-number-info p {
    font-size: 0.9rem !important;
    color: #8b6a5a !important;
    margin-bottom: 0.25rem !important;
    line-height: 1.5 !important;
}

.emergency-number-info small {
    font-size: 0.85rem !important;
    color: #9a7a6a !important;
}

.emergency-call-btn {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
    padding: 0.75rem 1.25rem !important;
    background: linear-gradient(135deg, #f4a6a6 0%, #f8b8c8 100%) !important;
    border: 2px solid #f4a6a6 !important;
    border-radius: 12px !important;
    color: white !important;
    font-weight: 600 !important;
    text-decoration: none !important;
    transition: all 0.3s ease !important;
    flex-shrink: 0 !important;
}

.emergency-call-btn:hover {
    background: linear-gradient(135deg, #e89595 0%, #e8a8b8 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.3) !important;
}

.emergency-call-btn i {
    font-size: 1.1rem !important;
    color: white !important;
}

/* Footer do modal de emergência */
.emergency-actions-footer {
    margin-top: 2rem !important;
    padding-top: 1.5rem !important;
    border-top: 2px solid rgba(244, 166, 166, 0.2) !important;
}

/* Botão "Encontrar Hospitais" com destaque visual */
.btn-find-hospitals {
    width: 100% !important;
    padding: 1.25rem 1.5rem !important;
    background: linear-gradient(135deg, #f4a6a6 0%, #f8b8c8 100%) !important;
    border: none !important;
    border-radius: 16px !important;
    color: white !important;
    font-weight: 700 !important;
    font-size: 1.1rem !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 4px 16px rgba(244, 166, 166, 0.3) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.75rem !important;
}

.btn-find-hospitals:hover {
    background: linear-gradient(135deg, #e89595 0%, #e8a8b8 100%) !important;
    transform: translateY(-3px) !important;
    box-shadow: 0 6px 20px rgba(244, 166, 166, 0.4) !important;
}

.btn-find-hospitals i {
    font-size: 1.3rem !important;
    color: white !important;
}

/* Alinhar ícones de telefone à esquerda */
.emergency-number-card .emergency-call-btn {
    order: -1 !important;
    margin-right: auto !important;
}

@media (max-width: 768px) {
    .emergency-number-card {
        flex-direction: column !important;
        align-items: stretch !important;
    }
    
    .emergency-call-btn {
        width: 100% !important;
        order: 2 !important;
    }
}

/* ===== PADRONIZAÇÃO DE CORES E BORDAS ===== */
/* Remover bordas cinzas e padronizar com rosa */
button:not([class*="emergency"]):not([class*="close"]):not([class*="login"]),
.btn:not([class*="emergency"]):not([class*="close"]):not([class*="login"]),
.sidebar-btn,
.premium-card-btn,
.feature-btn {
    border-color: var(--sophia-pink-medium) !important;
    background: var(--sophia-bg-gradient) !important;
}

/* Garantir que todos os botões usem a paleta rosa */
.btn-primary,
.btn-login-main {
    border-color: var(--sophia-pink-medium) !important;
}

/* Remover estilos padrão de botões do sistema */
button {
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
}

/* Espaçamento e Hierarquia Visual */
.resources-grid-section,
.conteudos-educativos-section {
    margin: var(--sophia-spacing-xl) auto var(--sophia-spacing-lg) !important;
    padding: 0 var(--sophia-spacing-md) !important;
}

.resources-grid-section h2,
.conteudos-educativos-section h2 {
    margin-bottom: var(--sophia-spacing-md) !important;
    color: var(--sophia-text-primary) !important;
    font-weight: 700 !important;
    font-size: 1.75rem !important;
}

/* Regra de Proximidade - Agrupar conteúdo relacionado */
.conteudos-educativos-section {
    margin-top: var(--sophia-spacing-xl) !important;
}

.feeling-widget {
    margin: var(--sophia-spacing-lg) auto !important;
    padding: var(--sophia-spacing-md) !important;
}

.feeling-buttons-grid {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: var(--sophia-spacing-sm) !important;
    justify-content: center !important;
    margin: var(--sophia-spacing-md) 0 !important;
}

/* ========================================
   CARDS DE HOSPITAIS - DESIGN SYSTEM
   ======================================== */

/* Container de lista de hospitais - Grid System */
.hospitals-list {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--sophia-spacing-md) !important;
    width: 100% !important;
    margin: 0 !important;
    padding: var(--sophia-spacing-md) !important;
    box-sizing: border-box !important;
}

@media (max-width: 768px) {
    .hospitals-list {
        padding: var(--sophia-spacing-sm) !important;
        gap: 1rem !important;
    }
}

/* Card de Hospital - Sem alturas fixas */
.hospital-card {
    background: var(--sophia-bg-gradient) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border: 2px solid var(--sophia-pink-light) !important;
    border-radius: var(--sophia-border-radius-md) !important;
    padding: 1.25rem !important;
    box-shadow: var(--sophia-shadow-md) !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
    height: auto !important;
    min-height: auto !important;
    width: 100% !important;
    box-sizing: border-box !important;
    transition: all 0.3s ease !important;
    margin: 0 !important;
    flex-shrink: 0 !important;
}

.hospital-card:hover {
    transform: translateY(-4px) !important;
    box-shadow: var(--sophia-shadow-lg) !important;
    border-color: var(--sophia-pink-medium) !important;
}

/* Header do Card - Nome e Distância (badge não bloqueia clique/overlay) */
.hospital-header {
    display: flex !important;
    flex-direction: column !important;
    gap: 4px !important;
    margin-bottom: var(--sophia-spacing-xs) !important;
}

.hospital-header-top {
    display: flex !important;
    align-items: center !important;
    width: 100% !important;
}

.hospital-header-bottom {
    display: flex !important;
    align-items: center !important;
    gap: 6px !important;
    flex-wrap: wrap !important;
}

.hospital-header-tags {
    display: flex !important;
    align-items: center !important;
    gap: 6px !important;
    flex-wrap: wrap !important;
}

/* Badge não captura eventos; evita overlay travando clique no card */
.hospital-badge,
.hospital-tag-public,
.hospital-tag-private,
.hospital-tag-philanthropic,
.hospital-tag-sus-yes,
.hospital-tag-sus-no,
[data-badge="esfera"],
[data-badge="sus"] {
    pointer-events: none !important;
    z-index: 0 !important;
}

.hospital-card,
.hospital-card * {
    z-index: 1;
}

/* === Nearby (geolocalização) – estilos leves === */
.nearby-section {
    margin: 8px 0 16px 0;
}
.nearby-title {
    margin: 0 0 8px 0;
    font-size: 15px;
    color: #6b4a3f;
}
.nearby-list {
    display: grid;
    grid-template-columns: 1fr;
    gap: 8px;
}
@media (min-width: 640px) {
    .nearby-list { grid-template-columns: 1fr 1fr; }
}
.hospital-badge--distance {
    background: #e8f3ff !important;
    color: #2262c6 !important;
}
.nearby-section .hospital-address {
    font-size: 12px;
    color: #555;
    margin: 6px 0 2px 0;
}

.hospital-name {
    color: var(--sophia-text-primary) !important;
    font-weight: 700 !important;
    font-size: 1.1rem !important;
    margin: 0 !important;
    margin-bottom: 0.25rem !important;
    line-height: 1.3 !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    flex: 1 !important;
}

.hospital-distance {
    color: var(--sophia-text-secondary) !important;
    font-size: 0.9rem !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
    flex-shrink: 0 !important;
}

/* Tags de Público/Privado/Filantrópico + SUS (hotfix: cores finais do payload) */
.hospital-tag-public,
.hospital-tag-private,
.hospital-tag-philanthropic {
    display: inline-block !important;
    padding: 4px 10px !important;
    border-radius: 6px !important;
    font: 12px system-ui !important;
    font-weight: 600 !important;
    margin: 0 !important;
    white-space: nowrap !important;
}

.hospital-tag-public {
    background: #059669 !important;
    color: #fff !important;
}

.hospital-tag-philanthropic {
    background: #3b82f6 !important;
    color: #fff !important;
}

.hospital-tag-private {
    background: #eab308 !important;
    color: #1f2937 !important;
}

.hospital-tag-sus-yes {
    background: #10b981 !important;
    color: #fff !important;
    padding: 2px 8px !important;
    border-radius: 6px !important;
    font: 11px system-ui !important;
    margin-left: 6px !important;
    display: inline-block !important;
}

/* Garantia extra: esconde badges de esfera/SUS duplicados fora do header.
   !important: override de inline/JS que possa injetar badges na linha do selo (rede de segurança).
   Impressão: header (.hospital-header-tags) permanece visível; apenas .hospital-badges/.hospital-selo-row ficam sem duplicata.
   Responsivo: não afeta layout; confira em @media print se precisar forçar visibilidade do header. */
.hospital-card .hospital-badges .hospital-tag-public,
.hospital-card .hospital-badges .hospital-tag-private,
.hospital-card .hospital-badges .hospital-tag-philanthropic,
.hospital-card .hospital-badges .hospital-tag-sus-yes,
.hospital-card .hospital-badges .hospital-tag-sus-no {
    display: none !important;
}

/* SUS só no header — nunca na linha do selo */
.hospital-card .hospital-selo-row .hospital-tag-sus-yes,
.hospital-card .hospital-selo-row .hospital-tag-sus-no {
    display: none !important;
}

.hospital-card .hospital-selo-row .info-pill-sus {
    display: none !important;
}

.hospital-tag-sus-no {
    background: #9ca3af !important;
    color: #111827 !important;
    padding: 2px 8px !important;
    border-radius: 6px !important;
    font: 11px system-ui !important;
    margin-left: 6px !important;
    display: inline-block !important;
}

/* Ocultar distância e filtros redundantes (garantia via CSS) */
.card-distance,
.search-actions,
.filters-inline {
    display: none !important;
}

/* Badges - Destaque Visual */
.hospital-badges {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: var(--sophia-spacing-xs) !important;
    margin-bottom: var(--sophia-spacing-sm) !important;
}

/* Badge SUS/Gratuito - PRIORIDADE MÁXIMA */
.hospital-badge-sus {
    background: linear-gradient(135deg, #28a745 0%, #218838 100%) !important;
    color: white !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.85rem !important;
    font-weight: 700 !important;
    white-space: nowrap !important;
    box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3) !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.4rem !important;
}

.hospital-badge-sus::before {
    content: '✓' !important;
    font-size: 1rem !important;
    font-weight: 900 !important;
}

/* Badge Maternidade - Ícone Rosa Suave */
.hospital-badge-maternity {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    color: white !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.85rem !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
    box-shadow: var(--sophia-shadow-sm) !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.4rem !important;
}

.hospital-badge-maternity i {
    font-size: 0.9rem !important;
    color: white !important;
}

/* Badge Pronto Socorro */
.hospital-badge-emergency {
    background: linear-gradient(135deg, var(--sophia-emergency) 0%, #c82333 100%) !important;
    color: white !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.85rem !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
    box-shadow: 0 2px 8px rgba(230, 57, 70, 0.3) !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.4rem !important;
}

.hospital-badge-emergency i {
    font-size: 0.9rem !important;
    color: white !important;
}

/* Badge Não atende SUS - Cinza */
.hospital-badge-sus-no {
    background: #6b7280 !important;
    color: white !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.85rem !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.4rem !important;
}

.hospital-badge-sus-no i {
    font-size: 0.9rem !important;
    color: white !important;
}

/* Badge Filantrópico - Azul */
.hospital-badge-philanthropic {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%) !important;
    color: white !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.85rem !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.4rem !important;
}

.hospital-badge-philanthropic i {
    font-size: 0.9rem !important;
    color: white !important;
}

/* Badge Público - Verde (administração pública) */
.hospital-badge-public {
    background: linear-gradient(135deg, #059669 0%, #047857 100%) !important;
    color: white !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.85rem !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.4rem !important;
}

.hospital-badge-public i {
    font-size: 0.9rem !important;
    color: white !important;
}

/* Badge Privado - Amarelo */
.hospital-badge-private {
    background: #eab308 !important;
    color: #1f2937 !important;
    padding: 0.5rem 0.75rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.85rem !important;
    font-weight: 600 !important;
    white-space: nowrap !important;
    display: inline-flex !important;
    align-items: center !important;
    gap: 0.4rem !important;
}

.hospital-badge-private i {
    font-size: 0.9rem !important;
    color: #1f2937 !important;
}

/* Informações do Hospital - Hierarquia Visual */
.hospital-info {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--sophia-spacing-xs) !important;
    flex: 1 !important;
    margin-bottom: var(--sophia-spacing-sm) !important;
}

.hospital-info p {
    margin: 0 !important;
    display: flex !important;
    align-items: flex-start !important;
    gap: 0.5rem !important;
    color: var(--sophia-text-secondary) !important;
    font-size: 0.9rem !important;
    line-height: 1.5 !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
}

.hospital-info i {
    color: var(--sophia-pink-primary) !important;
    font-size: 0.9rem !important;
    margin-top: 0.2rem !important;
    flex-shrink: 0 !important;
}

.hospital-info span {
    flex: 1 !important;
    min-width: 0 !important;
}

/* Links de Telefone e Website */
.hospital-phone-link,
.hospital-website-link {
    color: var(--sophia-text-primary) !important;
    text-decoration: none !important;
    font-weight: 600 !important;
    transition: color 0.2s ease !important;
    word-break: break-all !important;
}

.hospital-phone-link:hover,
.hospital-website-link:hover {
    color: var(--sophia-pink-primary) !important;
    text-decoration: underline !important;
}

/* Ações do Card - Botões Alinhados na Base */
.hospital-actions {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 0.5rem !important;
    margin-top: auto !important;
    padding-top: 0.75rem !important;
    border-top: 1px solid var(--sophia-pink-light) !important;
}

/* Botão Sophia Compacto */
.btn-sophia-compact {
    padding: 0.6rem 1rem !important;
    font-size: 0.85rem !important;
    flex: 1 !important;
    min-width: 100px !important;
    text-align: center !important;
}

.hospital-call-btn {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    color: white !important;
    border-color: var(--sophia-pink-primary) !important;
}

.hospital-call-btn:hover {
    background: linear-gradient(135deg, var(--sophia-pink-dark) 0%, var(--sophia-pink-primary) 100%) !important;
}

/* Botão Ligar com Destaque (Primário) */
.hospital-call-btn-primary {
    background: var(--sophia-emergency) !important;
    color: white !important;
    font-weight: 700 !important;
    border: 2px solid var(--sophia-emergency) !important;
    box-shadow: 0 4px 12px rgba(230, 57, 70, 0.3) !important;
    transform: scale(1.02) !important;
    flex: 1 !important;
    min-width: 120px !important;
}

.hospital-call-btn-primary:hover {
    background: #c1121f !important;
    border-color: #c1121f !important;
    box-shadow: 0 6px 16px rgba(230, 57, 70, 0.4) !important;
    transform: scale(1.05) !important;
}

.hospital-call-btn-primary:active {
    transform: scale(0.98) !important;
}

/* Aviso de Segurança */
.hospital-safety-warning {
    background: #fff3cd !important;
    border-left: 3px solid var(--sophia-warning) !important;
    padding: 0.75rem !important;
    margin-bottom: 0.75rem !important;
    border-radius: 6px !important;
    animation: pulse-warning 2s ease-in-out infinite !important;
}

@keyframes pulse-warning {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(255, 183, 3, 0.4);
    }
    50% {
        box-shadow: 0 0 0 4px rgba(255, 183, 3, 0);
    }
}

/* Botão de Copiar Endereço */
.hospital-copy-btn {
    background: transparent !important;
    border: none !important;
    color: var(--sophia-pink-primary) !important;
    cursor: pointer !important;
    padding: 0.25rem 0.5rem !important;
    margin-left: 0.5rem !important;
    border-radius: 4px !important;
    transition: all 0.2s ease !important;
    font-size: 0.85rem !important;
    opacity: 0.7 !important;
}

.hospital-copy-btn:hover {
    opacity: 1 !important;
    background: var(--sophia-pink-light) !important;
    transform: scale(1.1) !important;
}

.hospital-copy-btn.copied {
    color: #28a745 !important;
    opacity: 1 !important;
}

.hospital-address {
    position: relative !important;
    display: flex !important;
    align-items: flex-start !important;
    gap: 0.5rem !important;
}

.hospital-address span {
    flex: 1 !important;
    min-width: 0 !important;
}

/* Feedback Visual de Clique */
.hospital-call-btn.clicked,
.hospital-phone-link.clicked {
    transform: scale(0.95) !important;
    box-shadow: 0 0 0 4px var(--sophia-pink-light) !important;
    background: linear-gradient(135deg, var(--sophia-pink-dark) 0%, var(--sophia-pink-primary) 100%) !important;
}

/* Estado Vazio - Sugestão SAMU */
.hospital-empty-state {
    text-align: center !important;
    padding: var(--sophia-spacing-xl) var(--sophia-spacing-md) !important;
    background: var(--sophia-bg-gradient) !important;
    border: 2px solid var(--sophia-pink-light) !important;
    border-radius: var(--sophia-border-radius-md) !important;
    max-width: 500px !important;
    margin: 0 auto !important;
}

.hospital-empty-icon {
    font-size: 3rem !important;
    color: var(--sophia-pink-primary) !important;
    margin-bottom: var(--sophia-spacing-md) !important;
}

.hospital-empty-title {
    color: var(--sophia-text-primary) !important;
    font-weight: 700 !important;
    font-size: 1.3rem !important;
    margin-bottom: var(--sophia-spacing-sm) !important;
}

.hospital-empty-message {
    color: var(--sophia-text-secondary) !important;
    font-size: 1rem !important;
    margin-bottom: var(--sophia-spacing-lg) !important;
    line-height: 1.6 !important;
}

.hospital-empty-actions {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--sophia-spacing-sm) !important;
    align-items: center !important;
}

.hospital-emergency-btn {
    background: linear-gradient(135deg, var(--sophia-emergency) 0%, #c82333 100%) !important;
    color: white !important;
    border-color: var(--sophia-emergency) !important;
    font-size: 1.1rem !important;
    padding: 1rem 1.5rem !important;
    font-weight: 700 !important;
}

.hospital-emergency-btn:hover {
    background: linear-gradient(135deg, #c82333 0%, #a71e2a 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(230, 57, 70, 0.4) !important;
}

.hospital-retry-btn {
    background: transparent !important;
    border: 2px solid var(--sophia-pink-medium) !important;
    color: var(--sophia-text-primary) !important;
}

.hospital-retry-btn:hover {
    background: var(--sophia-bg-gradient) !important;
}

/* Responsividade - Endereços Longos */
@media (max-width: 768px) {
    .hospital-card {
        padding: var(--sophia-spacing-sm) !important;
    }
    
    .hospital-header {
        gap: 0.4rem !important;
    }
    
    .hospital-header-bottom {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 0.5rem !important;
    }
    
    .hospital-name {
        font-size: 1.1rem !important;
        margin-bottom: 0.3rem !important;
    }
    
    .hospital-info p {
        font-size: 0.85rem !important;
    }
    
    .hospital-actions {
        flex-direction: column !important;
    }
    
    .btn-sophia-compact {
        width: 100% !important;
        min-width: 100% !important;
    }
    
    .hospital-empty-state {
        padding: var(--sophia-spacing-lg) var(--sophia-spacing-sm) !important;
    }
}

/* Refinamento Tablet - Botões Maiores para Toque */
@media (min-width: 769px) and (max-width: 1024px) {
    .btn-sophia-compact {
        padding: 0.75rem 1.2rem !important;
        font-size: 0.9rem !important;
        min-width: 120px !important;
    }
}

/* Suporte Dark Mode */
@media (prefers-color-scheme: dark) {
    :root {
        /* MANTÉM BRANCO MESMO NO DARK MODE - NÃO QUEREMOS CINZA */
        --sophia-bg-white: rgba(255, 255, 255, 0.95);
        --sophia-bg-light: rgba(255, 252, 250, 0.85);
        --sophia-bg-gradient: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 249, 247, 0.8) 100%);
        --sophia-text-primary: #C44569; /* ROSA ESCURO, NÃO CINZA */
        --sophia-text-secondary: #8B7A8F;
        --sophia-text-light: #A89BA5;
    }
    
    .hospital-card {
        background: var(--sophia-bg-gradient) !important;
        border-color: rgba(244, 166, 166, 0.4) !important;
    }
    
    .hospital-name {
        color: var(--sophia-text-primary) !important;
    }
    
    .hospital-info p {
        color: var(--sophia-text-secondary) !important;
    }
    
    .hospital-phone-link,
    .hospital-website-link {
        color: var(--sophia-text-primary) !important;
    }
    
    .hospital-empty-state {
        background: var(--sophia-bg-gradient) !important;
        border-color: rgba(244, 166, 166, 0.4) !important;
    }
    
    .hospital-empty-title {
        color: var(--sophia-text-primary) !important;
    }
    
    .hospital-empty-message {
        color: var(--sophia-text-secondary) !important;
    }
}

/* Overflow de Texto - Garantir que badges não sejam atropelados */
.hospital-header {
    min-height: auto !important;
}

.hospital-header-top {
    width: 100% !important;
}

.hospital-name {
    max-width: 100% !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    line-clamp: 2 !important; /* Compatibilidade padrão */
    -webkit-box-orient: vertical !important;
}

.hospital-badges {
    margin-top: var(--sophia-spacing-xs) !important;
    flex-wrap: wrap !important;
    gap: var(--sophia-spacing-xs) !important;
}

/* Performance: Otimização de renderização */
.hospitals-list {
    contain: layout style paint !important;
}

.hospital-card {
    contain: layout style !important;
    will-change: transform !important;
}

/* ========================================
   MÓDULO DE TRIAGEM DE SINTOMAS
   ======================================== */

.sintomas-triagem-container {
    max-width: var(--sophia-container-max) !important;
    margin: 0 auto !important;
    padding: var(--sophia-spacing-md) !important;
}

.sintomas-intro {
    color: var(--sophia-text-secondary) !important;
    font-size: 1rem !important;
    line-height: 1.6 !important;
    margin-bottom: var(--sophia-spacing-lg) !important;
    text-align: center !important;
}

.sintomas-section {
    margin-bottom: var(--sophia-spacing-xl) !important;
}

.sintomas-section-title {
    font-size: 1.3rem !important;
    font-weight: 700 !important;
    margin-bottom: var(--sophia-spacing-md) !important;
    display: flex !important;
    align-items: center !important;
    gap: var(--sophia-spacing-xs) !important;
}

.sintomas-section-title i {
    font-size: 1.4rem !important;
}

.sintomas-section-title.sintomas-critico {
    color: var(--sophia-emergency) !important;
}

.sintomas-section-title.sintomas-medio {
    color: var(--sophia-warning) !important;
}

.sintomas-section-title.sintomas-baixo {
    color: var(--sophia-text-primary) !important;
}

.sintomas-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
    gap: var(--sophia-spacing-md) !important;
}

@media (max-width: 768px) {
    .sintomas-grid {
        grid-template-columns: 1fr !important;
    }
}

/* Card de Sintoma */
.sintoma-card {
    background: var(--sophia-bg-gradient) !important;
    border: 2px solid var(--sophia-pink-light) !important;
    border-radius: var(--sophia-border-radius-md) !important;
    padding: var(--sophia-spacing-md) !important;
    box-shadow: var(--sophia-shadow-sm) !important;
    transition: all 0.3s ease !important;
    height: auto !important;
    min-height: auto !important;
}

.sintoma-card:hover {
    transform: translateY(-2px) !important;
    box-shadow: var(--sophia-shadow-md) !important;
    border-color: var(--sophia-pink-medium) !important;
}

.sintoma-card.sintoma-critico {
    border-color: var(--sophia-emergency) !important;
    background: linear-gradient(135deg, rgba(230, 57, 70, 0.05) 0%, rgba(255, 255, 255, 0.8) 100%) !important;
}

.sintoma-card.sintoma-medio {
    border-color: var(--sophia-warning) !important;
    background: linear-gradient(135deg, var(--sophia-warning-light) 0%, rgba(255, 255, 255, 0.8) 100%) !important;
}

.sintoma-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: flex-start !important;
    gap: var(--sophia-spacing-xs) !important;
    margin-bottom: var(--sophia-spacing-sm) !important;
}

.sintoma-titulo {
    color: var(--sophia-text-primary) !important;
    font-weight: 700 !important;
    font-size: 1.1rem !important;
    margin: 0 !important;
    flex: 1 !important;
    line-height: 1.3 !important;
}

.sintoma-badge {
    padding: 0.4rem 0.7rem !important;
    border-radius: var(--sophia-border-radius-sm) !important;
    font-size: 0.75rem !important;
    font-weight: 700 !important;
    white-space: nowrap !important;
    flex-shrink: 0 !important;
}

.sintoma-badge-critico {
    background: linear-gradient(135deg, var(--sophia-emergency) 0%, #c82333 100%) !important;
    color: white !important;
    animation: pulse-urgente 2s ease-in-out infinite !important;
    will-change: transform !important;
}

.sintoma-badge-medio {
    background: linear-gradient(135deg, var(--sophia-warning) 0%, var(--sophia-warning-dark) 100%) !important;
    color: white !important;
}

.sintoma-badge-baixo {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    color: white !important;
}

@keyframes pulse-urgente {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 2px 8px rgba(230, 57, 70, 0.3);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(230, 57, 70, 0.5);
    }
}

.sintoma-pergunta {
    color: var(--sophia-text-secondary) !important;
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
    margin-bottom: var(--sophia-spacing-md) !important;
}

.sintoma-actions {
    display: flex !important;
    gap: var(--sophia-spacing-sm) !important;
    margin-top: var(--sophia-spacing-md) !important;
}

/* Sintoma buttons já estão definidos no .btn-sophia acima - apenas override específico */
.sintoma-btn-yes {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    color: white !important;
    border-color: var(--sophia-pink-primary) !important;
}

.sintoma-btn-yes:hover {
    background: linear-gradient(135deg, var(--sophia-pink-dark) 0%, var(--sophia-pink-primary) 100%) !important;
    color: white !important;
}

.sintoma-respondido {
    opacity: 0.7 !important;
}

.sintoma-feedback-positivo {
    color: #28a745 !important;
    font-weight: 600 !important;
    text-align: center !important;
    padding: var(--sophia-spacing-sm) !important;
    margin: 0 !important;
}

/* Resultado da Triagem */
.sintoma-resultado {
    text-align: center !important;
    padding: var(--sophia-spacing-xl) var(--sophia-spacing-md) !important;
    background: var(--sophia-bg-gradient) !important;
    border-radius: var(--sophia-border-radius-md) !important;
    max-width: 600px !important;
    margin: 0 auto !important;
}

.sintoma-resultado-critico {
    border: 3px solid var(--sophia-emergency) !important;
    background: linear-gradient(135deg, rgba(230, 57, 70, 0.1) 0%, rgba(255, 255, 255, 0.9) 100%) !important;
}

.sintoma-resultado-medio {
    border: 3px solid var(--sophia-warning) !important;
    background: linear-gradient(135deg, var(--sophia-warning-light) 0%, rgba(255, 255, 255, 0.9) 100%) !important;
}

.sintoma-resultado-baixo {
    border: 2px solid var(--sophia-pink-medium) !important;
}

.sintoma-resultado-icon {
    font-size: 3rem !important; /* Reduzido de 4rem */
    margin-bottom: var(--sophia-spacing-md) !important;
}

.sintoma-resultado-critico .sintoma-resultado-icon {
    color: var(--sophia-emergency) !important;
    animation: pulse-urgente 2s ease-in-out infinite !important;
}

.sintoma-resultado-medio .sintoma-resultado-icon {
    color: var(--sophia-warning) !important;
}

.sintoma-resultado-baixo .sintoma-resultado-icon {
    color: var(--sophia-pink-primary) !important;
}

.sintoma-resultado-titulo {
    color: var(--sophia-text-primary) !important;
    font-weight: 600 !important; /* Reduzido de 700 */
    font-size: 1.3rem !important; /* Reduzido de 1.5rem */
    margin-bottom: var(--sophia-spacing-md) !important;
}

.sintoma-resultado-descricao {
    color: var(--sophia-text-secondary) !important;
    font-size: 1rem !important;
    line-height: 1.6 !important;
    margin-bottom: var(--sophia-spacing-lg) !important;
}

.sintoma-resultado-acoes {
    display: flex !important;
    flex-direction: column !important;
    gap: var(--sophia-spacing-sm) !important;
    margin-bottom: var(--sophia-spacing-md) !important;
}

.sintoma-acao-btn {
    width: 100% !important;
    padding: 0.85rem 1.2rem !important; /* Reduzido */
    font-size: 0.95rem !important; /* Reduzido */
    font-weight: 600 !important; /* Reduzido de 700 */
    min-height: auto !important;
    height: auto !important;
}

.sintoma-acao-hospital {
    background: linear-gradient(135deg, var(--sophia-emergency) 0%, #c82333 100%) !important;
    color: white !important;
    border-color: var(--sophia-emergency) !important;
}

.sintoma-acao-hospital:hover {
    background: linear-gradient(135deg, #c82333 0%, #a71e2a 100%) !important;
    transform: translateY(-3px) !important;
    box-shadow: 0 6px 20px rgba(230, 57, 70, 0.4) !important;
}

.sintoma-acao-telefone {
    background: linear-gradient(135deg, var(--sophia-pink-primary) 0%, var(--sophia-pink-secondary) 100%) !important;
    color: white !important;
    border-color: var(--sophia-pink-primary) !important;
    text-decoration: none !important;
}

.sintoma-voltar-btn {
    background: transparent !important;
    border: 2px solid var(--sophia-pink-medium) !important;
    color: var(--sophia-text-primary) !important;
    margin-top: var(--sophia-spacing-md) !important;
}

/* Dark Mode para Sintomas */
@media (prefers-color-scheme: dark) {
    .sintoma-card {
        background: var(--sophia-bg-gradient) !important;
    }
    
    .sintoma-resultado {
        background: var(--sophia-bg-gradient) !important;
    }
}

/* Mobile: Título sempre visível e botões proporcionais */
@media (max-width: 768px) {
    .sintoma-card {
        position: relative !important; /* Remove sticky que causa problemas */
        background: var(--sophia-bg-white) !important;
        margin-bottom: var(--sophia-spacing-sm) !important;
        padding: var(--sophia-spacing-sm) !important; /* Reduzido */
    }
    
    .sintoma-titulo {
        font-size: 0.95rem !important; /* Reduzido */
        line-height: 1.3 !important;
    }
    
    .sintoma-pergunta {
        font-size: 0.85rem !important; /* Reduzido */
    }
    
    .sintoma-actions {
        flex-direction: row !important; /* Mantém lado a lado */
        gap: var(--sophia-spacing-xs) !important;
    }
    
    .sintoma-btn-yes,
    .sintoma-btn-no {
        flex: 1 !important;
        padding: 0.65rem 0.8rem !important; /* Reduzido */
        font-size: 0.8rem !important; /* Reduzido */
        min-height: auto !important;
    }
    
    .sintoma-resultado {
        padding: var(--sophia-spacing-md) var(--sophia-spacing-sm) !important; /* Reduzido */
    }
    
    .sintoma-resultado-icon {
        font-size: 2.5rem !important; /* Reduzido */
    }
    
    .sintoma-resultado-titulo {
        font-size: 1.1rem !important; /* Reduzido */
    }
    
    .sintoma-acao-btn {
        padding: 0.75rem 1rem !important; /* Reduzido */
        font-size: 0.85rem !important; /* Reduzido */
    }
}

/* ========================================
   MOBILE NAVIGATION - BOTTOM NAV BAR
   ======================================== */

/* Bottom Navigation Bar (Mobile Only) */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 64px; /* Altura padrão iOS/Android */
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    border-top: 1px solid rgba(255, 143, 163, 0.2);
    box-shadow: 0 -2px 12px rgba(0, 0, 0, 0.08);
    display: none; /* Oculto por padrão (apenas mobile) */
    z-index: 9999; /* Acima de tudo (CVV footer é 997) */
    padding: 0;
    margin: 0;
    padding-bottom: env(safe-area-inset-bottom); /* Suporte para iPhone X+ */
}

@media (max-width: 1023px) {
    .bottom-nav {
        display: flex !important;
    }
    
    /* Adiciona padding-bottom no conteúdo para não ficar escondido pela bottom nav */
    .chat-area,
    .welcome-message,
    #chat-messages,
    #vaccination-timeline-container,
    #mobile-dicas-container {
        padding-bottom: calc(80px + env(safe-area-inset-bottom)) !important; /* 64px nav + 16px margem + safe area */
    }
    
    /* Ajusta footer CVV para ficar acima da bottom nav se necessário */
    .cvv-disclaimer-footer {
        bottom: 64px !important; /* Fica acima da bottom nav */
        z-index: 9998; /* Abaixo da bottom nav */
    }
}

.bottom-nav-container {
    display: flex;
    justify-content: space-around;
    align-items: center;
    height: 100%;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    padding: 0 1rem;
}

.bottom-nav-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.25rem;
    padding: 0.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    background: transparent;
    color: var(--text-warm-medium, #999);
    font-size: 0.75rem;
    font-weight: 500;
    min-height: 44px; /* Tamanho mínimo de toque */
    -webkit-tap-highlight-color: transparent;
}

.bottom-nav-item:active {
    transform: scale(0.95);
}

.bottom-nav-item.active {
    color: var(--color-primary-warm, #ff8fa3);
}

.bottom-nav-item.active .bottom-nav-icon {
    transform: scale(1.1);
}

.bottom-nav-icon {
    font-size: 1.5rem;
    transition: all 0.3s ease;
    display: block;
}

.bottom-nav-label {
    font-size: 0.7rem;
    font-weight: 600;
    margin-top: 0.125rem;
    white-space: nowrap;
}

/* Efeito de ripple ao clicar */
.bottom-nav-item::after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 143, 163, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.3s ease, height 0.3s ease;
    top: 50%;
    left: 50%;
    pointer-events: none;
}

.bottom-nav-item:active::after {
    width: 100px;
    height: 100px;
}

/* Previne "engasgar" da animação quando teclado fecha */
@media (max-width: 1023px) {
    .bottom-nav {
        will-change: auto; /* Remove will-change para evitar repaint forçado */
        transform: translateZ(0); /* Força aceleração de hardware se necessário */
        transition: transform 0.2s ease, opacity 0.2s ease;
        /* Evita repaint durante animação do teclado */
        contain: layout style paint;
    }
}

/* Seções Mobile - Ocultas por padrão */
.mobile-section {
    display: none;
    width: 100%;
    height: 100%;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

.mobile-section.active {
    display: flex;
    flex-direction: column;
}

/* Container de Dicas Mobile */
#mobile-dicas-container {
    padding: 1rem 15px; /* Margens laterais de 15px */
    max-width: 100%;
    width: 100%;
    box-sizing: border-box;
}

.mobile-dicas-section {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

.mobile-dica-card {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 16px; /* Bordas de 16px conforme especificação */
    padding: 1.25rem;
    margin-bottom: 1rem;
    margin-left: 0; /* Sem margem esquerda adicional */
    margin-right: 0; /* Sem margem direita adicional */
    width: calc(100% - 0px); /* Ocupa quase toda largura (margens já estão no container) */
    box-sizing: border-box;
    box-shadow: 0 2px 12px rgba(255, 143, 163, 0.1);
    border: 1px solid rgba(255, 143, 163, 0.15);
    transition: all 0.3s ease;
}

.mobile-dica-card:active {
    transform: scale(0.98);
    box-shadow: 0 1px 6px rgba(255, 143, 163, 0.15);
}

.mobile-dica-card h3 {
    color: var(--color-primary-warm, #ff8fa3);
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 0.75rem 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.mobile-dica-card .card-icon {
    font-size: 1.25rem;
}

.mobile-dica-card p {
    color: var(--text-warm-medium, #666);
    font-size: 0.9rem;
    line-height: 1.6;
    margin: 0;
}

/* Quick Replies Mobile - Ajustes */
@media (max-width: 1023px) {
    .quick-replies-container {
        flex-direction: column;
        gap: 0.75rem;
        padding: 1rem;
        margin-top: 1rem;
    }
    
    .quick-reply-btn {
        width: 100%;
        min-height: 44px;
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
        border-radius: 22px;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .quick-reply-btn:active {
        transform: scale(0.98);
    }
}

/* ===== ELEMENTOS DECORATIVOS FLUTUANTES (SIDEBARS) ===== */
.desktop-side-decorations {
    position: relative;
    width: 100%;
    height: 100%;
    min-height: 600px;
    pointer-events: none;
    z-index: 0;
}

.floating-icon {
    position: absolute;
    font-size: 3rem;
    opacity: 0.2;
    color: var(--color-primary-soft);
    animation: float 6s ease-in-out infinite;
    pointer-events: none;
    z-index: 0;
}

.floating-icon.icon-1 {
    top: 10%;
    left: 5%;
    animation-delay: 0s;
}

.floating-icon.icon-2 {
    top: 30%;
    left: 10%;
    animation-delay: 1s;
}

.floating-icon.icon-3 {
    top: 50%;
    left: 8%;
    animation-delay: 2s;
}

.floating-icon.icon-4 {
    top: 15%;
    right: 8%;
    animation-delay: 0.5s;
}

.floating-icon.icon-5 {
    top: 40%;
    right: 5%;
    animation-delay: 1.5s;
}

.floating-icon.icon-6 {
    top: 65%;
    right: 10%;
    animation-delay: 2.5s;
}

@keyframes float {
    0%, 100% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.2;
    }
    50% {
        transform: translateY(-20px) rotate(5deg);
        opacity: 0.3;
    }
}

/* ===== FORMAS DECORATIVAS (CÍRCULOS) ===== */
.decoration-shape {
    position: absolute;
    border-radius: 50%;
    background: linear-gradient(
        135deg,
        rgba(255, 179, 198, 0.2) 0%,
        rgba(255, 204, 213, 0.1) 100%
    );
    pointer-events: none;
    z-index: 0;
}

.decoration-shape.shape-1 {
    width: 200px;
    height: 200px;
    top: 5%;
    left: -50px;
    animation: pulse 8s ease-in-out infinite;
}

.decoration-shape.shape-2 {
    width: 150px;
    height: 150px;
    bottom: 10%;
    left: -30px;
    animation: pulse 10s ease-in-out infinite;
    animation-delay: 2s;
}

.decoration-shape.shape-3 {
    width: 180px;
    height: 180px;
    top: 20%;
    right: -40px;
    animation: pulse 9s ease-in-out infinite;
    animation-delay: 1s;
}

.decoration-shape.shape-4 {
    width: 120px;
    height: 120px;
    bottom: 15%;
    right: -20px;
    animation: pulse 11s ease-in-out infinite;
    animation-delay: 3s;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.2;
    }
    50% {
        transform: scale(1.1);
        opacity: 0.4;
    }
}

/* ===== CARDS DAS SIDEBARS (PAINÉIS LATERAIS) ===== */
.sidebar-card {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 4px 20px rgba(255, 143, 163, 0.15);
    border: 1px solid rgba(255, 179, 198, 0.3);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    z-index: 2;
}

.sidebar-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 30px rgba(255, 143, 163, 0.25);
}

.sidebar-card .card-icon {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    text-align: center;
}

.sidebar-card h3 {
    color: var(--text-accent);
    font-size: 1.1rem;
    margin-bottom: 1rem;
    text-align: center;
    font-weight: 600;
}

/* Card Orientação (gota d'água) */
.orientacao-card {
    background: linear-gradient(145deg, rgba(100, 181, 246, 0.08) 0%, rgba(255, 179, 198, 0.05) 100%) !important;
    border-radius: 20px !important;
    box-shadow: 0 4px 20px rgba(244, 166, 166, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
    padding: 24px !important;
    cursor: pointer;
}

.orientacao-card .card-icon { color: #64b5f6; display: block; }
.orientacao-content { text-align: center; padding: 0.5rem 0; width: 100%; }
.orientacao-text {
    color: var(--text-warm-dark);
    font-size: 0.9rem;
    line-height: 1.6;
    margin: 0;
    max-width: 100%;
    display: block;
}

/* Card Afirmação (sol) */
.affirmation-card {
    background: linear-gradient(145deg, rgba(255, 193, 7, 0.08) 0%, rgba(255, 179, 198, 0.05) 100%) !important;
    border-radius: 20px !important;
    box-shadow: 0 4px 20px rgba(244, 166, 166, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
    padding: 24px !important;
    cursor: pointer;
}

.affirmation-card .card-icon { color: #ffb74d; display: block; }
.affirmation-content {
    text-align: center;
    min-height: 80px;
    width: 100%;
}

.affirmation-text {
    color: var(--text-warm-dark);
    font-size: 0.95rem;
    line-height: 1.6;
    margin: 0;
    font-style: italic;
    font-weight: 500;
    max-width: 100%;
    display: block;
}

/* Card Agenda de Saúde (calendário) */
.agenda-card {
    background: linear-gradient(145deg, rgba(129, 199, 132, 0.08) 0%, rgba(255, 179, 198, 0.05) 100%) !important;
    border-radius: 20px !important;
    box-shadow: 0 4px 20px rgba(244, 166, 166, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
    padding: 24px !important;
}

.agenda-card .card-icon { color: #81c784; display: block; }
.agenda-content { text-align: center; padding: 0.5rem 0; width: 100%; }
.agenda-vaccine-name, .agenda-para-quem, .agenda-date, .agenda-local, .agenda-success, .agenda-text {
    color: var(--text-warm-dark);
    font-size: 0.9rem;
    line-height: 1.6;
    margin: 0.4rem 0;
    display: block;
}
.agenda-actions { margin-top: 1rem; text-align: center; }
.btn-agenda-reminder {
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.5rem 1rem;
    font-size: 0.85rem;
    background: rgba(255, 143, 163, 0.2);
    border: 1px solid rgba(244, 166, 166, 0.4);
    border-radius: 12px;
    color: var(--text-warm-dark);
    cursor: pointer;
    transition: background 0.2s, box-shadow 0.2s;
}
.btn-agenda-reminder:hover {
    background: rgba(255, 143, 163, 0.3);
    box-shadow: 0 2px 8px rgba(244, 166, 166, 0.2);
}

/* Card Agenda em dia de vacina (pulsante) */
.agenda-card.card-alert-today {
    border: 2px solid rgba(255, 152, 0, 0.6) !important;
    box-shadow: 0 4px 20px rgba(255, 152, 0, 0.2), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
    animation: agenda-card-pulse 2.5s ease-in-out infinite;
}
@keyframes agenda-card-pulse {
    0%, 100% { box-shadow: 0 4px 20px rgba(255, 152, 0, 0.2), 0 2px 8px rgba(0, 0, 0, 0.05); }
    50% { box-shadow: 0 6px 28px rgba(255, 152, 0, 0.35), 0 4px 12px rgba(0, 0, 0, 0.08); }
}

/* Vigia: card com tom de alerta leve quando há vacina amanhã (laranja pastel) */
.agenda-card.card-alert-tomorrow {
    background: linear-gradient(135deg, #fff5e8 0%, #ffecd2 50%, #ffe4c4 100%) !important;
    border: 1px solid rgba(255, 167, 38, 0.4) !important;
    box-shadow: 0 4px 20px rgba(255, 167, 38, 0.15), 0 2px 8px rgba(0, 0, 0, 0.05) !important;
}

/* Banner de vacina hoje (topo do dashboard) */
.vaccine-today-banner {
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    background: linear-gradient(135deg, rgba(255, 152, 0, 0.95) 0%, rgba(255, 183, 77, 0.95) 100%);
    color: #5d4037;
    box-shadow: 0 4px 16px rgba(255, 152, 0, 0.3);
    animation: vaccine-banner-slide 0.4s ease-out;
}
@keyframes vaccine-banner-slide {
    from { transform: translateY(-100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
.vaccine-today-banner-inner {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 0.75rem 1rem;
    padding: 0.9rem 1.5rem;
    padding-right: 3rem;
    max-width: 900px;
    margin: 0 auto;
    position: relative;
}
.vaccine-today-icon { font-size: 1.4rem; }
.vaccine-today-text {
    font-size: 0.95rem;
    font-weight: 600;
}
.vaccine-today-link {
    color: #5d4037;
    text-decoration: underline;
    font-weight: 700;
    padding: 0.35rem 0.6rem;
    border-radius: 8px;
    background: rgba(255,255,255,0.4);
    transition: background 0.2s;
}
.vaccine-today-link:hover {
    background: rgba(255,255,255,0.7);
}
.vaccine-today-close {
    position: absolute;
    right: 0.5rem;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    font-size: 1.5rem;
    line-height: 1;
    cursor: pointer;
    color: #5d4037;
    opacity: 0.8;
}
.vaccine-today-close:hover { opacity: 1; }

@media (max-width: 768px) {
    .vaccine-today-banner-inner { flex-direction: column; padding-right: 2.5rem; }
    .vaccine-today-close { right: 0.5rem; }
}

/* Card Vídeos */
.videos-card {
    background: linear-gradient(
        145deg,
        rgba(255, 143, 163, 0.1) 0%,
        rgba(255, 204, 213, 0.05) 100%
    );
}

.videos-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.video-item {
    cursor: pointer;
    border-radius: 12px;
    overflow: hidden;
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(255, 179, 198, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
}

.video-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(255, 143, 163, 0.2);
}

.video-thumbnail {
    width: 100%;
    height: 120px;
    background: linear-gradient(135deg, var(--color-primary-warm), var(--color-primary-soft));
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.video-thumbnail::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M8 5v14l11-7z"/></svg>') center/40px no-repeat;
    opacity: 0.8;
}

.video-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.7;
}

.video-info {
    padding: 0.75rem;
}

.video-title {
    color: var(--text-warm-dark);
    font-size: 0.85rem;
    font-weight: 600;
    margin: 0 0 0.25rem 0;
    line-height: 1.3;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.video-description {
    color: var(--text-warm-medium);
    font-size: 0.75rem;
    margin: 0;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* ===== MODAL DE VÍDEO ===== */
.video-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
}

.video-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
}

.video-modal-content {
    position: relative;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-radius: 20px;
    padding: 2rem;
    max-width: 80%; /* Ocupa 80% da tela no desktop */
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 179, 198, 0.3);
    z-index: 10001;
    animation: slideUp 0.3s ease;
    display: flex;
    flex-direction: column;
}

/* Desktop: Modal ocupa 80% da largura, mas mantém aspect ratio do vídeo */
@media (min-width: 1024px) {
    .video-modal-content {
        max-width: 80%;
        width: 80%;
    }
}

/* Mobile: Modal Fullscreen */
@media (max-width: 1023px) {
    .video-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100vw;
        height: 100vh;
        z-index: 10000;
        background: rgba(0, 0, 0, 0.95);
        padding: 0;
        margin: 0;
    }
    
    .video-modal-overlay {
        background: rgba(0, 0, 0, 0.95);
    }
    
    .video-modal-content {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100vw;
        height: 100vh;
        max-width: 100%;
        max-height: 100vh;
        padding: 1rem;
        border-radius: 0;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.95);
    }
    
    .video-modal-player {
        width: 100%;
        height: calc(100vh - 100px); /* Altura total menos controles */
        padding-bottom: 0; /* Remove padding-bottom para usar height fixo */
        max-height: 100%;
        flex-shrink: 0;
    }
    
    .video-modal-player iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
        border-radius: 0;
    }
    
    .video-modal-close {
        position: fixed;
        top: 1rem;
        right: 1rem;
        z-index: 10001;
        width: 44px; /* Área de toque de 44px × 44px */
        height: 44px;
        min-width: 44px;
        min-height: 44px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
        border: none;
        transition: all 0.3s ease;
    }
    
    .video-modal-close:active {
        transform: scale(0.95);
        background: rgba(255, 255, 255, 1);
    }
}

.video-modal-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: var(--color-primary-warm);
    color: white;
    border: none;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background 0.3s ease, transform 0.3s ease;
    z-index: 10002;
    font-size: 1.2rem;
}

.video-modal-close:hover {
    background: var(--color-primary-soft);
    transform: rotate(90deg);
}

.video-modal-player {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* Aspect ratio 16:9 (9/16 = 0.5625) - garante sem barras pretas */
    height: 0;
    overflow: hidden;
    border-radius: 12px;
    background: #000;
    margin-bottom: 1.5rem;
    flex-shrink: 0; /* Evita que o player encolha */
}

.video-modal-player iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
    border-radius: 12px;
}

/* Ajuste para conteúdo do modal (título e descrição) */
.video-modal-info {
    margin-bottom: 1.5rem;
    flex-shrink: 0;
}

.video-modal-info h4 {
    color: var(--text-accent);
    font-size: 1.3rem;
    margin: 0 0 0.5rem 0;
    font-weight: 600;
}

.video-modal-info p {
    color: var(--text-warm-medium);
    font-size: 0.95rem;
    line-height: 1.6;
    margin: 0;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        transform: translateY(30px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Responsividade dos cards */
@media (max-width: 1023px) {
    .sidebar-card {
        display: none;
    }
    
    .video-modal-content {
        width: 95%;
        padding: 1.5rem;
    }
}

/* ========================================
   CORREÇÃO DE EMERGÊNCIA: CORES DOS BOTÕES
   ========================================
   ⚠️ CRÍTICO: Força TODOS os botões a serem BRANCOS com borda/texto ROSA
   ✅ Soft UI: Branco/Rosa Claro - NUNCA cinza escuro
   📚 Sobrescreve qualquer estilo anterior
   ======================================== */

/* Força TODOS os botões principais a serem Branco com Rosa */
.btn-sophia,
.sidebar-btn,
.hero-grid-card, /* Botões do menu principal (Gestação, etc) */
.feeling-btn,   /* Botões de sentimento */
.feeling-btn-modern, /* Botões de sentimento modernos */
.feeling-extra-btn-modern, /* Botões extras de sentimento */
.action-btn,    /* Botões de ação rápida */
.emergency-btn,
button.modern-pill-btn,
.resource-card, /* Cards de recursos */
.premium-card-btn,
.conteudo-card-btn,
#start-chat-btn, /* Botão principal de conversar */
.btn-start-chat {
    background-color: #ffffff !important; /* FUNDO BRANCO */
    color: var(--sophia-pink-dark, #C44569) !important; /* TEXTO ROSA ESCURO */
    border: 2px solid var(--sophia-pink-light, #F4A6A6) !important; /* BORDA ROSA CLARO */
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.15) !important; /* Sombra rosa suave */
    border-radius: 24px !important; /* Bem arredondado */
    padding: 12px 15px !important; /* Padding controlado para não ficarem gigantes */
    font-family: 'Poppins', 'Nunito', sans-serif !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
    /* Reseta tamanhos gigantes */
    width: auto !important; 
    height: auto !important;
    min-height: 50px !important; /* Altura mínima confortável */
    max-height: none !important; /* Remove altura máxima que estica */
}

/* Efeito Hover (Passar o mouse) - Fica Rosa Claro */
.btn-sophia:hover,
.feeling-btn:hover,
.feeling-btn-modern:hover,
.feeling-extra-btn-modern:hover,
.action-btn:hover,
.resource-card:hover,
.premium-card-btn:hover,
.conteudo-card-btn:hover,
#start-chat-btn:hover,
.btn-start-chat:hover {
    background-color: #F4A6A6; /* FUNDO ROSA CLARO */
    color: #ffffff; /* TEXTO BRANCO */
    border-color: transparent;
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(244, 166, 166, 0.3);
}

/* Botões de Emergência e Sair (Destaque diferente) */
.emergency-btn, 
.sidebar-btn-logout,
.logout-btn {
    border: 2px solid var(--sophia-emergency, #e63946) !important;
    color: var(--sophia-emergency, #e63946) !important;
    background-color: #ffffff !important;
}

.emergency-btn:hover, 
.sidebar-btn-logout:hover,
.logout-btn:hover {
    background-color: var(--sophia-emergency, #e63946) !important;
    color: white !important;
    border-color: transparent !important;
}

/* ========================================
   CORREÇÃO DE EMERGÊNCIA: LAYOUT MOBILE
   ========================================
   ⚠️ CRÍTICO: Grid de 2 colunas no mobile
   ✅ Impede elementos gigantes e desalinhados
   ======================================== */
@media (max-width: 768px) {
    /* 1. Menu Principal (Hero Grid) - Arrumar os blocos enormes */
    .hero-grid {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important; /* FORÇA 2 COLUNAS LADO A LADO */
        gap: 12px !important; /* Espaço entre eles */
        padding: 15px !important;
        max-width: 100% !important;
        margin: 0 auto !important;
    }

    .hero-grid-card {
        width: 100% !important;
        aspect-ratio: 1 !important; /* Cards quadrados */
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        gap: 12px !important;
        padding: 20px !important;
        background-color: #fff !important;
        border-radius: 16px !important;
        box-shadow: 0 4px 15px rgba(196, 69, 105, 0.15) !important;
        border: none !important;
    }

    .hero-grid-card i {
        font-size: 28px !important;
        color: #C44569 !important;
        margin-bottom: 5px !important;
    }

    .hero-grid-card .hero-card-text,
    .hero-grid-card span {
        font-size: 0.85rem !important;
        font-weight: 600 !important;
        color: #C44569 !important; /* Texto rosa */
    }

    .hero-grid-card:hover i {
        color: #C44569 !important;
    }

    .hero-grid-card:hover .hero-card-text,
    .hero-grid-card:hover span {
        color: #C44569 !important; /* Texto rosa no hover também */
    }

    /* 2. Sentimentos (Como está seu coração) - Arrumar a lista vertical */
    .feeling-grid-modern,
    .feeling-buttons-grid,
    .feelings-grid-container {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important; /* FORÇA 2 COLUNAS */
        gap: 10px !important;
        margin-top: 20px !important;
        padding: 0 15px !important;
    }
    
    .feeling-btn,
    .feeling-btn-modern {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;
        margin: 0 !important; /* Remove margens externas que desalinham */
        padding: 8px 4px !important; /* Padding otimizado para mobile */
        min-height: 70px !important; /* Altura uniforme em mobile */
        max-height: none !important;
        font-size: 0.85rem !important; /* Fonte ligeiramente menor em mobile */
        line-height: 1.2 !important;
        text-align: center !important;
        word-wrap: break-word !important;
        word-break: break-word !important;
        overflow-wrap: break-word !important;
        box-sizing: border-box !important;
    }

    .feeling-extra-btn-modern {
        width: 100% !important;
        margin-top: 10px !important;
        padding: 12px 15px !important;
        min-height: 50px !important;
    }

    /* 3. Carrossel Educativo - Altura controlada */
    .conteudo-card-carousel,
    .carousel-card {
        height: auto !important; /* REMOVIDO: max-height e min-height fixos */
        min-height: auto !important; /* Altura baseada no conteúdo */
        overflow: hidden !important; /* Garante que o filho não vaze */
    }
    
    .conteudo-card-image img,
    .carousel-card img {
        max-height: 140px !important; /* Controla a imagem */
        object-fit: contain !important;
    }

    /* 4. Resource Cards - Grid de 2 colunas */
    .resources-grid {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px !important;
        padding: 15px !important;
    }

    .resource-card {
        min-height: 120px !important;
        max-height: 180px !important;
        padding: 15px 12px !important;
    }
}

/* ========================================
   CORREÇÃO DE EMERGÊNCIA: LAYOUT DESKTOP
   ========================================
   ⚠️ CRÍTICO: Grid responsivo no desktop
   ✅ Controle de largura máxima
   ======================================== */
@media (min-width: 1024px) {
    /* Menu principal em linha */
    .hero-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 20px !important;
        max-width: 1000px !important; /* Não deixa esticar na tela toda */
        margin: 0 auto !important;
        padding: 20px !important;
    }
    
    .hero-grid-card {
        aspect-ratio: 1 !important; /* Cards quadrados */
    }
    
    .hero-grid-card .hero-card-text,
    .hero-grid-card span {
        color: #C44569 !important; /* Texto rosa */
    }
    
    .hero-grid-card:hover .hero-card-text,
    .hero-grid-card:hover span {
        color: #C44569 !important; /* Texto rosa no hover também */
    }
    
    /* Sentimentos em 3 colunas */
    .feeling-grid-modern,
    .feeling-buttons-grid,
    .feelings-grid-container {
        display: grid !important;
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 15px !important;
        max-width: 800px !important;
        margin: 20px auto !important;
        padding: 0 20px !important;
    }

    /* Resource Cards em 3 colunas */
    .resources-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 20px !important;
        max-width: 1200px !important;
        margin: 0 auto !important;
    }
}

/* ==========================================================================
   ☢️ ÁREA DE EXTERMÍNIO VISUAL - CSS DE EMERGÊNCIA ☢️
   Estas regras SOBRESCREVEM tudo para corrigir os blocos gigantes e cinzas.
   NÃO REMOVA até que o layout esteja estabilizado.
   ========================================================================== */

/* 1. FORÇAR TODOS OS BOTÕES PARA O ESTILO SOFT UI (BRANCO/ROSA)
   Alvo: Qualquer coisa que pareça um botão, incluindo os do sidebar e conteúdo. */
button, .btn, .btn-sophia, .sidebar-btn, .action-btn, .feeling-btn, 
.feeling-btn-modern, .feeling-extra-btn-modern,
.hero-grid-card, a.btn, .premium-card-btn, .conteudo-card-btn,
#start-chat-btn, .btn-start-chat {
    background: #ffffff !important; /* FUNDO BRANCO OBRIGATÓRIO */
    background-color: #ffffff !important; /* Redundância para garantir */
    color: var(--sophia-pink-dark, #C44569) !important; /* TEXTO ROSA ESCURO */
    border: 2px solid var(--sophia-pink-light, #F4A6A6) !important; /* BORDA ROSA CLARO */
    border-radius: 24px !important; /* BEM ARREDONDADO */
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.2) !important; /* SOMBRA ROSA SUAVE */
    padding: 10px 20px !important;
    font-weight: 600 !important;
    text-transform: none !important; /* Remove caixa alta se houver */
    transition: all 0.3s ease !important;
    /* Reseta tamanhos absurdos */
    width: auto !important;
    max-width: 100% !important;
    height: auto !important;
    min-height: 48px !important;
}

/* Hover para os botões acima */
button:hover, .btn:hover, .btn-sophia:hover, .sidebar-btn:hover, 
.action-btn:hover, .feeling-btn:hover, .feeling-btn-modern:hover,
.feeling-extra-btn-modern:hover, .hero-grid-card:hover, .premium-card-btn:hover,
.conteudo-card-btn:hover, #start-chat-btn:hover, .btn-start-chat:hover {
    background-color: var(--sophia-pink-light, #F4A6A6) !important;
    color: #ffffff !important;
    border-color: transparent !important;
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 20px rgba(244, 166, 166, 0.4) !important;
}

/* Botões de Emergência/Sair (Exceção: Vermelho) */
.emergency-btn, .logout-btn, .sidebar-btn-logout {
    border-color: var(--sophia-emergency, #e63946) !important;
    color: var(--sophia-emergency, #e63946) !important;
    background-color: #ffffff !important;
}
.emergency-btn:hover, .logout-btn:hover, .sidebar-btn-logout:hover {
    background-color: var(--sophia-emergency, #e63946) !important;
    color: #ffffff !important;
}

/* 2. FORÇAR CONTEÚDOS EDUCATIVOS (CÂNCER/LEITE) A SEREM CARDS PEQUENOS E BRANCOS
   Alvo: Os containers gigantes que aparecem nas imagens 21 e 22.
   Usamos seletores genéricos para pegar qualquer wrapper que esteja sendo usado. */
.premium-card, .resource-card, .carousel-card, .conteudo-card-carousel,
/* Tenta pegar o container pelo contexto se as classes acima falharem */
.conteudos-educativos-container > div, 
.conteudos-carousel .conteudo-card-carousel,
[class*="content-block"] {
    background: #ffffff !important; /* FUNDO BRANCO PARA O BLOCO INTEIRO */
    border-radius: 30px !important; /* CANTOS MUITO ARREDONDADOS */
    border: 1px solid rgba(244, 166, 166, 0.3) !important; /* Borda rosa sutil */
    box-shadow: 0 10px 30px rgba(244, 166, 166, 0.15) !important; /* Sombra elegante */
    padding: 30px !important;
    margin: 0 auto !important; /* Centraliza, mas gap do container cuida do espaçamento */
    
    /* CONTROLE DE TAMANHO RÍGIDO */
    width: 90% !important; /* No mobile, ocupa 90% da tela */
    max-width: 450px !important; /* No desktop, TRAVA em 450px. FIM DOS BLOCOS GIGANTES. */
    height: auto !important; /* REMOVIDO: Altura fixa */
    min-height: auto !important; /* Altura baseada no conteúdo */
    overflow: hidden !important; /* Garante que o filho não vaze */
    
    /* Organização interna */
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    text-align: center !important;
    
    /* Z-Index: Remove qualquer z-index negativo */
    z-index: auto !important;
    position: relative !important;
}

/* Controla as imagens dentro desses blocos para não esticarem */
.premium-card img, .resource-card img, .carousel-card img, 
.conteudo-card-carousel img, .conteudo-card-image img,
.conteudo-card-image, [class*="content-block"] img {
    max-height: 180px !important;
    width: auto !important;
    object-fit: contain !important;
    margin-bottom: 20px !important;
    background: transparent !important; /* Garante que a imagem não tenha fundo cinza */
}

/* Força o conteúdo dos cards educativos a ter estilo branco/rosa */
.conteudo-card-content, .conteudo-card-title, .conteudo-card-subtitle {
    background: transparent !important;
    color: var(--sophia-text-primary, #7a4a4a) !important;
}

.conteudo-card-title {
    font-size: 1.2rem !important;
    font-weight: 700 !important;
    margin-bottom: 8px !important;
    color: var(--sophia-pink-dark, #C44569) !important;
}

.conteudo-card-subtitle {
    font-size: 1rem !important;
    font-weight: 500 !important;
    margin-bottom: 15px !important;
    color: var(--sophia-text-secondary, #9a6a6a) !important;
}

/* 3. CORREÇÃO DO GRID DE SENTIMENTOS E MENU PRINCIPAL
   Força o alinhamento em 2 colunas no mobile e evita que fiquem colados ou gigantes. */
@media (max-width: 768px) {
    /* Container dos botões do menu principal e sentimentos */
    .hero-grid, .feeling-grid-modern, .feelings-grid-container, .quick-actions-grid {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important; /* FORÇA 2 COLUNAS LADO A LADO */
        gap: 15px !important; /* ESPAÇO OBRIGATÓRIO ENTRE ELES */
        width: 100% !important;
        padding: 10px !important;
        box-sizing: border-box !important;
    }
    /* Garante que os botões dentro do grid obedeçam o tamanho da coluna */
    .hero-grid .btn, .feeling-grid-modern .btn, .feelings-grid-container .btn, 
    .hero-grid-card, .feeling-btn, .feeling-btn-modern {
        width: 100% !important;
        margin: 0 !important;
    }
    
    /* Força os cards educativos a serem menores no mobile também */
    .premium-card, .resource-card, .carousel-card, .conteudo-card-carousel {
        max-width: 90% !important;
        padding: 20px !important;
    }
}

/* Desktop: Cards educativos centralizados e com tamanho controlado */
@media (min-width: 769px) {
    .premium-card, .resource-card, .carousel-card, .conteudo-card-carousel {
        max-width: 450px !important; /* TRAVA EM 450px NO DESKTOP */
        margin: 20px auto !important; /* Centraliza */
    }
    
    /* Container do carrossel também deve respeitar o tamanho */
    .conteudos-carousel, .conteudos-carousel-track {
        max-width: 100% !important;
        overflow-x: auto !important;
    }
    /* Conteúdos Educativos na home: lista vertical, não carrossel */
    .conteudos-educativos-list .conteudos-carousel,
    .conteudos-educativos-list .conteudos-carousel-track {
        overflow: visible !important;
        overflow-x: visible !important;
    }
}

/* ========================================
   MELHORIAS: SEÇÃO DE SENTIMENTOS ACONCHEGANTE
   ======================================== */
.feeling-widget-modern {
    background: rgba(255, 252, 250, 0.6) !important;
    border-radius: 24px !important;
    padding: 2rem 1.5rem !important;
    margin: 2rem auto !important;
    max-width: 900px !important;
    box-shadow: 0 8px 24px rgba(244, 166, 166, 0.12) !important;
    border: 1px solid rgba(244, 166, 166, 0.2) !important;
}

.feeling-title-modern {
    font-size: 1.5rem !important;
    font-weight: 700 !important;
    color: var(--sophia-pink-dark, #C44569) !important;
    text-align: center !important;
    margin-bottom: 0.75rem !important;
    font-family: 'Nunito', 'Poppins', sans-serif !important;
    line-height: 1.3 !important;
}

.feeling-subtitle-modern {
    font-size: 1rem !important;
    color: var(--sophia-text-secondary, #9a6a6a) !important;
    text-align: center !important;
    margin-bottom: 1.5rem !important;
    font-family: 'Nunito', 'Poppins', sans-serif !important;
    font-weight: 500 !important;
    line-height: 1.5 !important;
}

.feeling-grid-modern {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important; /* 3 COLUNAS NO DESKTOP */
    gap: 15px !important;
    margin: 1.5rem 0 !important;
    padding: 0 !important;
}

.feeling-btn-modern {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 100% !important;
    min-height: 80px !important; /* Altura fixa para uniformidade */
    padding: 8px 4px !important; /* Padding otimizado - menos lateral */
    font-size: 0.9rem !important; /* Fonte responsiva */
    line-height: 1.2 !important;
    text-align: center !important;
    word-wrap: break-word !important;
    word-break: break-word !important;
    overflow-wrap: break-word !important;
    border-radius: 20px !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.15) !important;
    box-sizing: border-box !important;
}

.feeling-btn-modern:hover {
    transform: translateY(-4px) scale(1.02) !important;
    box-shadow: 0 8px 20px rgba(244, 166, 166, 0.3) !important;
}

.feeling-extra-options-modern {
    display: flex !important;
    flex-direction: column !important;
    gap: 12px !important;
    margin-top: 1.5rem !important;
    padding-top: 1.5rem !important;
    border-top: 1px solid rgba(244, 166, 166, 0.15) !important;
}

.feeling-extra-btn-modern {
    padding: 14px 20px !important;
    font-size: 0.9rem !important;
    border-radius: 18px !important;
    min-height: 52px !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.feeling-extra-btn-modern:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 6px 18px rgba(244, 166, 166, 0.25) !important;
}

/* Mobile: Ajustes para seção de sentimentos */
@media (max-width: 768px) {
    .feeling-widget-modern {
        padding: 1.5rem 1rem !important;
        margin: 1.5rem auto !important;
        border-radius: 20px !important;
    }
    
    .feeling-title-modern {
        font-size: 1.3rem !important;
        margin-bottom: 0.5rem !important;
    }
    
    .feeling-subtitle-modern {
        font-size: 0.9rem !important;
        margin-bottom: 1.25rem !important;
    }
    
    .feeling-grid-modern {
        grid-template-columns: repeat(2, 1fr) !important; /* 2 COLUNAS NO MOBILE */
        gap: 10px !important; /* Gap reduzido para dar mais espaço aos botões */
        padding: 0 10px !important; /* Padding lateral reduzido */
    }
    
    .feeling-btn-modern {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        padding: 8px 4px !important; /* Padding otimizado para mobile */
        font-size: 0.85rem !important; /* Fonte menor em mobile */
        min-height: 70px !important; /* Altura uniforme */
        line-height: 1.2 !important;
        text-align: center !important;
        word-wrap: break-word !important;
        word-break: break-word !important;
        overflow-wrap: break-word !important;
        box-sizing: border-box !important;
    }
    
    .feeling-extra-btn-modern {
        padding: 12px 18px !important;
        font-size: 0.85rem !important;
        min-height: 48px !important;
    }
}

/* Força o container do carrossel a não esticar */
.conteudos-educativos-section-modern {
    max-width: 100% !important;
    padding: 24px 20px !important; /* Respiro vertical 24px, horizontal 20px base */
}

.conteudos-carousel {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    gap: 20px !important;
    padding: 10px !important;
}

.conteudos-carousel-track {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important; /* 2 COLUNAS LADO A LADO */
    row-gap: 32px !important; /* Respiro vertical entre linhas - separa cards */
    column-gap: 24px !important; /* Espaço horizontal entre cards */
    justify-items: center !important;
    align-items: start !important; /* Alinha no topo para evitar sobreposição */
    max-width: 1000px !important;
    margin: 0 auto !important;
    width: 100% !important;
    padding: 0 !important;
    margin-bottom: 24px !important; /* Espaço extra após o carrossel */
}

/* Fallback: margin-top nos cards da 2ª linha em diante (gap às vezes não aplica) */
.conteudos-carousel-track > .conteudo-card-carousel:nth-child(n+3) {
    margin-top: 32px !important;
}

/* Mobile: 1 coluna - margin-top entre cards empilhados */
@media (max-width: 768px) {
    .conteudos-carousel-track {
        grid-template-columns: 1fr !important; /* 1 COLUNA NO MOBILE */
        row-gap: 32px !important;
        column-gap: 24px !important;
        margin-bottom: 24px !important;
    }
    /* Card 2 e 3 (e seguintes) ganham espaço acima no mobile */
    .conteudos-carousel-track > .conteudo-card-carousel:nth-child(n+2) {
        margin-top: 32px !important;
    }
}

/* ========================================
   Modal de Perfil (Informações da mãe e do bebê)
   ======================================== */
.modal-profile {
    max-width: 950px !important;
}

.modal-profile .modal-body {
    padding: 1.5rem !important;
    background: var(--sophia-bg-white, #ffffff) !important;
}

.profile-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)) !important;
    gap: 16px !important;
}

.profile-card {
    background: #ffffff !important;
    border: 1px solid rgba(244, 166, 166, 0.25) !important;
    border-radius: 20px !important;
    box-shadow: 0 10px 28px rgba(244, 166, 166, 0.16) !important;
    padding: 18px !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 10px !important;
}

.profile-card h4 {
    margin: 0 !important;
    color: var(--sophia-pink-dark, #C44569) !important;
    font-size: 1.05rem !important;
    font-weight: 700 !important;
}

.profile-list {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
}

.profile-label {
    color: var(--sophia-text-secondary, #8B7A8F) !important;
    font-weight: 600 !important;
    font-size: 0.92rem !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 6px !important;
}

.profile-label input,
.profile-label select,
.profile-label textarea {
    width: 100% !important;
    padding: 10px 12px !important;
    border: 1px solid rgba(244, 166, 166, 0.35) !important;
    border-radius: 12px !important;
    background: #fff !important;
    font-size: 0.95rem !important;
    color: var(--sophia-text-primary, #C44569) !important;
    box-shadow: inset 0 1px 3px rgba(244, 166, 166, 0.08) !important;
    transition: border-color 0.2s ease, box-shadow 0.2s ease !important;
}

.profile-label input:focus,
.profile-label select:focus,
.profile-label textarea:focus {
    outline: none !important;
    border-color: var(--sophia-pink-primary, #F4A6A6) !important;
    box-shadow: 0 0 0 3px rgba(244, 166, 166, 0.25) !important;
}

.profile-label textarea {
    resize: vertical !important;
    min-height: 70px !important;
}

.profile-actions {
    display: flex !important;
    gap: 12px !important;
    justify-content: flex-end !important;
    margin-top: 16px !important;
}

.profile-save-btn i,
.profile-clear-btn i {
    margin-right: 8px !important;
}

@media (max-width: 768px) {
    .modal-profile .modal-body {
        padding: 1.2rem !important;
    }
    .profile-card {
        border-radius: 18px !important;
        padding: 16px !important;
    }
    .profile-actions {
        flex-direction: column !important;
        align-items: stretch !important;
    }
}

/* ========================================
   ALINHAMENTO DO CABEÇALHO COM O GRID
   ========================================
   Garante que o header (Lupa, Perfil, Menu) 
   esteja alinhado com o conteúdo abaixo
   ======================================== */
/* ========================================
   HEADER MODERN - REESTRUTURAÇÃO FLEXBOX RÍGIDA
   ======================================== */
.header-modern {
    background: #ffffff !important;
    padding: 0.75rem 0 !important;
    box-shadow: 0 2px 8px rgba(244, 166, 166, 0.1) !important;
    position: relative !important;
    z-index: 1000 !important;
    width: 100% !important;
    box-sizing: border-box !important;
}

/* CRÍTICO: Quando sidebar está aberto, header deve ficar ABAIXO */
body.sidebar-open .header-modern,
.sidebar.open ~ .header-modern,
#sidebar.open ~ .header-modern,
body:has(.sidebar.open) .header-modern,
body:has(#sidebar.open) .header-modern {
    z-index: 1 !important; /* MUITO menor que sidebar - força abaixo */
    position: relative !important; /* Remove position fixed/sticky */
}

/* Container principal do header - Flexbox rígido */
.header-modern-content {
    display: flex !important;
    justify-content: space-between !important; /* Separa Esquerda e Direita */
    align-items: center !important; /* Centraliza tudo verticalmente */
    width: 100% !important;
    padding: 10px 15px !important;
    box-sizing: border-box !important;
    gap: 0 !important; /* Gap apenas entre os wrappers, não entre elementos internos */
}

/* Lado Esquerdo: Menu Hambúrguer + Logo */
.header-modern-content::before {
    content: '' !important;
    display: none !important;
}

/* Lado Esquerdo: Menu Hambúrguer + Logo */
.header-left {
    display: flex !important;
    align-items: center !important;
    gap: 15px !important; /* Força espaço entre o Menu Hambúrguer e o nome Sophia */
    flex: 0 0 auto !important;
    margin: 0 !important;
    padding: 0 !important;
    position: relative !important; /* CRÍTICO: NÃO usar absolute */
    left: auto !important;
    right: auto !important;
}

.header-logo {
    flex: 0 0 auto !important;
    margin: 0 !important;
    padding: 0 !important;
    position: relative !important; /* NÃO pode ser absolute */
}

.header-logo-text {
    font-size: 1.3rem !important;
    font-weight: 700 !important;
    color: var(--sophia-pink-dark, #C44569) !important;
    margin: 0 !important;
    padding: 0 !important;
    font-family: 'Nunito', 'Poppins', sans-serif !important;
    white-space: nowrap !important;
    position: relative !important; /* NÃO pode ser absolute */
    left: auto !important;
    right: auto !important;
}

/* Lado Direito: Ícones (Lupa, Perfil) */
.header-right {
    display: flex !important;
    align-items: center !important;
    gap: 10px !important; /* Espaço entre lupa e perfil */
    flex: 0 0 auto !important;
    margin: 0 !important;
    padding: 0 !important;
    position: relative !important; /* CRÍTICO: NÃO usar absolute */
    left: auto !important;
    right: auto !important;
    margin-left: auto !important; /* Garante que fica à direita */
}

/* Mantém compatibilidade com .header-icons (caso ainda exista) */
.header-icons {
    display: flex !important;
    align-items: center !important;
    gap: 10px !important;
    flex: 0 0 auto !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Menu hambúrguer no lado esquerdo */
/* Todos os botões de ícone do header - Tamanho fixo para consistência */
.header-icon-btn {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 42px !important;
    height: 42px !important;
    min-width: 42px !important;
    min-height: 42px !important;
    max-width: 42px !important;
    max-height: 42px !important;
    padding: 0 !important;
    margin: 0 !important;
    background: rgba(244, 166, 166, 0.1) !important;
    border: 1px solid rgba(244, 166, 166, 0.2) !important;
    border-radius: 8px !important;
    color: var(--sophia-pink-dark, #C44569) !important;
    font-size: 1.1rem !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    flex-shrink: 0 !important;
    box-sizing: border-box !important;
    /* Garantir que sobrescreve estilos inline */
    line-height: 1 !important;
}

/* Garantir que o menu-toggle-header herde as propriedades */
#menu-toggle-header {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 42px !important;
    height: 42px !important;
    min-width: 42px !important;
    min-height: 42px !important;
    max-width: 42px !important;
    max-height: 42px !important;
    padding: 0 !important;
    margin: 0 !important;
    flex-shrink: 0 !important;
    position: relative !important;
    left: auto !important;
    right: auto !important;
    top: auto !important;
    bottom: auto !important;
    box-sizing: border-box !important;
    line-height: 1 !important;
    /* Garantir que sobrescreve estilos inline */
    background: rgba(244, 166, 166, 0.1) !important;
    border: 1px solid rgba(244, 166, 166, 0.2) !important;
    border-radius: 8px !important;
    color: var(--sophia-pink-dark, #C44569) !important;
    font-size: 1.1rem !important;
}

.header-icon-btn:hover {
    background: rgba(244, 166, 166, 0.2) !important;
    transform: scale(1.05) !important;
}

@media (min-width: 769px) {
    .header-modern-content {
        padding: 0 1.5rem !important;
    }
    
    .header-logo-text {
        font-size: 1.5rem !important;
    }
    
    .header-icon-btn,
    #menu-toggle-header {
        width: 44px !important;
        height: 44px !important;
        min-width: 44px !important;
        min-height: 44px !important;
        max-width: 44px !important;
        max-height: 44px !important;
        font-size: 1.2rem !important;
    }
}

@media (min-width: 1024px) {
    .header-modern-content {
        max-width: 1200px !important;
        margin: 0 auto !important;
        padding: 0 2rem !important;
    }
}

/* Garante que o conteúdo principal também respeite o mesmo alinhamento */
.welcome-content,
.hero-grid-section,
.conteudos-educativos-section-modern {
    max-width: 100% !important;
    margin: 0 auto !important;
    padding: 24px 1.5rem !important; /* Respiro vertical e horizontal - evita cards colados nas bordas */
}

@media (min-width: 1024px) {
    .welcome-content,
    .hero-grid-section,
    .conteudos-educativos-section-modern {
        max-width: 1200px !important;
        padding: 24px 2rem !important;
    }
}

/* ==========================================================================
   🎨 CORREÇÃO FINAL: BLOCOS QUADRADOS E COLORIDOS CORRETAMENTE
   ==========================================================================
   Força blocos do menu a serem QUADRADOS, BRANCOS com ícones ROSAS
   ou ROSAS com ícones BRANCOS. Remove qualquer cinza.
   ========================================================================== */

/* 1. BLOCO DO MENU PRINCIPAL (Hero Grid Cards) - QUADRADOS E BRANCOS */
/* Cards Modernos do Menu Principal - Estilo de Aplicativo */
.hero-grid-card {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 12px !important;
    background-color: #fff !important;
    border-radius: 16px !important;
    box-shadow: 0 4px 15px rgba(196, 69, 105, 0.15) !important;
    padding: 24px !important;
    height: 140px !important;
    width: 100% !important;
    transition: transform 0.2s !important;
    cursor: pointer !important;
    border: none !important;
    text-align: center !important;
}

/* Ícones dentro dos cards */
.hero-grid-card i {
    font-size: 32px !important;
    color: #C44569 !important;
    margin-bottom: 5px !important;
    transition: all 0.2s ease !important;
}

/* Texto dentro dos cards */
.hero-grid-card .hero-card-text,
.hero-grid-card span {
    font-weight: 600 !important;
    color: #555 !important;
    font-size: 0.95rem !important;
    margin: 0 !important;
    transition: all 0.2s ease !important;
}

/* Efeito Hover - Elevação suave */
.hero-grid-card:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 6px 20px rgba(196, 69, 105, 0.25) !important;
}

.hero-grid-card:hover i {
    color: #C44569 !important;
    transform: scale(1.05) !important;
}

.hero-grid-card:hover .hero-card-text,
.hero-grid-card:hover span {
    color: #333 !important;
}

/* 2. BOTÕES DO SIDEBAR - BRANCOS COM ÍCONES ROSAS (SOBRESCREVE REGRA ANTERIOR) */
.sidebar-btn {
    background-color: #ffffff; /* FUNDO BRANCO */
    background: #ffffff; /* FUNDO BRANCO */
    border: 2px solid #F4A6A6; /* BORDA ROSA CLARO */
    border-radius: 12px; /* QUADRADO COM CANTOS SUAVES */
    color: #C44569; /* TEXTO ROSA ESCURO */
    box-shadow: 0 2px 8px rgba(244, 166, 166, 0.1);
    padding: 12px 16px;
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 600;
    transition: all 0.3s ease;
    width: 100%;
    min-height: 48px;
}

/* Ícones do sidebar - ROSA */
.sidebar-btn i {
    color: #F4A6A6; /* ÍCONE ROSA */
    font-size: 1.1rem;
}

/* Hover do sidebar: Fica ROSA com ícones BRANCOS */
.sidebar-btn:hover {
    background-color: #F4A6A6; /* FUNDO ROSA CLARO */
    background: #F4A6A6; /* FUNDO ROSA CLARO */
    border-color: #E8B4B8;
    color: #ffffff; /* TEXTO BRANCO */
    transform: translateX(3px);
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.25);
}

.sidebar-btn:hover i {
    color: #ffffff; /* ÍCONE BRANCO NO HOVER */
}

/* 3. BOTÕES DE SENTIMENTO - BRANCOS COM ÍCONES ROSAS */
.feeling-btn-modern,
.feeling-btn {
    background-color: #ffffff !important; /* FUNDO BRANCO */
    border: 2px solid var(--sophia-pink-light, #F4A6A6) !important; /* BORDA ROSA */
    border-radius: 12px !important; /* QUADRADO COM CANTOS SUAVES */
    color: var(--sophia-pink-dark, #C44569) !important; /* TEXTO ROSA ESCURO */
    box-shadow: 0 2px 8px rgba(244, 166, 166, 0.1) !important;
    padding: 12px 20px !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
    min-height: 48px !important;
}

/* Hover dos sentimentos: Fica ROSA com texto BRANCO */
.feeling-btn-modern:hover,
.feeling-btn:hover {
    background-color: var(--sophia-pink-light, #F4A6A6) !important; /* FUNDO ROSA */
    border-color: var(--sophia-pink-medium, #E8B4B8) !important;
    color: #ffffff !important; /* TEXTO BRANCO */
    transform: translateY(-2px) !important;
    box-shadow: 0 4px 12px rgba(244, 166, 166, 0.25) !important;
}

/* 4. GRID DO MENU PRINCIPAL - ALINHAMENTO PERFEITO */
.hero-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 COLUNAS NO DESKTOP */
    gap: 16px; /* ESPAÇO CONSISTENTE */
    padding: 20px;
    align-items: stretch; /* FORÇA TODOS OS BLOCOS A TEREM A MESMA ALTURA */
    justify-items: stretch;
}

/* Media query movida para o final do arquivo - consolidada com outras regras mobile */

/* 5. REMOVE QUALQUER COR CINZA DOS BOTÕES - REGRAS ESPECÍFICAS */
button.hero-grid-card,
button.sidebar-btn:not(.emergency-btn):not(.sidebar-btn-logout),
button.feeling-btn-modern,
button.feeling-btn,
.btn.hero-grid-card,
.sidebar-btn:not(.emergency-btn):not(.sidebar-btn-logout),
.hero-grid-card,
.feeling-btn-modern,
.feeling-btn {
    background-color: #ffffff;
    background: #ffffff;
    /* Remove qualquer gradiente ou cor cinza */
    background-image: none;
}

/* Garante que não haja cores cinzas escondidas */
button.hero-grid-card *,
button.sidebar-btn:not(.emergency-btn):not(.sidebar-btn-logout) *,
button.feeling-btn-modern *,
.hero-grid-card *,
.sidebar-btn:not(.emergency-btn):not(.sidebar-btn-logout) * {
    color: #C44569;
}

/* ÍCONES ROSAS - Atualizado para novo estilo de cards */
.hero-grid-card i {
    color: #C44569 !important;
    font-size: 32px !important;
}

/* ==========================================================================
   REGRA FINAL - GARANTE CORES CORRETAS
   ========================================================================== */
.hero-grid button.hero-grid-card,
button.hero-grid-card,
.hero-grid .hero-grid-card {
    background-color: #ffffff !important;
    background: #ffffff !important;
    background-image: none !important;
    border: none !important;
    border-radius: 16px !important;
    box-shadow: 0 4px 15px rgba(196, 69, 105, 0.15) !important;
    color: #C44569 !important;
}

.hero-grid button.hero-grid-card i,
button.hero-grid-card i {
    color: #C44569 !important;
    font-size: 32px !important;
}

.sidebar .sidebar-btn:not(.emergency-btn):not(.sidebar-btn-logout),
.sidebar-content .sidebar-btn:not(.emergency-btn):not(.sidebar-btn-logout) {
    background-color: #ffffff;
    background: #ffffff;
    background-image: none;
    border: 2px solid #F4A6A6;
    color: #C44569;
}

.sidebar .sidebar-btn:not(.emergency-btn):not(.sidebar-btn-logout) i,
.sidebar-content .sidebar-btn:not(.emergency-btn):not(.sidebar-btn-logout) i {
    color: #F4A6A6;
}

/* ========================================
   SISTEMA DE BREAKPOINTS MOBILE-FIRST
   ========================================
   PRIORIDADE MÁXIMA: Esta media query está no FINAL do arquivo
   para sobrescrever todas as regras anteriores.
   ======================================== */

/* ===== MEDIA QUERY MOBILE - VERSÃO CONSOLIDADA E LIMPA ===== */
/* PRIORIDADE MÁXIMA: Esta media query está no FINAL do arquivo para sobrescrever todas as regras anteriores */
/* REFATORAÇÃO MOBILE-FIRST: Todos os elementos se adaptam fluidamente de 320px a 768px */
@media (max-width: 768px) {

    /* TESTE REMOVIDO - CSS está sendo lido corretamente */

    /* ========================================
       1. REGRA DE OURO - RESET GLOBAL MOBILE
       ======================================== */
    * {
        box-sizing: border-box !important;
        max-width: 100vw !important; /* Evita scroll horizontal indesejado */
    }

    /* Imagens e Ícones - Responsivos */
    img, svg, .icon, i {
        max-width: 100% !important;
        height: auto !important;
    }

    /* ========================================
       2. ESTRUTURA E SCROLL (Prioridade Máxima)
       ======================================== */
    html, body {
        overflow-x: hidden !important;
        overflow-y: auto !important; /* Habilita o scroll */
        position: static !important; /* Remove travamentos fixos */
        height: auto !important;
        min-height: 100vh;
        width: 100% !important;
        max-width: 100vw !important;
    }

    #main-container, .container {
        width: 100% !important;
        max-width: 100vw !important;
        padding: 0 1rem !important; /* Padding proporcional */
        box-sizing: border-box !important;
        overflow: visible !important; /* Permite que o conteúdo flua */
        position: relative !important; /* Remove position fixed */
        height: auto !important;
        min-height: 100vh !important;
    }

    /* ========================================
       3. Z-INDEX CRÍTICO (Camadas) - CORREÇÃO DO HEADER SOBREPONDO O MENU
       ======================================== */
    /* A Sidebar deve ser o elemento mais alto da tela, sem exceção */
    .sidebar, 
    .mobile-menu-container, 
    .sidebar.open,
    body:has(.sidebar.open) .sidebar,
    body.sidebar-open .sidebar {
        z-index: 2147483647 !important; /* Valor máximo permitido pelo navegador */
        position: fixed !important;
        /* CORREÇÃO: Permite que o conteúdo interno tenha scroll */
        overflow: hidden !important; /* Sidebar container não rola */
        height: 100vh !important;
        max-height: 100vh !important;
    }
    
    /* CORREÇÃO CRÍTICA: Habilita scroll no conteúdo da sidebar no mobile */
    .sidebar-content {
        /* HABILITA SCROLL VERTICAL */
        overflow-y: auto !important; /* Permite rolar o conteúdo */
        overflow-x: hidden !important; /* Impede scroll horizontal */
        /* Altura calculada: 100vh - altura do header (~60px) - altura do input (~100px) para garantir que "Minha Conta" seja visível */
        height: calc(100vh - 70px) !important;
        max-height: calc(100vh - 70px) !important;
        /* Melhora scroll em dispositivos móveis */
        -webkit-overflow-scrolling: touch !important; /* Scroll suave no iOS */
        overscroll-behavior: contain !important; /* Impede scroll do body quando sidebar rola */
        /* Garante que o conteúdo seja scrollável */
        flex: 1 !important;
        min-height: 0 !important; /* Permite que o flex funcione corretamente */
        /* CORREÇÃO CRÍTICA: Padding-bottom EXTRA para garantir que seção "Minha Conta" não fique coberta pelo input */
        padding: 0 1rem calc(2rem + 100px) 1rem !important; /* Padding-bottom aumentado para acomodar altura do input (~100px) */
        /* Background branco */
        background: #ffffff !important;
        /* CORREÇÃO: Garante que sidebar-content fique acima do input */
        position: relative !important;
        z-index: 1 !important; /* Acima do input mas dentro da sidebar (z-index: 2147483647) */
    }
    
    /* CORREÇÃO CRÍTICA: Garante que seções da sidebar fiquem acima do input no mobile */
    .sidebar-content .sidebar-section {
        position: relative !important;
        z-index: 1 !important; /* Acima do input (z-index: 0 ou 1 quando sidebar aberta) */
    }

    /* O Header deve ficar abaixo da Sidebar - ESPECIALMENTE quando o menu está aberto */
    .header-modern, 
    .header-modern-content, 
    header,
    .header {
        z-index: 99 !important; /* Bem menor que a sidebar */
        position: relative !important; /* Evita que fique 'pregado' por cima de tudo se não for sticky */
    }
    
    /* CORREÇÃO CRÍTICA: Quando sidebar está aberto, header DEVE ficar abaixo */
    body:has(.sidebar.open) .header-modern,
    body:has(.sidebar.open) .header-modern-content,
    body:has(.sidebar.open) header,
    body:has(.sidebar.open) .header,
    body.sidebar-open .header-modern,
    body.sidebar-open .header-modern-content,
    body.sidebar-open header,
    body.sidebar-open .header,
    .sidebar.open ~ .header-modern,
    .sidebar.open ~ .header-modern-content,
    .sidebar.open ~ header,
    .sidebar.open ~ .header {
        z-index: 50 !important; /* MUITO menor que sidebar (2147483647) */
        position: relative !important; /* Remove position fixed/sticky quando menu está aberto */
    }
    
    /* CORREÇÃO CRÍTICA: Input do chat DEVE ficar abaixo da sidebar quando ela está aberta */
    /* REGRA ULTRA ESPECÍFICA com máxima prioridade - sobrescreve TODAS as outras regras */
    /* PRIORIDADE MÁXIMA: Esta regra deve sobrescrever QUALQUER outra regra de z-index */
    /* CORRIGE: div.input-area E div.input-container devem ficar ATRÁS da sidebar */
    body:has(.sidebar.open) .input-area,
    body.sidebar-open .input-area,
    body:has(.sidebar.open) body.device-mobile .input-area,
    body.sidebar-open body.device-mobile .input-area,
    .sidebar.open ~ .input-area,
    body:has(#sidebar.open) .input-area,
    #sidebar.open ~ .input-area,
    body:has(.sidebar.open) div.input-area,
    body.sidebar-open div.input-area,
    .sidebar.open ~ div.input-area,
    body:has(.sidebar.open) .chat-container .input-area,
    body.sidebar-open .chat-container .input-area,
    .sidebar.open ~ .chat-container .input-area,
    .sidebar.open ~ * .input-area,
    /* CORREÇÃO: Também corrige div.input-container para ficar atrás da sidebar */
    body:has(.sidebar.open) .input-container,
    body.sidebar-open .input-container,
    body:has(.sidebar.open) div.input-container,
    body.sidebar-open div.input-container,
    .sidebar.open ~ .input-container,
    .sidebar.open ~ div.input-container,
    body:has(.sidebar.open) .chat-container .input-container,
    body.sidebar-open .chat-container .input-container,
    .sidebar.open ~ .chat-container .input-container,
    /* ESPECIFICIDADE EXTRA: Para garantir que sobrescreva regras body.device-mobile */
    body.device-mobile body:has(.sidebar.open) .input-area,
    body.device-mobile body.sidebar-open .input-area,
    body.device-mobile body:has(.sidebar.open) .input-container,
    body.device-mobile body.sidebar-open .input-container {
        z-index: 0 !important; /* Z-index ZERO quando sidebar aberta - FORÇA COMPLETAMENTE atrás da sidebar (2147483647) */
        /* Garante que NÃO sobreponha NADA da sidebar, incluindo div.sidebar-section "Minha Conta" */
        /* IMPORTANTE: Z-index 0 é muito menor que sidebar (2147483647) e garante que fique ATRÁS de todas as seções */
    }
    
    /* Se o Header for sticky/fixed, garanta que ele não cubra o menu */
    .header-modern.sticky, 
    .header-modern[style*="position: sticky"], 
    .header-modern[style*="position: fixed"],
    header[style*="position: sticky"],
    header[style*="position: fixed"] {
        z-index: 99 !important;
    }
    
    /* CORREÇÃO EXTRA: Header sticky/fixed quando sidebar aberto */
    body:has(.sidebar.open) .header-modern.sticky,
    body:has(.sidebar.open) .header-modern[style*="position: sticky"],
    body:has(.sidebar.open) .header-modern[style*="position: fixed"],
    body.sidebar-open .header-modern.sticky,
    body.sidebar-open .header-modern[style*="position: sticky"],
    body.sidebar-open .header-modern[style*="position: fixed"] {
        z-index: 50 !important; /* Força z-index baixo quando menu está aberto */
    }

    /* ========================================
       4. TIPOGRAFIA FLUIDA (Clamp) - FIM DOS TEXTOS GIGANTES
       ======================================== */
    /* Títulos */
    h1, .welcome-hero-title, #main-container h1, body #main-container h1 {
        font-size: clamp(20px, 5vw, 28px) !important;
        line-height: 1.3 !important;
        margin-top: 1.5rem !important; /* Espaço superior para baixar o texto dentro do container no mobile */
    }
    
    /* Regra específica para .welcome-hero-title no mobile */
    .welcome-content .welcome-hero-title,
    .welcome-hero-card .welcome-hero-title {
        margin-top: 1.5rem !important; /* Espaço superior para baixar o texto dentro do container no mobile */
    }
    
    h2, .welcome-hero-subtitle, #main-container h2, body #main-container h2 {
        font-size: clamp(18px, 4vw, 24px) !important;
        line-height: 1.4 !important;
    }

    h3, .welcome-hero-subtitle h3, #main-container h3 {
        font-size: clamp(16px, 3.5vw, 20px) !important;
        line-height: 1.4 !important;
    }
    
    /* Texto geral */
    p, span, li, a, .welcome-content p, #main-container p, body #main-container p {
        font-size: clamp(14px, 4vw, 16px) !important;
        line-height: 1.5 !important;
    }

    /* Menu items */
    .menu-item, .sidebar-btn, .sidebar-content a {
        font-size: clamp(14px, 3.5vw, 16px) !important;
        line-height: 1.5 !important;
    }
    
    /* Botões - Tipografia fluida */
    .btn, button, .btn-sophia, .hero-grid-card span, .hero-grid-card .hero-card-text {
        font-size: clamp(12px, 3vw, 14px) !important;
        line-height: 1.4 !important;
    }
    
    /* Cards - Padding proporcional */
    .card, .welcome-hero-card, .welcome-content {
        padding: clamp(12px, 3vw, 20px) !important;
        width: 100% !important;
        max-width: 100% !important;
    }

    /* ========================================
       5. CONTÊINERES E SEÇÕES - 100% RESPONSIVOS
       ======================================== */
    /* Container Principal */
    .container, #main-container, .chat-container {
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 1rem !important; /* Respiro lateral proporcional */
    }

    /* Cards e Boxes - Nunca tamanho fixo */
    .card, .box, .welcome-hero-card, .hospital-card, .location-card {
        width: 100% !important;
        max-width: 100% !important;
        min-width: 0 !important; /* Permite que encolha */
    }

    /* ========================================
       6. TOGGLEBAR / MENU LATERAL (Sidebar)
       ======================================== */
    .sidebar, .mobile-menu-container {
        max-width: 85vw !important; /* 85% da tela */
        width: 85vw !important;
    }

    /* Botões internos da sidebar */
    .sidebar-btn, .sidebar-content button, .sidebar-content a {
        width: 100% !important;
        max-width: 100% !important;
        font-size: clamp(14px, 3.5vw, 16px) !important;
        padding: clamp(10px, 2.5vw, 14px) clamp(12px, 3vw, 18px) !important;
        white-space: normal !important; /* Permite quebra de linha */
        word-wrap: break-word !important;
    }

    /* ========================================
       7. SEÇÃO DE EMERGÊNCIA
       ======================================== */
    .emergency-section, .emergency-buttons, .cvv-disclaimer-footer {
        display: flex !important;
        flex-direction: column !important; /* Empilha em telas pequenas */
        gap: clamp(8px, 2vw, 12px) !important;
        width: 100% !important;
    }

    /* Botões de emergência */
    .emergency-btn, .btn-emergency, .emergency-section button, .emergency-section a {
        width: 100% !important;
        min-height: 44px !important; /* Tamanho de toque amigável */
        padding: clamp(10px, 2.5vw, 14px) clamp(12px, 3vw, 18px) !important;
        font-size: clamp(14px, 3.5vw, 16px) !important;
        white-space: normal !important;
        word-wrap: break-word !important;
    }

    /* ========================================
       8. LOCALIZADOR E MAPAS
       ======================================== */
    /* Cards de endereço */
    .hospital-card, .location-card, .address-card {
        width: 100% !important;
        max-width: 100% !important;
        padding: clamp(12px, 3vw, 16px) !important;
        margin-bottom: clamp(12px, 3vw, 16px) !important;
    }

    /* Informações do hospital/localização */
    .hospital-info, .location-info, .address-info {
        width: 100% !important;
        max-width: 100% !important;
    }

    /* Botões de ação (Ver Rota, Ligar) */
    .hospital-actions, .location-actions {
        display: flex !important;
        flex-wrap: wrap !important; /* Permite empilhar se faltar espaço */
        gap: clamp(8px, 2vw, 12px) !important;
        width: 100% !important;
    }

    .hospital-route-btn, .hospital-map-btn, .hospital-call-btn,
    .location-route-btn, .location-call-btn {
        min-height: 44px !important; /* Tamanho de toque amigável */
        padding: clamp(10px, 2.5vw, 14px) clamp(12px, 3vw, 18px) !important;
        font-size: clamp(12px, 3vw, 14px) !important;
        flex: 1 1 auto !important; /* Permite que estiquem ou encolham */
        min-width: calc(50% - 6px) !important; /* Lado a lado se houver espaço */
        white-space: normal !important;
        word-wrap: break-word !important;
    }
    
    /* Em telas muito pequenas (< 375px), empilha completamente - Aplicado diretamente */
    /* NOTA: Media query aninhada removida - regras aplicadas condicionalmente */
    /* Se a tela for menor que 375px, flex-wrap já força a quebra */

    /* ========================================
       9. BOTÕES GERAIS - PADDING PROPORCIONAL
       ======================================== */
    .btn, button, .btn-sophia, .hero-grid-card {
        padding: clamp(0.6em, 2vw, 0.8em) clamp(1em, 3vw, 1.5em) !important; /* Padding proporcional */
        min-height: 44px !important; /* Tamanho de toque amigável */
        font-size: clamp(12px, 3vw, 14px) !important;
        white-space: normal !important; /* Permite quebra de linha */
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }

    /* ========================================
       9.1. BOTÃO SOPHIA (#start-chat-btn) - CÓDIGO CONSOLIDADO FINAL
       ======================================== */
    /* --- 1. O CONTAINER PAI (Desbloqueia a largura) --- */
    div.start-chat-container,
    .start-chat-container {
        width: 100% !important;
        max-width: 100% !important;
        display: flex !important;
        justify-content: center !important;
        align-items: center !important;
        padding: 0 !important;
        margin: 0 !important;
        box-sizing: border-box !important;
    }

    /* --- 2. O BOTÃO (Estrutura e Posição) - FORÇA MÁXIMA COM !important --- */
    /* ESPECIFICIDADE MÁXIMA: body + media query + múltiplos seletores + !important */
    body button#start-chat-btn.btn.btn-start-chat,
    body #start-chat-btn,
    body .btn-start-chat,
    button#start-chat-btn.btn.btn-start-chat,
    #start-chat-btn,
    .btn-start-chat {
        /* CORREÇÃO DE CONTRASTE: Fundo branco */
        background-color: #ffffff !important; /* Fundo Branco */
        
        /* Centralização no elemento pai (botão rosa) */
        display: flex !important;
        justify-content: center !important; /* Centraliza horizontalmente */
        align-items: center !important;     /* Centraliza verticalmente */
        
        /* Tamanho (defina no botão, não no texto) */
        height: 50px !important;
        width: 100% !important;
        max-width: 260px !important; /* Largura segura para mobile */
        
        /* Posição */
        margin: 20px auto 30px auto !important; /* Centraliza horizontalmente */
        
        /* Reset de espaçamento */
        padding: 0 !important;
        box-sizing: border-box !important;
        min-height: 0 !important;
        max-height: none !important;
        font-size: clamp(12px, 3vw, 14px) !important;
        
        /* Override qualquer regra anterior que possa estar interferindo */
        min-width: 0 !important;
        white-space: normal !important;
        text-align: center !important;
    }
    
    /* Remove elementos fantasmas que podem interferir */
    button#start-chat-btn::before, 
    button#start-chat-btn::after,
    #start-chat-btn::before,
    #start-chat-btn::after,
    .btn-start-chat::before,
    .btn-start-chat::after {
        content: none !important;
        display: none !important;
        width: 0 !important;
        height: 0 !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    /* --- 3. O TEXTO (Centralizado Perfeitamente) - ÍCONE REMOVIDO --- */
    /* ESPECIFICIDADE MÁXIMA: body + media query + múltiplos seletores + !important */
    body button#start-chat-btn.btn.btn-start-chat span,
    body #start-chat-btn span,
    body button#start-chat-btn span,
    body .btn-start-chat span,
    #start-chat-btn span,
    button#start-chat-btn span,
    .btn-start-chat span {
        /* CORREÇÃO DE ALINHAMENTO: Centralização perfeita do texto */
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
        
        /* Remove TODAS as margens e paddings que deslocam o conteúdo */
        margin: 0 !important;
        padding: 0 !important;
        
        /* Propriedades para centralização */
        flex: 0 0 auto !important;
        position: static !important;
        
        /* Zera interferências */
        line-height: 1.4 !important;
        white-space: nowrap !important;
        color: white !important;
    }
    
    /* CORREÇÃO CRÍTICA: Força cor branca em TODOS os elementos filhos do span também */
    body #start-chat-btn span *,
    body button#start-chat-btn span *,
    #start-chat-btn span *,
    button#start-chat-btn span * {
        color: white !important;
        text-align: center !important;
    }
    
    /* Mostra o ícone e centraliza */
    #start-chat-btn i,
    #start-chat-btn svg,
    button#start-chat-btn i,
    button#start-chat-btn svg {
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        color: white !important;
    }
    
    /* ========================================
       9.3. CONTAINER PAI DO CARTÃO (Card/Content)
       ======================================== */
    /* Cartão branco onde está o botão - Cria "chão" extra para evitar corte e cobrir área verde */
    .welcome-content,
    .welcome-hero-card,
    .welcome-message .welcome-content,
    .welcome-message {
        /* CORREÇÃO: Aumenta padding-bottom para ocupar mais espaço vertical e cobrir área verde vazia */
        padding-bottom: 120px !important; /* Aumentado de 50px para 120px */
        
        /* Garante altura mínima para ocupar mais espaço vertical */
        min-height: calc(100vh - 200px) !important; /* Ocupa mais espaço vertical */
        
        /* Garante que se sobrar conteúdo, cria barra de rolagem */
        overflow-y: auto !important;
        
        /* Se o layout for Flexbox, isso impede que o botão estique infinitamente */
        align-items: center !important;
        
        box-sizing: border-box !important;
    }
    
    /* Se o container já for flexbox, garante o alinhamento */
    .welcome-content[style*="display: flex"],
    .welcome-hero-card[style*="display: flex"],
    .welcome-content:has(#start-chat-btn) {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
    }

    /* ========================================
       10. SIMETRIA DOS BOTÕES DO GRID
       ======================================== */
    /* Grid do menu principal - 2 colunas no mobile */
    .hero-grid {
        display: grid !important; /* FORÇA GRID */
        grid-template-columns: repeat(2, 1fr) !important; /* 2 COLUNAS NO MOBILE */
        gap: clamp(8px, 2vw, 12px) !important;
        padding: clamp(10px, 2.5vw, 15px) !important;
        width: 100% !important;
        max-width: 100% !important;
        /* CORREÇÃO CRÍTICA: Força todos os itens do grid a terem a mesma altura */
        align-items: stretch !important; /* ESTICA TODOS OS BOTÕES PARA MESMA ALTURA */
        justify-items: stretch !important; /* ESTICA LARGURA TAMBÉM */
    }
    
    /* Garante que todos os botões do grid tenham a mesma altura - TAMANHO FIXO IGUAL */
    /* REGRA ULTRA ESPECÍFICA para sobrescrever qualquer regra desktop */
    .hero-grid .hero-grid-card,
    button.hero-grid-card,
    #btn-guias,
    #btn-gestacao,
    #btn-posparto,
    #btn-vacinas {
        /* CORREÇÃO: Altura fixa igual para TODOS os botões (incluindo "Guias Práticos" com 2 linhas) */
        height: 85px !important; /* Altura fixa que acomoda 2 linhas de texto */
        min-height: 85px !important; /* Força altura mínima igual */
        max-height: 85px !important; /* Força altura máxima igual - TODOS IGUAIS */
        min-width: 0 !important; /* Permite encolher */
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        width: 100% !important;
        max-width: 100% !important;
        text-align: center !important;
        padding: 10px 8px !important; /* Padding reduzido para acomodar conteúdo melhor */
        box-sizing: border-box !important;
        /* CRÍTICO: Remove qualquer altura fixa anterior que possa interferir */
        line-height: 1.2 !important; /* Reduz espaço entre linhas */
        overflow: hidden !important; /* Evita que conteúdo extra saia do botão */
    }
    
    .hero-grid-card i {
        font-size: clamp(24px, 6vw, 32px) !important; /* Ícone fluido */
        color: #C44569 !important;
    }
    
    .hero-grid-card .hero-card-text,
    .hero-grid-card span {
        font-size: clamp(11px, 2.5vw, 14px) !important; /* Texto fluido */
        color: #555 !important;
        line-height: 1.2 !important; /* Reduzido para acomodar 2 linhas melhor */
        margin: 0 !important;
        padding: 0 !important;
        text-align: center !important;
        /* Permite quebra de linha mas mantém compacto */
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }
}

/* TESTE MOBILE CARREGADO - Se você ver este comentário, o CSS mobile está sendo lido */

/* TESTE FINAL DO ARQUIVO - Se este comentário aparecer no DevTools, o arquivo está sendo lido completamente */

/* TESTE DE SINTAXE - Se houver erro antes desta linha, o navegador não lerá nada abaixo */

/* ========================================
   MEDIA QUERY PARA TELAS MUITO PEQUENAS (< 375px)
   ======================================== */
/* REGRA SEPARADA: Media query não pode ser aninhada dentro de outra */
@media (max-width: 375px) {
    /* Em telas muito pequenas, empilha botões de ação completamente */
    .hospital-actions, .location-actions {
        flex-direction: column !important;
    }

    .hospital-route-btn, .hospital-map-btn, .hospital-call-btn,
    .location-route-btn, .location-call-btn {
        width: 100% !important;
        min-width: 100% !important;
    }
}

/* ========================================
   CORREÇÃO FINAL CRÍTICA: Z-INDEX INPUT ATRÁS DA SIDEBAR
   Máxima especificidade - REGRA FINAL DO ARQUIVO
   Garante que input-area e input-container SEMPRE fiquem
   ATRÁS da sidebar quando ela está aberta
   ======================================== */
/* PRIORIDADE ABSOLUTA: Esta regra está no FINAL do arquivo para sobrescrever TODAS as outras */
/* CORRIGE position: fixed + z-index para garantir que fique atrás da sidebar */
body:has(.sidebar.open) div.input-area[data-form-type="chat"],
body.sidebar-open div.input-area[data-form-type="chat"],
body:has(.sidebar.open) div.input-area,
body.sidebar-open div.input-area,
body:has(.sidebar.open) div.input-container,
body.sidebar-open div.input-container,
body:has(#sidebar.open) div.input-area,
body:has(#sidebar.open) div.input-container,
#sidebar.open ~ div.input-area,
#sidebar.open ~ div.input-container,
body.device-mobile:has(.sidebar.open) div.input-area,
body.device-mobile.sidebar-open div.input-area,
body.device-mobile:has(.sidebar.open) div.input-container,
body.device-mobile.sidebar-open div.input-container,
body:has(.sidebar.open) .chat-container div.input-area,
body.sidebar-open .chat-container div.input-area,
body:has(.sidebar.open) .chat-container div.input-container,
body.sidebar-open .chat-container div.input-container,
/* ESPECIFICIDADE MÁXIMA: Mesmo com position: fixed, z-index deve ser respeitado */
body:has(.sidebar.open) div.input-area[data-form-type="chat"][style*="position: fixed"],
body.sidebar-open div.input-area[data-form-type="chat"][style*="position: fixed"] {
    z-index: 0 !important; /* Z-index ZERO - FORÇA atrás da sidebar (2147483647) */
    /* IMPORTANTE: Mantém position: fixed para não quebrar layout, mas z-index menor */
}

/* CORREÇÃO EXTRA: Garante que sidebar-content e sidebar-section SEMPRE fiquem acima do input */
.sidebar.open .sidebar-content,
.sidebar.open .sidebar-content .sidebar-section,
#sidebar.open .sidebar-content,
#sidebar.open .sidebar-content .sidebar-section,
body:has(.sidebar.open) .sidebar-content,
body:has(.sidebar.open) .sidebar-content .sidebar-section,
body.sidebar-open .sidebar-content,
body.sidebar-open .sidebar-content .sidebar-section,
.sidebar.open .sidebar-content .sidebar-section h4,
body:has(.sidebar.open) .sidebar-content .sidebar-section h4 {
    position: relative !important;
    z-index: 2147483646 !important; /* Quase o máximo, mas dentro da sidebar (2147483647) */
}

/* Badge admin (geo health) – aparece com ?admin=1 */
#sophia-admin-badge.sophia-badge {
    position: fixed;
    right: 12px;
    bottom: 12px;
    z-index: 9999;
    font: 12px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    padding: 8px 36px 8px 10px;
    border-left: 4px solid #2563eb;
    background: #eff6ff;
    color: #1e3a8a;
    border-radius: 8px;
    box-shadow: 0 6px 24px rgba(0,0,0,.12);
    max-width: 70vw;
    white-space: normal;
}
#sophia-admin-badge.sophia-badge.warn {
    border-left-color: #f59e0b;
    background: #fffbeb;
    color: #92400e;
}
#sophia-admin-badge .sophia-badge-close {
    position: absolute;
    right: 6px;
    top: 6px;
    background: transparent;
    border: 0;
    color: inherit;
    font-size: 14px;
    cursor: pointer;
}
#sophia-admin-badge #spb-qa a {
    color: inherit;
    text-decoration: underline;
}

/* Perf badge (admin-only: ?admin=1) – start • boot • first + botão ↻ refresh overrides */
#sophia-perf-badge {
    position: fixed;
    left: 12px;
    bottom: 12px;
    z-index: 9999;
    padding: 8px 40px 8px 10px;
    max-width: 70vw;
    border-radius: 8px;
    font: 12px/1.2 system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Arial, sans-serif;
    color: #0f172a;
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.12);
    border-left: 4px solid #2563eb;
    background: #eff6ff;
}
#sophia-perf-badge .spb-line {
    font-weight: 600;
    margin-bottom: 2px;
    color: #1e3a8a;
}
#sophia-perf-badge .spb-sub {
    color: #334155;
    opacity: 0.9;
}
#sophia-perf-badge .spb-actions {
    position: absolute;
    right: 6px;
    top: 6px;
    display: flex;
    gap: 6px;
}
#sophia-perf-badge .spb-btn {
    background: transparent;
    border: 0;
    color: inherit;
    cursor: pointer;
    width: 22px;
    height: 22px;
    border-radius: 4px;
    font-size: 14px;
    line-height: 20px;
}
#sophia-perf-badge .spb-btn:disabled {
    opacity: 0.6;
    cursor: default;
}
#sophia-perf-badge.sophia-perf-badge-ok {
    border-left-color: #16a34a;
    background: #ecfdf5;
    color: #064e3b;
}
#sophia-perf-badge.sophia-perf-badge-warn {
    border-left-color: #eab308;
    background: #fffbeb;
    color: #92400e;
}
#sophia-perf-badge.sophia-perf-badge-bad {
    border-left-color: #dc2626;
    background: #fef2f2;
    color: #991b1b;
}
